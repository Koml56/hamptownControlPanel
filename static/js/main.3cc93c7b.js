/*! For license information please see main.3cc93c7b.js.LICENSE.txt */
(()=>{var e={11:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],i=t(a);n.has(i)||n.set(i,a)}return Array.from(n.values())}},184:(e,t,n)=>{var r=n(2022),a=n(9248);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},225:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},402:(e,t,n)=>{"use strict";n.d(t,{J3:()=>a,f3:()=>i});var r=n(4631);class a{static async withErrorHandling(e,t,n){try{return await e()}catch(r){return console.error("\u274c Error in ".concat(t,":"),r),r instanceof Error&&console.error("Stack trace:",r.stack),void 0!==n?(console.log("\ud83d\udd04 Using fallback value for ".concat(t)),n):null}}static async retryOperation(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=new Error("Unknown error");for(let o=1;o<=n;o++)try{return await e()}catch(i){a=i,console.warn("\u26a0\ufe0f Attempt ".concat(o,"/").concat(n," failed:"),i),o<n&&await new Promise(e=>setTimeout(e,r*o))}throw new Error((null===(t=a)||void 0===t?void 0:t.message)||"Operation failed after retries")}}const i=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"System";try{const{FirebaseService:i}=await Promise.resolve().then(n.bind(n,7658)),o=new i,s=(0,r.Ir)(e,t,void 0,a),l={snapshotId:"".concat(t,"_").concat(s.date.replace(/-/g,"")),date:s.date,frequency:s.frequency,snapshot:s};return await o.saveStockCountSnapshot(l),l}catch(i){throw console.error("\u274c Error creating ".concat(t," snapshot:"),i),i}}},515:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5628),a=n(9190),i=n(9223),o=n(3470),s=n(9115);function l(e,t,n,r,a,i,o){const s=o(e,t,n,r,a,i);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,o)}return c(e,t,i,o)}function c(e,t,n,u){if(Object.is(e,t))return!0;let d=i.getTag(e),h=i.getTag(t);if(d===o.argumentsTag&&(d=o.objectTag),h===o.argumentsTag&&(h=o.objectTag),d!==h)return!1;switch(d){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const f=(n=null!==n&&void 0!==n?n:new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(d){case o.mapTag:if(e.size!==t.size)return!1;for(const[r,a]of e.entries())if(!t.has(r)||!l(a,t.get(r),r,e,t,n,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<r.length;i++){const o=r[i],s=a.findIndex(r=>l(o,r,void 0,e,t,n,u));if(-1===s)return!1;a.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],o=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==o.length)return!1;for(let r=0;r<i.length;r++){const a=i[r],o=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(o,t[a],a,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},759:(e,t,n)=>{"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return s(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),o(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},815:(e,t,n)=>{"use strict";n.d(t,{Wp:()=>r.Wp});var r=n(913);(0,r.KO)("firebase","11.10.0","app")},830:(e,t,n)=>{e.exports=n(5497).sortBy},913:(e,t,n)=>{"use strict";n.d(t,{MF:()=>de,j6:()=>oe,xZ:()=>se,om:()=>ie,Sx:()=>fe,Wp:()=>he,KO:()=>pe});var r=n(7253),a=n(4624),i=n(6170),o=n(9379);let s,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),v(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const i=e.call(y(this),t,...r);return d.set(i,t.sort?t.sort():[t]),v(i)}}function g(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});u.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function v(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(v(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const y=e=>f.get(e);const b=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],w=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!b.includes(n))return;const i=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),a&&t.done]))[0]};return w.set(t,i),i}p=(e=>(0,o.A)((0,o.A)({},e),{},{get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(p);class k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const N="@firebase/app",_="0.13.2",j=new a.Vy("@firebase/app"),C="@firebase/app-compat",E="@firebase/analytics-compat",T="@firebase/analytics",A="@firebase/app-check-compat",O="@firebase/app-check",I="@firebase/auth",P="@firebase/auth-compat",D="@firebase/database",M="@firebase/data-connect",R="@firebase/database-compat",L="@firebase/functions",F="@firebase/functions-compat",U="@firebase/installations",z="@firebase/installations-compat",B="@firebase/messaging",W="@firebase/messaging-compat",H="@firebase/performance",V="@firebase/performance-compat",q="@firebase/remote-config",K="@firebase/remote-config-compat",Y="@firebase/storage",G="@firebase/storage-compat",$="@firebase/firestore",X="@firebase/ai",Q="@firebase/firestore-compat",J="firebase",Z="[DEFAULT]",ee={[N]:"fire-core",[C]:"fire-core-compat",[T]:"fire-analytics",[E]:"fire-analytics-compat",[O]:"fire-app-check",[A]:"fire-app-check-compat",[I]:"fire-auth",[P]:"fire-auth-compat",[D]:"fire-rtdb",[M]:"fire-data-connect",[R]:"fire-rtdb-compat",[L]:"fire-fn",[F]:"fire-fn-compat",[U]:"fire-iid",[z]:"fire-iid-compat",[B]:"fire-fcm",[W]:"fire-fcm-compat",[H]:"fire-perf",[V]:"fire-perf-compat",[q]:"fire-rc",[K]:"fire-rc-compat",[Y]:"fire-gcs",[G]:"fire-gcs-compat",[$]:"fire-fst",[Q]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ae(e,t){try{e.container.addComponent(t)}catch(n){j.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ie(e){const t=e.name;if(re.has(t))return j.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ae(n,e);for(const n of ne.values())ae(n,e);return!0}function oe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function se(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new i.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="11.10.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const a=Object.assign({name:Z,automaticDataCollectionEnabled:!0},t),o=a.name;if("string"!==typeof o||!o)throw ce.create("bad-app-name",{appName:String(o)});if(n||(n=(0,i.T9)()),!n)throw ce.create("no-options");const s=te.get(o);if(s){if((0,i.bD)(n,s.options)&&(0,i.bD)(a,s.config))return s;throw ce.create("duplicate-app",{appName:o})}const l=new r.h1(o);for(const r of re.values())l.addComponent(r);const c=new ue(n,a,l);return te.set(o,c),c}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const t=te.get(e);if(!t&&e===Z&&(0,i.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var a;let i=null!==(a=ee[e])&&void 0!==a?a:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void j.warn(e.join(" "))}ie(new r.uA("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const me="firebase-heartbeat-store";let ge=null;function ve(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=v(o);return r&&o.addEventListener("upgradeneeded",e=>{r(v(o.result),e.oldVersion,e.newVersion,v(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(me)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),ge}async function ye(e,t){try{const n=(await ve()).transaction(me,"readwrite"),r=n.objectStore(me);await r.put(t,be(e)),await n.done}catch(n){if(n instanceof i.g)j.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});j.warn(e.message)}}}function be(e){return"".concat(e.name,"!").concat(e.options.appId)}class xe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Se(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=we();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){j.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=we(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),ke(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ke(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=(0,i.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return j.warn(t),""}}}function we(){return(new Date).toISOString().substring(0,10)}class Se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.zW)()&&(0,i.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ve()).transaction(me),n=await t.objectStore(me).get(be(e));return await t.done,n}catch(t){if(t instanceof i.g)j.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});j.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ke(e){return(0,i.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ne;Ne="",ie(new r.uA("platform-logger",e=>new k(e),"PRIVATE")),ie(new r.uA("heartbeat",e=>new xe(e),"PRIVATE")),pe(N,_,Ne),pe(N,_,"esm2017"),pe("fire-js","")},1047:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},1083:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},1098:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},1111:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},1214:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},1311:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=n(5399),i=n(3539),o=n(1214),s=n(9115);function l(e,t,n,a){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===n(e.get(a),i,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let i=0;i<a.length;i++){const s=a[i];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,a);case"function":return Object.keys(t).length>0?l(e,r({},t),n,a):s.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const o=t[i];let s=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],o,i,e,t,r)&&(c=!0),c){a.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?a.isMatch(e,t):l(e,t,function e(t,r,a,i,o,s){const c=n(t,r,a,i,o,s);return void 0!==c?Boolean(c):l(t,r,e,s)},new Map)},t.isSetMatch=u},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1558:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},1581:(e,t,n)=>{var r=n(4635),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},1640:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1810),a=n(5825),i=n(3679),o=n(4090);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},1670:(e,t,n)=>{"use strict";n.d(t,{Lz:()=>l,V0:()=>a,c8:()=>s,ch:()=>c,cw:()=>i,ex:()=>o});var r=n(9379);const a=(e,t)=>{if(0===t)return"unknown";const n=e/t*100;return 0===e?"out":n<=20?"critical":n<=50?"low":"ok"},i=function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;if(!r||0===r)return Math.max(0,n-e);const i=(n||2*t)-e+r*a;return Math.max(0,Math.ceil(i))},o=(e,t)=>{if(e.length<2)return 0;const n={daily:7,weekly:28,monthly:90,database:30,outofstock:30}[t],r=new Date;r.setDate(r.getDate()-n);const a=e.filter(e=>e.date>r);if(0===a.length)return 0;return a.reduce((e,t)=>e+t.consumed,0)/Math.ceil(((new Date).getTime()-a[0].date.getTime())/864e5)},s=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o={itemId:e.id.toString(),date:new Date,previousStock:e.currentStock,currentStock:t,consumed:Math.max(0,e.currentStock-t+i),received:i},s=[...e.consumptionHistory||[],o];s.length>100&&s.splice(0,s.length-100);let l=e.orderedStatus;if(null!==(n=e.orderedStatus)&&void 0!==n&&n.isOrdered&&t>e.currentStock){const n=a(t,e.minLevel);"ok"!==n&&"low"!==n||(l=void 0)}return{updatedItem:(0,r.A)((0,r.A)({},e),{},{currentStock:t,lastUsed:(new Date).toISOString(),consumptionHistory:s,optimalLevel:e.optimalLevel||2*e.minLevel,orderedStatus:l}),consumptionEntry:o}},l=(e,t,n)=>e.map(e=>{const a=t.indexOf(e.id.toString());return-1===a?e:(0,r.A)((0,r.A)({},e),{},{orderedStatus:{isOrdered:!0,orderedDate:new Date,orderedQuantity:n[a],expectedDelivery:new Date(Date.now()+2592e5)}})}),c=(e,t)=>t<=0||e<=0?0:Math.floor(e/t)},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,P(S);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(j),j=-1),p=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&a(c),x(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,_=null,j=-1,C=5,E=-1;function T(){return!(t.unstable_now()-E<C)}function A(){if(null!==_){var e=t.unstable_now();E=e;var n=!0;try{n=_(!0,e)}finally{n?k():(N=!1,_=null)}}else N=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,I=O.port2;O.port1.onmessage=A,k=function(){I.postMessage(null)}}else k=function(){v(A,0)};function P(e){_=e,N||(N=!0,k())}function D(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(j),j=-1):g=!0,D(w,i-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},1810:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},1921:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},2022:(e,t,n)=>{var r=n(4635),a=n(1581),i=n(5336),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!N.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+E(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),T(o,t,a,"",function(e){return e})):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+E(s=e[c],c);l+=T(s,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,a,u=i+E(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},2239:(e,t,n)=>{e.exports=n(7384).uniqBy},2540:(e,t,n)=>{e.exports=n(3177).isPlainObject},2578:(e,t,n)=>{"use strict";n.d(t,{C3:()=>ja,AU:()=>wa,Zy:()=>xa,KR:()=>ma});var r=n(913),a=n(7253),i=n(6170),o=n(4624);const s="@firebase/database",l="1.0.20";let c="";function u(e){c=e}class d{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,i.As)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,i.$L)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class h{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,i.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new d(t)}}catch(t){}return new h},p=f("localStorage"),m=f("sessionStorage"),g=new o.Vy("@firebase/database"),v=function(){let e=1;return function(){return e++}}(),y=function(e){const t=(0,i.kj)(e),n=new i.gz;n.update(t);const r=n.digest();return i.K3.encodeByteArray(r)},b=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=b.apply(null,n):e+="object"===typeof n?(0,i.As)(n):n,e+=" "}return e};let x=null,w=!0;const S=function(e,t){(0,i.vA)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=o.$b.VERBOSE,x=g.log.bind(g),t&&m.set("logging_enabled",!0)):"function"===typeof e?x=e:(x=null,m.remove("logging_enabled"))},k=function(){if(!0===w&&(w=!1,null===x&&!0===m.get("logging_enabled")&&S(!0)),x){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=b.apply(null,t);x(r)}},N=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];k(e,...n)}},_=function(){const e="FIREBASE INTERNAL ERROR: "+b(...arguments);g.error(e)},j=function(){const e="FIREBASE FATAL ERROR: ".concat(b(...arguments));throw g.error(e),new Error(e)},C=function(){const e="FIREBASE WARNING: "+b(...arguments);g.warn(e)},E=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",A="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===T||t===A)return-1;if(t===T||e===A)return 1;{const n=U(e),r=U(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},I=function(e,t){return e===t?0:e<t?-1:1},P=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,i.As)(t))},D=function(e){if("object"!==typeof e||null===e)return(0,i.As)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,i.As)(t[r]),n+=":",n+=D(e[t[r]]);return n+="}",n},M=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let a=0;a<n;a+=t)a+t>n?r.push(e.substring(a,n)):r.push(e.substring(a,a+t));return r};function R(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const L=function(e){(0,i.vA)(!E(e),"Invalid JSON number");const t=1023;let n,r,a,o,s;0===e?(r=0,a=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,a=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,a=Math.round(e/Math.pow(2,-1074))));const l=[];for(s=52;s;s-=1)l.push(a%2?1:0),a=Math.floor(a/2);for(s=11;s;s-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(n?1:0),l.reverse();const c=l.join("");let u="";for(s=0;s<64;s+=8){let e=parseInt(c.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const F=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(F.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},z=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw C("Exception was thrown by user callback.",e),t},Math.floor(0))}},B=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class W{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,(0,r.xZ)(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){C('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class H{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',C(e)}}class V{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}V.OWNER="owner";const q="5",K=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="ac",G="websocket",$="long_polling";class X{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=s,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Q(e,t,n){let r;if((0,i.vA)("string"===typeof t,"typeof type must == string"),(0,i.vA)("object"===typeof n,"typeof params must == object"),t===G)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const a=[];return R(n,(e,t)=>{a.push(e+"="+t)}),r+a.join("&")}class J{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,i.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,i.A4)(this.counters_)}}const Z={},ee={};function te(e){const t=e.toString();return Z[t]||(Z[t]=new J),Z[t]}class ne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&z(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const re="start";class ae{constructor(e,t,n,r,a,i,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.transportSessionId=i,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=N(e),this.stats_=te(t),this.urlFn=e=>(this.appCheckToken&&(e[Y]=this.appCheckToken),Q(t,$,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,i.$g)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ie(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a,i,o,s,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,a===re)n.id=i,n.password=o;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[a,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(a,i)},()=>{this.onClosed_()},this.urlFn);const e={};e[re]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=q,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Y]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ae.forceAllow_=!0}static forceDisallow(){ae.forceDisallow_=!0}static isAvailable(){return!(0,i.$g)()&&(!!ae.forceAllow_||!ae.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,i.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,i.KA)(t),r=M(n,1840);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,i.$g)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,i.As)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ie{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,i.$g)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ie.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(a){k("frame writing exception"),a.stack&&k(a.stack),k(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||k("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,i.$g)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{k("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let oe=null;"undefined"!==typeof MozWebSocket?oe=MozWebSocket:"undefined"!==typeof WebSocket&&(oe=WebSocket);class se{constructor(e,t,n,r,a,i,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=N(this.connId),this.stats_=te(t),this.connURL=se.connectionURL_(t,i,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,a){const o={};return o.v=q,!(0,i.$g)()&&"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Y]=r),a&&(o.p=a),Q(e,G,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{let e;if((0,i.$g)()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(q,"/").concat(c,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/hamptownControlPanel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new oe(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){se.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==oe&&!se.forceDisallow_}static previouslyFailed(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")}markConnectionHealthy(){p.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,i.$L)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,i.vA)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,i.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}se.responsesRequiredToBeHealthy=2,se.healthyTimeout=3e4;class le{static get ALL_TRANSPORTS(){return[ae,se]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=se&&se.isAvailable();let n=t&&!se.previouslyFailed();if(e.webSocketOnly&&(t||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[se];else{const e=this.transports_=[];for(const t of le.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);le.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}le.globalTransportInitialized_=!1;class ce{constructor(e,t,n,r,a,i,o,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=i,this.onReady_=o,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=N("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=B(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=P("t",e),n=P("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=P("t",e),n=P("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=P("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),q!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),B(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ue{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class de{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,i.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<a.length;e++)a[e].callback.apply(a[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let a=0;a<r.length;a++)if(r[a].callback===t&&(!n||n===r[a].context))return void r.splice(a,1)}validateEventType_(e){(0,i.vA)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class he extends de{static getInstance(){return new he}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,i.jZ)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return(0,i.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class fe{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function pe(){return new fe("")}function me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ge(e){return e.pieces_.length-e.pieceNum_}function ve(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new fe(e.pieces_,t)}function ye(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function xe(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new fe(t,0)}function we(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof fe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new fe(n,0)}function Se(e){return e.pieceNum_>=e.pieces_.length}function ke(e,t){const n=me(e),r=me(t);if(null===n)return t;if(n===r)return ke(ve(e),ve(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ne(e,t){if(ge(e)!==ge(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _e(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ge(e)>ge(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class je{constructor(e,t){this.errorPrefix_=t,this.parts_=be(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,i.OE)(this.parts_[n]);Ce(this)}}function Ce(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ee(e))}function Ee(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Te extends de{static getInstance(){return new Te}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return(0,i.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ae=1e3;class Oe extends ue{constructor(e,t,n,r,a,o,s,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=Oe.nextPersistentConnectionId_++,this.log_=N("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ae,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,i.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Te.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&he.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,a={r:r,a:e,b:t};this.log_((0,i.As)(a)),(0,i.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new i.cY,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const a=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),(0,i.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,i.vA)(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(a,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const a={p:n};e.tag&&(a.q=t._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,a=>{const i=a.d,o=a.s;Oe.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",a),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,i))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,i.gR)(e,"w")){const n=(0,i.yw)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();C("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,i.qc)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,i.Cv)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,i.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const a={p:e};r&&(a.q=n,a.t=r),this.sendRequest("n",a)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const a={p:t,d:n};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,a){this.initConnection_();const i={p:t,d:n};void 0!==a&&(i.h=a),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,i.As)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):_("Unrecognized action received from server: "+(0,i.As)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,i.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ae,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ae,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ae),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Oe.nextConnectionId_++,a=this.lastSessionId;let o=!1,s=null;const l=function(){s?s.close():(o=!0,n())},c=function(e){(0,i.vA)(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[i,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),this.authToken_=i&&i.accessToken,this.appCheckToken_=l&&l.token,s=new ce(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{C(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},a))}catch(_){this.log_("Failed to get token: "+_),o||(this.repoInfo_.nodeAdmin&&C(_),l())}}}interrupt(e){k("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){k("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,i.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Ae,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>D(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new fe(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){k("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){k("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,i.$g)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,i.jZ)()?e["framework.cordova"]=1:(0,i.lV)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=he.getInstance().currentlyOnline();return(0,i.Im)(this.interruptReasons_)&&e}}Oe.nextPersistentConnectionId_=0,Oe.nextConnectionId_=0;class Ie{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ie(e,t)}}class Pe{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Ie(T,e),r=new Ie(T,t);return 0!==this.compare(n,r)}minPost(){return Ie.MIN}}let De;class Me extends Pe{static get __EMPTY_NODE(){return De}static set __EMPTY_NODE(e){De=e}compare(e,t){return O(e.name,t.name)}isDefinedOn(e){throw(0,i.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(A,De)}makePost(e,t){return(0,i.vA)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ie(e,De)}toString(){return".key"}}const Re=new Me;class Le{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fe{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Fe.RED,this.left=null!=r?r:Ue.EMPTY_NODE,this.right=null!=a?a:Ue.EMPTY_NODE}copy(e,t,n,r,a){return new Fe(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ue.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ue.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fe.RED=!0,Fe.BLACK=!1;class Ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ue(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(e){return new Ue(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Le(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Le(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Le(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Le(this.root_,null,this.comparator_,!0,e)}}function ze(e,t){return O(e.name,t.name)}function Be(e,t){return O(e,t)}let We;Ue.EMPTY_NODE=new class{copy(e,t,n,r,a){return this}insert(e,t,n){return new Fe(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const He=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},Ve=function(e){if(e.isLeafNode()){const t=e.val();(0,i.vA)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,i.gR)(t,".sv"),"Priority must be a string or number.")}else(0,i.vA)(e===We||e.isEmpty(),"priority of unexpected type.");(0,i.vA)(e===We||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let qe,Ke,Ye;class Ge{static set __childrenNodeConstructor(e){qe=e}static get __childrenNodeConstructor(){return qe}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,i.vA)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ve(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ge(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:".priority"===me(e)?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=me(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,i.vA)(".priority"!==n||1===ge(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+He(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ge.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ge.__childrenNodeConstructor?-1:((0,i.vA)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Ge.VALUE_TYPE_ORDER.indexOf(t),a=Ge.VALUE_TYPE_ORDER.indexOf(n);return(0,i.vA)(r>=0,"Unknown leaf type: "+t),(0,i.vA)(a>=0,"Unknown leaf type: "+n),r===a?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];const $e=new class extends Pe{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),a=n.compareTo(r);return 0===a?O(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(A,new Ge("[PRIORITY-POST]",Ye))}makePost(e,t){const n=Ke(e);return new Ie(t,new Ge("[PRIORITY-POST]",n))}toString(){return".priority"}},Xe=Math.log(2);class Qe{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Xe,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Je=function(e,t,n,r){e.sort(t);const a=function(t,r){const i=r-t;let o,s;if(0===i)return null;if(1===i)return o=e[t],s=n?n(o):o,new Fe(s,o.node,Fe.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=a(t,l),u=a(l+1,r);return o=e[l],s=n?n(o):o,new Fe(s,o.node,Fe.BLACK,c,u)}},i=function(t){let r=null,i=null,o=e.length;const s=function(t,r){const i=o-t,s=o;o-=t;const c=a(i+1,s),u=e[i],d=n?n(u):u;l(new Fe(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,Fe.BLACK):(s(r,Fe.BLACK),s(r,Fe.RED))}return i}(new Qe(e.length));return new Ue(r||t,i)};let Ze;const et={};class tt{static get Default(){return(0,i.vA)(et&&$e,"ChildrenNode.ts has not been loaded"),Ze=Ze||new tt({".priority":et},{".priority":$e}),Ze}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=(0,i.yw)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ue?t:null}hasIndex(e){return(0,i.gR)(this.indexSet_,e.toString())}addIndex(e,t){(0,i.vA)(e!==Re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const a=t.getIterator(Ie.Wrap);let o,s=a.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=a.getNext();o=r?Je(n,e.getCompare()):et;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=o,new tt(u,c)}addToIndexes(e,t){const n=(0,i.kH)(this.indexes_,(n,r)=>{const a=(0,i.yw)(this.indexSet_,r);if((0,i.vA)(a,"Missing index implementation for "+r),n===et){if(a.isDefinedOn(e.node)){const n=[],r=t.getIterator(Ie.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),Je(n,a.getCompare())}return et}{const r=t.get(e.name);let a=n;return r&&(a=a.remove(new Ie(e.name,r))),a.insert(e,e.node)}});return new tt(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,i.kH)(this.indexes_,n=>{if(n===et)return n;{const r=t.get(e.name);return r?n.remove(new Ie(e.name,r)):n}});return new tt(n,this.indexSet_)}}let nt;class rt{static get EMPTY_NODE(){return nt||(nt=new rt(new Ue(Be),null,tt.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ve(this.priorityNode_),this.children_.isEmpty()&&(0,i.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nt}updatePriority(e){return this.children_.isEmpty()?this:new rt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?nt:t}}getChild(e){const t=me(e);return null===t?this:this.getImmediateChild(t).getChild(ve(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,i.vA)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Ie(e,t);let r,a;t.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),a=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?nt:this.priorityNode_;return new rt(r,i,a)}}updateChild(e,t){const n=me(e);if(null===n)return t;{(0,i.vA)(".priority"!==me(e)||1===ge(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ve(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,a=!0;if(this.forEachChild($e,(i,o)=>{t[i]=o.val(e),n++,a&&rt.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):a=!1}),!e&&a&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+He(this.getPriority().val())+":"),this.forEachChild($e,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Ie(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ie(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ie(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Ie.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===at?-1:0}withIndex(e){if(e===Re||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new rt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Re||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator($e),n=t.getIterator($e);let r=e.getNext(),a=n.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=e.getNext(),a=n.getNext()}return null===r&&null===a}return!1}return!1}}resolveIndex_(e){return e===Re?null:this.indexMap_.get(e.toString())}}rt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const at=new class extends rt{constructor(){super(new Ue(Be),rt.EMPTY_NODE,tt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return rt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ie,{MIN:{value:new Ie(T,rt.EMPTY_NODE)},MAX:{value:new Ie(A,at)}}),Me.__EMPTY_NODE=rt.EMPTY_NODE,Ge.__childrenNodeConstructor=rt,We=at,function(e){Ye=e}(at);function it(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return rt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,i.vA)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Ge(e,it(t))}if(e instanceof Array){let n=rt.EMPTY_NODE;return R(e,(t,r)=>{if((0,i.gR)(e,t)&&"."!==t.substring(0,1)){const e=it(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(it(t))}{const n=[];let r=!1;if(R(e,(e,t)=>{if("."!==e.substring(0,1)){const a=it(t);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Ie(e,a)))}}),0===n.length)return rt.EMPTY_NODE;const a=Je(n,ze,e=>e.name,Be);if(r){const e=Je(n,$e.getCompare());return new rt(a,it(t),new tt({".priority":e},{".priority":$e}))}return new rt(a,it(t),tt.Default)}}!function(e){Ke=e}(it);class ot extends Pe{constructor(e){super(),this.indexPath_=e,(0,i.vA)(!Se(e)&&".priority"!==me(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),a=n.compareTo(r);return 0===a?O(e.name,t.name):a}makePost(e,t){const n=it(e),r=rt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ie(t,r)}maxPost(){const e=rt.EMPTY_NODE.updateChild(this.indexPath_,at);return new Ie(A,e)}toString(){return be(this.indexPath_,0).join("/")}}const st=new class extends Pe{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,t){const n=it(e);return new Ie(t,n)}toString(){return".value"}};function lt(e){return{type:"value",snapshotNode:e}}function ct(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ut(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function dt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ht{constructor(e){this.index_=e}updateChild(e,t,n,r,a,o){(0,i.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(ut(t,s)):(0,i.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ct(t,n)):o.trackChildChange(dt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild($e,(e,r)=>{t.hasChild(e)||n.trackChildChange(ut(e,r))}),t.isLeafNode()||t.forEachChild($e,(t,r)=>{if(e.hasChild(t)){const a=e.getImmediateChild(t);a.equals(r)||n.trackChildChange(dt(t,r,a))}else n.trackChildChange(ct(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?rt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ft{constructor(e){this.indexedFilter_=new ht(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ft.getStartPost_(e),this.endPost_=ft.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,a,i){return this.matches(new Ie(t,n))||(n=rt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,a,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=rt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(rt.EMPTY_NODE);const a=this;return t.forEachChild($e,(e,t)=>{a.matches(new Ie(e,t))||(r=r.updateImmediateChild(e,rt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class pt{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new ft(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,a,i){return this.rangedFilter_.matches(new Ie(t,n))||(n=rt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,a,i):this.fullLimitUpdateChild_(e,t,n,a,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=rt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=rt.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(rt.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,rt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,a){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;(0,i.vA)(s.numChildren()===this.limit_,"");const l=new Ie(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(s.hasChild(t)){const e=s.getImmediateChild(t);let i=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=i&&(i.name===t||s.hasChild(i.name));)i=r.getChildAfterChild(this.index_,i,this.reverse_);const d=null==i?1:o(i,l);if(u&&!n.isEmpty()&&d>=0)return null!=a&&a.trackChildChange(dt(t,n,e)),s.updateImmediateChild(t,n);{null!=a&&a.trackChildChange(ut(t,e));const n=s.updateImmediateChild(t,rt.EMPTY_NODE);return null!=i&&this.rangedFilter_.matches(i)?(null!=a&&a.trackChildChange(ct(i.name,i.node)),n.updateImmediateChild(i.name,i.node)):n}}return n.isEmpty()?e:u&&o(c,l)>=0?(null!=a&&(a.trackChildChange(ut(c.name,c.node)),a.trackChildChange(ct(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,rt.EMPTY_NODE)):e}}class mt{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,i.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,i.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,i.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,i.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,i.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const e=new mt;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gt(e){const t={};if(e.isDefault())return t;let n;if(e.index_===$e?n="$priority":e.index_===st?n="$value":e.index_===Re?n="$key":((0,i.vA)(e.index_ instanceof ot,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,i.As)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,i.As)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+(0,i.As)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,i.As)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+(0,i.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function vt(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==$e&&(t.i=e.index_.toString()),t}class yt extends ue{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,i.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=N("p:rest:"),this.listens_={}}listen(e,t,n,r){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const o=yt.getListenId_(e,n),s={};this.listens_[o]=s;const l=gt(e._queryParams);this.restRequest_(a+".json",l,(e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(a,l,!1,n),(0,i.yw)(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=yt.getListenId_(e,t);delete this.listens_[n]}get(e){const t=gt(e._queryParams),n=e._path.toString(),r=new i.cY;return this.restRequest_(n+".json",t,(e,t)=>{let a=t;404===e&&(a=null,e=null),null===e?(this.onDataUpdate_(n,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[a,o]=r;a&&a.accessToken&&(t.auth=a.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,i.Am)(t);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(n&&4===l.readyState){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let t=null;if(l.status>=200&&l.status<300){try{t=(0,i.$L)(l.responseText)}catch(e){C("Failed to parse JSON response for "+s+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&C("Got unsuccessful REST response for "+s+" Status: "+l.status),n(l.status);n=null}},l.open("GET",s,!0),l.send()})}}class bt{constructor(){this.rootNode_=rt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xt(){return{value:null,children:new Map}}function wt(e,t,n){if(Se(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=me(t);e.children.has(r)||e.children.set(r,xt());wt(e.children.get(r),t=ve(t),n)}}function St(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{St(r,new fe(t.toString()+"/"+e),n)})}class kt{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&R(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Nt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new kt(e);const n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;R(e,(e,r)=>{r>0&&(0,i.gR)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _t;function jt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_t||(_t={}));class Ct{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=_t.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Se(this.path)){if(null!=this.affectedTree.value)return(0,i.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new fe(e));return new Ct(pe(),t,this.revert)}}return(0,i.vA)(me(this.path)===e,"operationForChild called for unrelated child."),new Ct(ve(this.path),this.affectedTree,this.revert)}}class Et{constructor(e,t){this.source=e,this.path=t,this.type=_t.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new Et(this.source,pe()):new Et(this.source,ve(this.path))}}class Tt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=_t.OVERWRITE}operationForChild(e){return Se(this.path)?new Tt(this.source,pe(),this.snap.getImmediateChild(e)):new Tt(this.source,ve(this.path),this.snap)}}class At{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=_t.MERGE}operationForChild(e){if(Se(this.path)){const t=this.children.subtree(new fe(e));return t.isEmpty()?null:t.value?new Tt(this.source,pe(),t.value):new At(this.source,pe(),t)}return(0,i.vA)(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new At(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ot{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const t=me(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class It{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Pt(e,t,n,r,a,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,i.Hk)("Should only compare child_ events.");const r=new Ie(t.childName,t.snapshotNode),a=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,a)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);a.forEach(a=>{a.respondsTo(n.type)&&t.push(a.createEvent(r,e.query_))})})}function Dt(e,t){return{eventCache:e,serverCache:t}}function Mt(e,t,n,r){return Dt(new Ot(t,n,r),e.serverCache)}function Rt(e,t,n,r){return Dt(e.eventCache,new Ot(t,n,r))}function Lt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ft(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ut;class zt{static fromObject(e){let t=new zt(null);return R(e,(e,n)=>{t=t.set(new fe(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ut||(Ut=new Ue(I)),Ut);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:pe(),value:this.value};if(Se(e))return null;{const n=me(e),r=this.children.get(n);if(null!==r){const a=r.findRootMostMatchingPathAndValue(ve(e),t);if(null!=a){return{path:we(new fe(n),a.path),value:a.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const t=me(e),n=this.children.get(t);return null!==n?n.subtree(ve(e)):new zt(null)}}set(e,t){if(Se(e))return new zt(t,this.children);{const n=me(e),r=(this.children.get(n)||new zt(null)).set(ve(e),t),a=this.children.insert(n,r);return new zt(this.value,a)}}remove(e){if(Se(e))return this.children.isEmpty()?new zt(null):new zt(null,this.children);{const t=me(e),n=this.children.get(t);if(n){const r=n.remove(ve(e));let a;return a=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&a.isEmpty()?new zt(null):new zt(this.value,a)}return this}}get(e){if(Se(e))return this.value;{const t=me(e),n=this.children.get(t);return n?n.get(ve(e)):null}}setTree(e,t){if(Se(e))return t;{const n=me(e),r=(this.children.get(n)||new zt(null)).setTree(ve(e),t);let a;return a=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new zt(this.value,a)}}fold(e){return this.fold_(pe(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,a)=>{n[r]=a.fold_(we(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,pe(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Se(e))return null;{const r=me(e),a=this.children.get(r);return a?a.findOnPath_(ve(e),we(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,pe(),t)}foreachOnPath_(e,t,n){if(Se(e))return this;{this.value&&n(t,this.value);const r=me(e),a=this.children.get(r);return a?a.foreachOnPath_(ve(e),we(t,r),n):new zt(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(we(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Bt{constructor(e){this.writeTree_=e}static empty(){return new Bt(new zt(null))}}function Wt(e,t,n){if(Se(t))return new Bt(new zt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let i=r.value;const o=ke(a,t);return i=i.updateChild(o,n),new Bt(e.writeTree_.set(a,i))}{const r=new zt(n),a=e.writeTree_.setTree(t,r);return new Bt(a)}}}function Ht(e,t,n){let r=e;return R(n,(e,n)=>{r=Wt(r,we(t,e),n)}),r}function Vt(e,t){if(Se(t))return Bt.empty();{const n=e.writeTree_.setTree(t,new zt(null));return new Bt(n)}}function qt(e,t){return null!=Kt(e,t)}function Kt(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ke(n.path,t)):null}function Yt(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild($e,(e,n)=>{t.push(new Ie(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Ie(e,n.value))}),t}function Gt(e,t){if(Se(t))return e;{const n=Kt(e,t);return new Bt(null!=n?new zt(n):e.writeTree_.subtree(t))}}function $t(e){return e.writeTree_.isEmpty()}function Xt(e,t){return Qt(pe(),e.writeTree_,t)}function Qt(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,a)=>{".priority"===t?((0,i.vA)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):n=Qt(we(e,t),a,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(we(e,".priority"),r)),n}}function Jt(e,t){return hn(t,e)}function Zt(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,i.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let a=r.visible,o=!1,s=e.allWrites.length-1;for(;a&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&en(t,r.path)?a=!1:_e(r.path,t.path)&&(o=!0)),s--}if(a){if(o)return function(e){e.visibleWrites=nn(e.allWrites,tn,pe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Vt(e.visibleWrites,r.path);else{R(r.children,t=>{e.visibleWrites=Vt(e.visibleWrites,we(r.path,t))})}return!0}return!1}function en(e,t){if(e.snap)return _e(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&_e(we(e.path,n),t))return!0;return!1}function tn(e){return e.visible}function nn(e,t,n){let r=Bt.empty();for(let a=0;a<e.length;++a){const o=e[a];if(t(o)){const e=o.path;let t;if(o.snap)_e(n,e)?(t=ke(n,e),r=Wt(r,t,o.snap)):_e(e,n)&&(t=ke(e,n),r=Wt(r,pe(),o.snap.getChild(t)));else{if(!o.children)throw(0,i.Hk)("WriteRecord should have .snap or .children");if(_e(n,e))t=ke(n,e),r=Ht(r,t,o.children);else if(_e(e,n))if(t=ke(e,n),Se(t))r=Ht(r,pe(),o.children);else{const e=(0,i.yw)(o.children,me(t));if(e){const n=e.getChild(ve(t));r=Wt(r,pe(),n)}}}}}return r}function rn(e,t,n,r,a){if(r||a){const i=Gt(e.visibleWrites,t);if(!a&&$t(i))return n;if(a||null!=n||qt(i,pe())){const i=function(e){return(e.visible||a)&&(!r||!~r.indexOf(e.writeId))&&(_e(e.path,t)||_e(t,e.path))};return Xt(nn(e.allWrites,i,t),n||rt.EMPTY_NODE)}return null}{const r=Kt(e.visibleWrites,t);if(null!=r)return r;{const r=Gt(e.visibleWrites,t);if($t(r))return n;if(null!=n||qt(r,pe())){return Xt(r,n||rt.EMPTY_NODE)}return null}}}function an(e,t,n,r){return rn(e.writeTree,e.treePath,t,n,r)}function on(e,t){return function(e,t,n){let r=rt.EMPTY_NODE;const a=Kt(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild($e,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const a=Gt(e.visibleWrites,t);return n.forEachChild($e,(e,t)=>{const n=Xt(Gt(a,new fe(e)),t);r=r.updateImmediateChild(e,n)}),Yt(a).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Yt(Gt(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function sn(e,t,n,r){return function(e,t,n,r,a){(0,i.vA)(r||a,"Either existingEventSnap or existingServerSnap must exist");const o=we(t,n);if(qt(e.visibleWrites,o))return null;{const t=Gt(e.visibleWrites,o);return $t(t)?a.getChild(n):Xt(t,a.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function ln(e,t){return function(e,t){return Kt(e.visibleWrites,t)}(e.writeTree,we(e.treePath,t))}function cn(e,t,n,r,a,i){return function(e,t,n,r,a,i,o){let s;const l=Gt(e.visibleWrites,t),c=Kt(l,pe());if(null!=c)s=c;else{if(null==n)return[];s=Xt(l,n)}if(s=s.withIndex(o),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=o.getCompare(),n=i?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<a;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,a,i)}function un(e,t,n){return function(e,t,n,r){const a=we(t,n),i=Kt(e.visibleWrites,a);if(null!=i)return i;if(r.isCompleteForChild(n))return Xt(Gt(e.visibleWrites,a),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function dn(e,t){return hn(we(e.treePath,t),e.writeTree)}function hn(e,t){return{treePath:e,writeTree:t}}class fn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,i.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,i.vA)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const a=r.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(n,dt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(n,ut(n,r.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(n,ct(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,i.Hk)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,dt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const pn=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class mn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ot(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return un(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ft(this.viewCache_),a=cn(this.writes_,r,t,1,n,e);return 0===a.length?null:a[0]}}function gn(e,t,n,r,a){const o=new fn;let s,l;if(n.type===_t.OVERWRITE){const c=n;c.source.fromUser?s=bn(e,t,c.path,c.snap,r,a,o):((0,i.vA)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!Se(c.path),s=yn(e,t,c.path,c.snap,r,a,l,o))}else if(n.type===_t.MERGE){const c=n;c.source.fromUser?s=function(e,t,n,r,a,i,o){let s=t;return r.foreach((r,l)=>{const c=we(n,r);xn(t,me(c))&&(s=bn(e,s,c,l,a,i,o))}),r.foreach((r,l)=>{const c=we(n,r);xn(t,me(c))||(s=bn(e,s,c,l,a,i,o))}),s}(e,t,c.path,c.children,r,a,o):((0,i.vA)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),s=Sn(e,t,c.path,c.children,r,a,l,o))}else if(n.type===_t.ACK_USER_WRITE){const l=n;s=l.revert?function(e,t,n,r,a,o){let s;if(null!=ln(r,n))return t;{const l=new mn(r,t,a),c=t.eventCache.getNode();let u;if(Se(n)||".priority"===me(n)){let n;if(t.serverCache.isFullyInitialized())n=an(r,Ft(t));else{const e=t.serverCache.getNode();(0,i.vA)(e instanceof rt,"serverChildren would be complete if leaf node"),n=on(r,e)}u=e.filter.updateFullNode(c,n,o)}else{const a=me(n);let i=un(r,a,t.serverCache);null==i&&t.serverCache.isCompleteForChild(a)&&(i=c.getImmediateChild(a)),u=null!=i?e.filter.updateChild(c,a,i,ve(n),l,o):t.eventCache.getNode().hasChild(a)?e.filter.updateChild(c,a,rt.EMPTY_NODE,ve(n),l,o):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=an(r,Ft(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=ln(r,pe()),Mt(t,u,s,e.filter.filtersNodes())}}(e,t,l.path,r,a,o):function(e,t,n,r,a,i,o){if(null!=ln(a,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return yn(e,t,n,l.getNode().getChild(n),a,i,s,o);if(Se(n)){let r=new zt(null);return l.getNode().forEachChild(Re,(e,t)=>{r=r.set(new fe(e),t)}),Sn(e,t,n,r,a,i,s,o)}return t}{let c=new zt(null);return r.foreach((e,t)=>{const r=we(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Sn(e,t,n,c,a,i,s,o)}}(e,t,l.path,l.affectedTree,r,a,o)}else{if(n.type!==_t.LISTEN_COMPLETE)throw(0,i.Hk)("Unknown operation type: "+n.type);s=function(e,t,n,r,a){const i=t.serverCache,o=Rt(t,i.getNode(),i.isFullyInitialized()||Se(n),i.isFiltered());return vn(e,o,n,r,pn,a)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Lt(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(lt(Lt(t)))}}(t,s,c),{viewCache:s,changes:c}}function vn(e,t,n,r,a,o){const s=t.eventCache;if(null!=ln(r,n))return t;{let l,c;if(Se(n))if((0,i.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Ft(t),a=on(r,n instanceof rt?n:rt.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),a,o)}else{const n=an(r,Ft(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=me(n);if(".priority"===u){(0,i.vA)(1===ge(n),"Can't have a priority with additional path components");const a=s.getNode();c=t.serverCache.getNode();const o=sn(r,n,a,c);l=null!=o?e.filter.updatePriority(a,o):s.getNode()}else{const i=ve(n);let d;if(s.isCompleteForChild(u)){c=t.serverCache.getNode();const e=sn(r,n,s.getNode(),c);d=null!=e?s.getNode().getImmediateChild(u).updateChild(i,e):s.getNode().getImmediateChild(u)}else d=un(r,u,t.serverCache);l=null!=d?e.filter.updateChild(s.getNode(),u,d,i,a,o):s.getNode()}}return Mt(t,l,s.isFullyInitialized()||Se(n),e.filter.filtersNodes())}}function yn(e,t,n,r,a,i,o,s){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Se(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=me(n);if(!l.isCompleteForPath(n)&&ge(n)>1)return t;const a=ve(n),i=l.getNode().getImmediateChild(e).updateChild(a,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,a,pn,null)}const d=Rt(t,c,l.isFullyInitialized()||Se(n),u.filtersNodes());return vn(e,d,n,a,new mn(a,d,i),s)}function bn(e,t,n,r,a,i,o){const s=t.eventCache;let l,c;const u=new mn(a,t,i);if(Se(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Mt(t,c,!0,e.filter.filtersNodes());else{const a=me(n);if(".priority"===a)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Mt(t,c,s.isFullyInitialized(),s.isFiltered());else{const i=ve(n),c=s.getNode().getImmediateChild(a);let d;if(Se(i))d=r;else{const e=u.getCompleteChild(a);d=null!=e?".priority"===ye(i)&&e.getChild(xe(i)).isEmpty()?e:e.updateChild(i,r):rt.EMPTY_NODE}if(c.equals(d))l=t;else{l=Mt(t,e.filter.updateChild(s.getNode(),a,d,i,u,o),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function xn(e,t){return e.eventCache.isCompleteForChild(t)}function wn(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Sn(e,t,n,r,a,i,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Se(n)?r:new zt(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=wn(0,t.serverCache.getNode().getImmediateChild(n),r);c=yn(e,c,new fe(n),l,a,i,o,s)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=wn(0,t.serverCache.getNode().getImmediateChild(n),r);c=yn(e,c,new fe(n),l,a,i,o,s)}}),c}class kn{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new ht(n.getIndex()),a=(i=n).loadsAllData()?new ht(i.getIndex()):i.hasLimit()?new pt(i):new ft(i);var i;this.processor_=function(e){return{filter:e}}(a);const o=t.serverCache,s=t.eventCache,l=r.updateFullNode(rt.EMPTY_NODE,o.getNode(),null),c=a.updateFullNode(rt.EMPTY_NODE,s.getNode(),null),u=new Ot(l,o.isFullyInitialized(),r.filtersNodes()),d=new Ot(c,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=Dt(d,u),this.eventGenerator_=new It(this.query_)}get query(){return this.query_}}function Nn(e,t){const n=Ft(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Se(t)&&!n.getImmediateChild(me(t)).isEmpty())?n.getChild(t):null}function _n(e){return 0===e.eventRegistrations_.length}function jn(e,t,n){const r=[];if(n){(0,i.vA)(null==t,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,a);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const a=e.eventRegistrations_[r];if(a.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(a)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Cn(e,t,n,r){t.type===_t.MERGE&&null!==t.source.queryId&&((0,i.vA)(Ft(e.viewCache_),"We should always have a full cache before handling merges"),(0,i.vA)(Lt(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,o=gn(e.processor_,a,t,n,r);var s,l;return s=e.processor_,l=o.viewCache,(0,i.vA)(l.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,i.vA)(l.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),(0,i.vA)(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,En(e,o.changes,o.viewCache.eventCache.getNode(),null)}function En(e,t,n,r){const a=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const a=[],i=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Pt(e,a,"child_removed",t,r,n),Pt(e,a,"child_added",t,r,n),Pt(e,a,"child_moved",i,r,n),Pt(e,a,"child_changed",t,r,n),Pt(e,a,"value",t,r,n),a}(e.eventGenerator_,t,n,a)}let Tn,An;class On{constructor(){this.views=new Map}}function In(e,t,n,r){const a=t.source.queryId;if(null!==a){const o=e.views.get(a);return(0,i.vA)(null!=o,"SyncTree gave us an op for an invalid query."),Cn(o,t,n,r)}{let a=[];for(const i of e.views.values())a=a.concat(Cn(i,t,n,r));return a}}function Pn(e,t,n,r,a){const i=t._queryIdentifier,o=e.views.get(i);if(!o){let e=an(n,a?r:null),i=!1;e?i=!0:r instanceof rt?(e=on(n,r),i=!1):(e=rt.EMPTY_NODE,i=!1);const o=Dt(new Ot(e,i,!1),new Ot(r,a,!1));return new kn(t,o)}return o}function Dn(e,t,n,r,a,i){const o=Pn(e,t,r,a,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild($e,(e,t)=>{r.push(ct(e,t))});return n.isFullyInitialized()&&r.push(lt(n.getNode())),En(e,r,n.getNode(),t)}(o,n)}function Mn(e,t,n,r){const a=t._queryIdentifier,o=[];let s=[];const l=zn(e);if("default"===a)for(const[i,c]of e.views.entries())s=s.concat(jn(c,n,r)),_n(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(a);t&&(s=s.concat(jn(t,n,r)),_n(t)&&(e.views.delete(a),t.query._queryParams.loadsAllData()||o.push(t.query)))}return l&&!zn(e)&&o.push(new((0,i.vA)(Tn,"Reference.ts has not been loaded"),Tn)(t._repo,t._path)),{removed:o,events:s}}function Rn(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ln(e,t){let n=null;for(const r of e.views.values())n=n||Nn(r,t);return n}function Fn(e,t){if(t._queryParams.loadsAllData())return Bn(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Un(e,t){return null!=Fn(e,t)}function zn(e){return null!=Bn(e)}function Bn(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Wn=1;class Hn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new zt(null),this.pendingWriteTree_={visibleWrites:Bt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vn(e,t,n,r,a){return function(e,t,n,r,a){(0,i.vA)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(e.visibleWrites=Wt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,a),a?Qn(e,new Tt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function qn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Zt(e.pendingWriteTree_,t)){let t=new zt(null);return null!=r.snap?t=t.set(pe(),!0):R(r.children,e=>{t=t.set(new fe(e),!0)}),Qn(e,new Ct(r.path,t,n))}return[]}function Kn(e,t,n){return Qn(e,new Tt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Yn(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,o=e.syncPointTree_.get(i);let s=[];if(o&&("default"===t._queryIdentifier||Un(o,t))){const l=Mn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(s=l.events,!a){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),a=e.syncPointTree_.findOnPath(i,(e,t)=>zn(t));if(n&&!a){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&zn(t)){return[Bn(t)]}{let e=[];return t&&(e=Rn(t)),R(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],a=r.query,i=er(e,r);e.listenProvider_.startListening(or(a),tr(e,a),i.hashFn,i.onComplete)}}}if(!a&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(or(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(nr(t));e.listenProvider_.stopListening(or(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=nr(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function Gn(e,t,n,r){const a=rr(e,r);if(null!=a){const r=ar(a),i=r.path,o=r.queryId,s=ke(i,t);return ir(e,i,new Tt(jt(o),s,n))}return[]}function $n(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(a,(e,t)=>{const n=ke(e,a);o=o||Ln(t,n),s=s||zn(t)});let l,c=e.syncPointTree_.get(a);if(c?(s=s||zn(c),o=o||Ln(c,pe())):(c=new On,e.syncPointTree_=e.syncPointTree_.set(a,c)),null!=o)l=!0;else{l=!1,o=rt.EMPTY_NODE;e.syncPointTree_.subtree(a).foreachChild((e,t)=>{const n=Ln(t,pe());n&&(o=o.updateImmediateChild(e,n))})}const u=Un(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=nr(t);(0,i.vA)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Wn++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=Dn(c,t,n,Jt(e.pendingWriteTree_,a),o,l);if(!u&&!s&&!r){const n=Fn(c,t);d=d.concat(function(e,t,n){const r=t._path,a=tr(e,t),o=er(e,n),s=e.listenProvider_.startListening(or(t),a,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(a)(0,i.vA)(!zn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold((e,t,n)=>{if(!Se(e)&&t&&zn(t))return[Bn(t).query];{let e=[];return t&&(e=e.concat(Rn(t).map(e=>e.query))),R(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(or(r),tr(e,r))}}return s}(e,t,n))}return d}function Xn(e,t,n){const r=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Ln(n,ke(e,t));if(r)return r});return rn(r,t,a,n,!0)}function Qn(e,t){return Jn(t,e.syncPointTree_,null,Jt(e.pendingWriteTree_,pe()))}function Jn(e,t,n,r){if(Se(e.path))return Zn(e,t,n,r);{const a=t.get(pe());null==n&&null!=a&&(n=Ln(a,pe()));let i=[];const o=me(e.path),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){const e=n?n.getImmediateChild(o):null,t=dn(r,o);i=i.concat(Jn(s,l,e,t))}return a&&(i=i.concat(In(a,e,r,n))),i}}function Zn(e,t,n,r){const a=t.get(pe());null==n&&null!=a&&(n=Ln(a,pe()));let i=[];return t.children.inorderTraversal((t,a)=>{const o=n?n.getImmediateChild(t):null,s=dn(r,t),l=e.operationForChild(t);l&&(i=i.concat(Zn(l,a,o,s)))}),a&&(i=i.concat(In(a,e,r,n))),i}function er(e,t){const n=t.query,r=tr(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||rt.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=rr(e,n);if(r){const n=ar(r),a=n.path,i=n.queryId,o=ke(a,t);return ir(e,a,new Et(jt(i),o))}return[]}(e,n._path,r):function(e,t){return Qn(e,new Et({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Yn(e,n,null,r)}}}}function tr(e,t){const n=nr(t);return e.queryToTagMap.get(n)}function nr(e){return e._path.toString()+"$"+e._queryIdentifier}function rr(e,t){return e.tagToQueryMap.get(t)}function ar(e){const t=e.indexOf("$");return(0,i.vA)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new fe(e.substr(0,t))}}function ir(e,t,n){const r=e.syncPointTree_.get(t);(0,i.vA)(r,"Missing sync point for query tag that we're tracking");return In(r,n,Jt(e.pendingWriteTree_,t),null)}function or(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,i.vA)(An,"Reference.ts has not been loaded"),An)(e._repo,e._path):e}class sr{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new sr(t)}node(){return this.node_}}class lr{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=we(this.path_,e);return new lr(this.syncTree_,t)}node(){return Xn(this.syncTree_,this.path_)}}const cr=function(e,t,n){return e&&"object"===typeof e?((0,i.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ur(e[".sv"],t,n):"object"===typeof e[".sv"]?dr(e[".sv"],t):void(0,i.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ur=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,i.vA)(!1,"Unexpected server value: "+e)},dr=function(e,t,n){e.hasOwnProperty("increment")||(0,i.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&(0,i.vA)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,i.vA)(null!==a&&"undefined"!==typeof a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const o=a.getValue();return"number"!==typeof o?r:o+r},hr=function(e,t,n,r){return pr(t,new lr(n,e),r)},fr=function(e,t,n){return pr(e,new sr(t),n)};function pr(e,t,n){const r=e.getPriority().val(),a=cr(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=cr(r.getValue(),t,n);return i!==r.getValue()||a!==r.getPriority().val()?new Ge(i,it(a)):e}{const r=e;return i=r,a!==r.getPriority().val()&&(i=i.updatePriority(new Ge(a))),r.forEachChild($e,(e,r)=>{const a=pr(r,t.getImmediateChild(e),n);a!==r&&(i=i.updateImmediateChild(e,a))}),i}}class mr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function gr(e,t){let n=t instanceof fe?t:new fe(t),r=e,a=me(n);for(;null!==a;){const e=(0,i.yw)(r.node.children,a)||{children:{},childCount:0};r=new mr(a,r,e),n=ve(n),a=me(n)}return r}function vr(e){return e.node.value}function yr(e,t){e.node.value=t,kr(e)}function br(e){return e.node.childCount>0}function xr(e,t){R(e.node.children,(n,r)=>{t(new mr(n,e,r))})}function wr(e,t,n,r){n&&!r&&t(e),xr(e,e=>{wr(e,t,!0,r)}),n&&r&&t(e)}function Sr(e){return new fe(null===e.parent?e.name:Sr(e.parent)+"/"+e.name)}function kr(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===vr(e)&&!br(e)}(n),a=(0,i.gR)(e.node.children,t);r&&a?(delete e.node.children[t],e.node.childCount--,kr(e)):r||a||(e.node.children[t]=n.node,e.node.childCount++,kr(e))}(e.parent,e.name,e)}const Nr=/[\[\].#$\/\u0000-\u001F\u007F]/,_r=/[\[\].#$\u0000-\u001F\u007F]/,jr=10485760,Cr=function(e){return"string"===typeof e&&0!==e.length&&!Nr.test(e)},Er=function(e){return"string"===typeof e&&0!==e.length&&!_r.test(e)},Tr=function(e,t,n){const r=n instanceof fe?new je(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ee(r));if("function"===typeof t)throw new Error(e+"contains a function "+Ee(r)+" with contents = "+t.toString());if(E(t))throw new Error(e+"contains "+t.toString()+" "+Ee(r));if("string"===typeof t&&t.length>jr/3&&(0,i.OE)(t)>jr)throw new Error(e+"contains a string greater than "+jr+" utf8 bytes "+Ee(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,a=!1;if(R(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Cr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ee(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,i.OE)(t),Ce(e)}(r,t),Tr(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,i.OE)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&a)throw new Error(e+' contains ".value" child '+Ee(r)+" in addition to actual children.")}},Ar=function(e,t,n,r){if((!r||void 0!==n)&&!Er(n))throw new Error((0,i.dI)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Or=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ar(e,t,n,r)},Ir=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Cr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Er(e)}(n))throw new Error((0,i.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Pr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dr(e,t){let n=null;for(let r=0;r<t.length;r++){const a=t[r],i=a.getPath();null===n||Ne(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(a)}n&&e.eventLists_.push(n)}function Mr(e,t,n){Dr(e,n),Lr(e,e=>Ne(e,t))}function Rr(e,t,n){Dr(e,n),Lr(e,e=>_e(e,t)||_e(t,e))}function Lr(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const a=e.eventLists_[r];if(a){t(a.path)?(Fr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Fr(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();x&&k("event: "+n.toString()),z(r)}}}const Ur="repo_interrupt";class zr{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xt(),this.transactionQueueTree_=new mr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Br(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new yt(e.repoInfo_,(t,n,r,a)=>{Vr(e,t,n,r,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>qr(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,i.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Oe(e.repoInfo_,t,(t,n,r,a)=>{Vr(e,t,n,r,a)},t=>{qr(e,t)},t=>{!function(e,t){R(t,(t,n)=>{Kr(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,()=>new Nt(e.stats_,e.server_)),e.infoData_=new bt,e.infoSyncTree_=new Hn({startListening:(t,n,r,a)=>{let i=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(i=Kn(e.infoSyncTree_,t._path,o),setTimeout(()=>{a("ok")},0)),i},stopListening:()=>{}}),Kr(e,"connected",!1),e.serverSyncTree_=new Hn({startListening:(t,n,r,a)=>(e.server_.listen(t,r,n,(n,r)=>{const i=a(n,r);Rr(e.eventQueue_,t._path,i)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Wr(e){const t=e.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Hr(e){return(t=(t={timestamp:Wr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Vr(e,t,n,r,a){e.dataUpdateCount++;const o=new fe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(a)if(r){const t=(0,i.kH)(n,e=>it(e));s=function(e,t,n,r){const a=rr(e,r);if(a){const r=ar(a),i=r.path,o=r.queryId,s=ke(i,t),l=zt.fromObject(n);return ir(e,i,new At(jt(o),s,l))}return[]}(e.serverSyncTree_,o,t,a)}else{const t=it(n);s=Gn(e.serverSyncTree_,o,t,a)}else if(r){const t=(0,i.kH)(n,e=>it(e));s=function(e,t,n){const r=zt.fromObject(n);return Qn(e,new At({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=it(n);s=Kn(e.serverSyncTree_,o,t)}let l=o;s.length>0&&(l=Zr(e,o)),Rr(e.eventQueue_,l,s)}function qr(e,t){Kr(e,"connected",t),!1===t&&function(e){Xr(e,"onDisconnectEvents");const t=Hr(e),n=xt();St(e.onDisconnect_,pe(),(r,a)=>{const i=hr(r,a,e.serverSyncTree_,t);wt(n,r,i)});let r=[];St(n,pe(),(t,n)=>{r=r.concat(Kn(e.serverSyncTree_,t,n));const a=aa(e,t);Zr(e,a)}),e.onDisconnect_=xt(),Rr(e.eventQueue_,pe(),r)}(e)}function Kr(e,t,n){const r=new fe("/.info/"+t),a=it(n);e.infoData_.updateSnapshot(r,a);const i=Kn(e.infoSyncTree_,r,a);Rr(e.eventQueue_,r,i)}function Yr(e){return e.nextWriteId_++}function Gr(e,t,n){let r;r=".info"===me(t._path)?Yn(e.infoSyncTree_,t,n):Yn(e.serverSyncTree_,t,n),Mr(e.eventQueue_,t._path,r)}function $r(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ur)}function Xr(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];k(t,...r)}function Qr(e,t,n){return Xn(e.serverSyncTree_,t,n)||rt.EMPTY_NODE}function Jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||ra(e,t),vr(t)){const n=ta(e,t);(0,i.vA)(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),a=Qr(e,t,r);let o=a;const s=a.hash();for(let u=0;u<n.length;u++){const e=n[u];(0,i.vA)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=ke(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const l=o.val(!0),c=t;e.server_.put(c.toString(),l,r=>{Xr(e,"transaction put response",{path:c.toString(),status:r});let a=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,a=a.concat(qn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();ra(e,gr(e.transactionQueueTree_,t)),Jr(e,e.transactionQueueTree_),Rr(e.eventQueue_,t,a);for(let e=0;e<r.length;e++)z(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{C("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Zr(e,t)}},s)}(e,Sr(t),n)}else br(t)&&xr(t,t=>{Jr(e,t)})}function Zr(e,t){const n=ea(e,t),r=Sr(n);return function(e,t,n){if(0===t.length)return;const r=[];let a=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let l=0;l<t.length;l++){const o=t[l],c=ke(n,o.path);let u,d=!1;if((0,i.vA)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,a=a.concat(qn(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)d=!0,u="maxretry",a=a.concat(qn(e.serverSyncTree_,o.currentWriteId,!0));else{const n=Qr(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Tr("transaction failed: Data returned ",r,o.path);let t=it(r);"object"===typeof r&&null!=r&&(0,i.gR)(r,".priority")||(t=t.updatePriority(n.getPriority()));const l=o.currentWriteId,c=Hr(e),u=fr(t,n,c);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=u,o.currentWriteId=Yr(e),s.splice(s.indexOf(l),1),a=a.concat(Vn(e.serverSyncTree_,o.path,u,o.currentWriteId,o.applyLocally)),a=a.concat(qn(e.serverSyncTree_,l,!0))}else d=!0,u="nodata",a=a.concat(qn(e.serverSyncTree_,o.currentWriteId,!0))}Rr(e.eventQueue_,n,a),a=[],d&&(t[l].status=2,function(e){setTimeout(e,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&("nodata"===u?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(u),!1,null))))}ra(e,e.transactionQueueTree_);for(let i=0;i<r.length;i++)z(r[i]);Jr(e,e.transactionQueueTree_)}(e,ta(e,n),r),r}function ea(e,t){let n,r=e.transactionQueueTree_;for(n=me(t);null!==n&&void 0===vr(r);)r=gr(r,n),n=me(t=ve(t));return r}function ta(e,t){const n=[];return na(e,t,n),n.sort((e,t)=>e.order-t.order),n}function na(e,t,n){const r=vr(t);if(r)for(let a=0;a<r.length;a++)n.push(r[a]);xr(t,t=>{na(e,t,n)})}function ra(e,t){const n=vr(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,yr(t,n.length>0?n:void 0)}xr(t,t=>{ra(e,t)})}function aa(e,t){const n=Sr(ea(e,t)),r=gr(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{ia(e,t)}),ia(e,r),wr(r,t=>{ia(e,t)}),n}function ia(e,t){const n=vr(t);if(n){const r=[];let a=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,i.vA)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,i.vA)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),a=a.concat(qn(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?yr(t,void 0):n.length=o+1,Rr(e.eventQueue_,Sr(t),a);for(let e=0;e<r.length;e++)z(r[e])}}const oa=function(e,t){const n=sa(e),r=n.namespace;"firebase.com"===n.domain&&j(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||j("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const a="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,a,t,"",r!==n.subdomain),path:new fe(n.pathString)}},sa=function(e){let t="",n="",r="",a="",i="",o=!0,s="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(a=function(e){let t="";const n=e.split("/");for(let a=0;a<n.length;a++)if(n[a].length>0){let e=n[a];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):C("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:s,pathString:a,namespace:i}},la="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class ca{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,i.As)(this.snapshot.exportVal())}}class ua{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class da{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,i.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ha{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Se(this._path)?null:ye(this._path)}get ref(){return new fa(this._repo,this._path)}get _queryIdentifier(){const e=vt(this._queryParams),t=D(e);return"{}"===t?"default":t}get _queryObject(){return vt(this._queryParams)}isEqual(e){if(!((e=(0,i.Ku)(e))instanceof ha))return!1;const t=this._repo===e._repo,n=Ne(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class fa extends ha{constructor(e,t){super(e,t,new mt,!1)}get parent(){const e=xe(this._path);return null===e?null:new fa(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class pa{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new fe(e),n=ga(this.ref,e);return new pa(this._node.getChild(t),n,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new pa(n,ga(this.ref,t),$e)))}hasChild(e){const t=new fe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ma(e,t){return(e=(0,i.Ku)(e))._checkNotDeleted("ref"),void 0!==t?ga(e._root,t):e._root}function ga(e,t){return null===me((e=(0,i.Ku)(e))._path)?Or("child","path",t,!1):Ar("child","path",t,!1),new fa(e._repo,we(e._path,t))}class va{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ca("value",this,new pa(e.snapshotNode,new fa(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ua(this,e,t):null}matches(e){return e instanceof va&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ya{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ua(this,e,t):null}createEvent(e,t){(0,i.vA)(null!=e.childName,"Child events should have a childName.");const n=ga(new fa(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ca(e.type,this,new pa(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ya&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function ba(e,t,n,r,a){let i;if("object"===typeof r&&(i=void 0,a=r),"function"===typeof r&&(i=r),a&&a.onlyOnce){const t=n,r=(n,r)=>{Gr(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new da(n,i||void 0),s="value"===t?new va(o):new ya(t,o);return function(e,t,n){let r;r=".info"===me(t._path)?$n(e.infoSyncTree_,t,n):$n(e.serverSyncTree_,t,n),Mr(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>Gr(e._repo,e,s)}function xa(e,t,n,r){return ba(e,"value",t,n,r)}function wa(e,t,n){let r=null;const a=n?new da(n):null;"value"===t?r=new va(a):t&&(r=new ya(t,a)),Gr(e._repo,e,r)}!function(e){(0,i.vA)(!Tn,"__referenceConstructor has already been defined"),Tn=e}(fa),function(e){(0,i.vA)(!An,"__referenceConstructor has already been defined"),An=e}(fa);const Sa={};let ka=!1;function Na(e,t,n,r,a){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||j("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,s,l=oa(i,a),c=l.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/hamptownControlPanel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),s?(o=!0,i="http://".concat(s,"?ns=").concat(c.namespace),l=oa(i,a),c=l.repoInfo):o=!l.repoInfo.secure;const u=a&&o?new V(V.OWNER):new H(e.name,e.options,t);Ir("Invalid Firebase Database URL",l),Se(l.path)||j("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let a=Sa[t.name];a||(a={},Sa[t.name]=a);let i=a[e.toURLString()];i&&j("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new zr(e,ka,n,r),a[e.toURLString()]=i,i}(c,e,u,new W(e,n));return new _a(d,e)}class _a{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Br(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fa(this._repo,pe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Sa[t];n&&n[e.key]===e||j("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),$r(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&j("Cannot call "+e+" on a deleted database.")}}function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;const n=(0,r.j6)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(0,i.yU)("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=(0,i.Ku)(e),e._checkNotDeleted("useEmulator");const a="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&(0,i.bD)(r,o.repoInfo_.emulatorOptions))return;j("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&j('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new V(V.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:(0,i.Fy)(r.mockUserToken,e.app.options.projectId);s=new V(t)}(0,i.zJ)(t)&&((0,i.gE)(t),(0,i.P1)("Database",!0));!function(e,t,n,r){const a=t.lastIndexOf(":"),o=t.substring(0,a),s=(0,i.zJ)(o);e.repoInfo_=new X(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,a,r,s)}(n,...e)}return n}Oe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Oe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ca;u(r.MF),(0,r.om)(new a.uA("database",(e,t)=>{let{instanceIdentifier:n}=t;return Na(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(s,l,Ca),(0,r.KO)(s,l,"esm2017")},2588:(e,t,n)=>{var r=n(6914),a=n(4567),i=n(184),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},2654:(e,t,n)=>{"use strict";var r=n(9950),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},2718:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7431),a=n(7740),i=n(3539),o=n(9115);t.isIterateeCall=function(e,t,n){return!!i.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},2742:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6907);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:a=!1,trailing:i=!0,maxWait:o}=n,s=Array(2);let l;a&&(s[0]="leading"),i&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},2897:(e,t,n)=>{var r=n(3693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3044:(e,t,n)=>{"use strict";e.exports=n(9940)},3177:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},3470:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},3539:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},3679:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),a=n(9358);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3787:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7740),a=n(8316);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},3963:(e,t,n)=>{"use strict";n.d(t,{WP:()=>o,dM:()=>s,initializeDailySnapshotAutomation:()=>c});var r=n(9379),a=n(4631),i=n(402);const o={enableAutomation:!0,snapshotTime:"23:59",retentionDays:730,frequencies:["daily","weekly","monthly"]};class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;this.config=void 0,this.intervalId=null,this.lastSnapshotDate=null,this.firebaseService=void 0,this.firebaseService=e,this.config=t}start(){this.config.enableAutomation?(console.log("\ud83d\udcf8 Starting daily snapshot automation..."),console.log("\u23f0 Scheduled for ".concat(this.config.snapshotTime," daily")),this.checkAndCreateSnapshot(),this.intervalId=setInterval(()=>{this.checkAndCreateSnapshot()},36e5)):console.log("\ud83d\udcf8 Daily snapshot automation is disabled")}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,console.log("\ud83d\udcf8 Daily snapshot automation stopped"))}async checkAndCreateSnapshot(){const e=new Date,t=e.toISOString().split("T")[0],[n,r]=this.config.snapshotTime.split(":").map(Number),[i,o]=[e.getHours(),e.getMinutes()];if((i===n&&Math.abs(o-r)<=30||i===(n+1)%24&&o<=30)&&this.lastSnapshotDate!==t)try{console.log("\ud83d\udcf8 Creating automated daily snapshot for ".concat(t,"..."));const e=await this.firebaseService.loadData();if(!e)return void console.error("\u274c Could not load inventory data for snapshot");const n=(0,a.FH)(e.inventoryDailyItems||[],e.inventoryWeeklyItems||[],e.inventoryMonthlyItems||[],t),r=(0,a.kz)(e.inventoryDailyItems||[],e.inventoryWeeklyItems||[],e.inventoryMonthlyItems||[],e.inventoryActivityLog||[],e.employees||[],"system_automatic",t),i={snapshotId:"auto_daily_".concat(t.replace(/-/g,"")),date:t,frequency:"daily",snapshot:n},o=e.stockCountSnapshots||[],s=e.dailyInventorySnapshots||[],l=[...o,i],c=[...s,r];await this.firebaseService.quickSave("stockCountSnapshots",l),await this.firebaseService.quickSave("dailyInventorySnapshots",c),this.lastSnapshotDate=t,console.log("\u2705 Automated daily snapshot created successfully for ".concat(t)),console.log("\ud83d\udcca Snapshot contains ".concat(n.totalItems," items with total value $").concat(n.totalValue.toFixed(2))),console.log("\ud83d\udcc8 Enhanced daily snapshot saved with ".concat(Object.keys(r.items).length," items and compliance data")),await this.cleanupOldSnapshots(l)}catch(s){console.error("\u274c Failed to create automated daily snapshot:",s)}}async cleanupOldSnapshots(e){return i.J3.withErrorHandling(async()=>{const t=new Date;t.setDate(t.getDate()-this.config.retentionDays);const n=t.toISOString().split("T")[0],r=e.filter(e=>{const t=e.date<n,r=e.snapshotId.startsWith("auto_");return!t||!r});if(r.length<e.length){const t=e.length-r.length;console.log("\ud83e\uddf9 Cleaned up ".concat(t," old automated snapshots (retention: ").concat(this.config.retentionDays," days)")),await this.firebaseService.quickSave("stockCountSnapshots",r)}},"Daily snapshot cleanup",void 0)}async createManualSnapshot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Manual trigger";const t=await i.J3.withErrorHandling(async()=>{const t=(new Date).toISOString().split("T")[0];return console.log("\ud83d\udcf8 Creating manual snapshot for ".concat(t,": ").concat(e)),await this.checkAndCreateSnapshot(),!0},"Manual snapshot creation",!1);return null!==t&&t}getStatus(){return{enabled:this.config.enableAutomation,isRunning:null!==this.intervalId,lastSnapshotDate:this.lastSnapshotDate,nextSnapshotTime:this.config.snapshotTime,retentionDays:this.config.retentionDays}}updateConfig(e){this.config=(0,r.A)((0,r.A)({},this.config),e),this.intervalId&&(this.stop(),this.start()),console.log("\ud83d\udcf8 Daily snapshot automation config updated:",this.config)}}let l=null;const c=(e,t)=>{const n=((e,t)=>{if(!l&&e&&(l=new s(e,t)),!l)throw new Error("DailySnapshotAutomation not initialized. Please provide firebaseService instance.");return l})(e,t);return n.start(),console.log("\ud83d\udcf8 Daily snapshot automation initialized and started"),n}},4090:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),a=n(1083),i=n(5573),o=n(8146),s=n(5942);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(n){const a=o.get(n,e);return void 0===a?s.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},4195:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},4291:(e,t,n)=>{"use strict";n.d(t,{PR:()=>a,h3:()=>o,tU:()=>s,w4:()=>i});var r=n(7867);const a=()=>[{id:1,name:"Luka",mood:3,lastUpdated:"Not updated",role:"Cleaner",lastMoodDate:null,points:0},{id:2,name:"Safi",mood:3,lastUpdated:"Not updated",role:"Cleaner",lastMoodDate:null,points:0},{id:3,name:"Ehsan",mood:3,lastUpdated:"Not updated",role:"Cleaner",lastMoodDate:null,points:0},{id:4,name:"Oleksii",mood:3,lastUpdated:"Not updated",role:"Manager",lastMoodDate:null,points:0}],i=()=>[{id:1,task:"Water all plants",location:"Dining Area",priority:"medium",estimatedTime:"10 min",points:5},{id:2,task:"Refill toilet paper",location:"Restroom",priority:"high",estimatedTime:"5 min",points:8},{id:3,task:"Sweep the floor",location:"Kitchen",priority:"high",estimatedTime:"15 min",points:10},{id:4,task:"Wipe refrigerator surfaces",location:"Kitchen",priority:"medium",estimatedTime:"10 min",points:7},{id:5,task:"Light glass wipe",location:"Kitchen (kylm\xe4vitrini)",priority:"low",estimatedTime:"5 min",points:3},{id:6,task:"Refill takeaway & snack boxes",location:"Kitchen",priority:"medium",estimatedTime:"10 min",points:6},{id:7,task:"Stock napkins",location:"Kitchen",priority:"medium",estimatedTime:"5 min",points:4},{id:8,task:"Wipe and disinfect tables",location:"Dining Area",priority:"high",estimatedTime:"20 min",points:12},{id:9,task:"Clean table legs",location:"Dining Area",priority:"low",estimatedTime:"15 min",points:8},{id:10,task:"Vacuum the floor",location:"Dining Area",priority:"high",estimatedTime:"20 min",points:15},{id:11,task:"Clean sink and mirror",location:"Restroom",priority:"high",estimatedTime:"10 min",points:9},{id:12,task:"Clean inside the toilet",location:"Restroom",priority:"high",estimatedTime:"15 min",points:12},{id:13,task:"Replace towel roll",location:"Restroom",priority:"medium",estimatedTime:"5 min",points:4},{id:14,task:"Final disinfection (POS, Foodora, Wolt)",location:"POS / Front",priority:"high",estimatedTime:"10 min",points:10},{id:15,task:"Sweep the floor",location:"Kitchen (Floor)",priority:"high",estimatedTime:"15 min",points:10},{id:16,task:"Mop the floor (every 2 days)",location:"Kitchen (Floor)",priority:"high",estimatedTime:"20 min",points:15},{id:17,task:"Full grill cleaning",location:"Kitchen",priority:"high",estimatedTime:"45 min",points:25},{id:18,task:"Sanitize all surfaces",location:"Kitchen",priority:"high",estimatedTime:"25 min",points:18},{id:19,task:"Wipe dishwasher surface",location:"Apu-Kitchen",priority:"medium",estimatedTime:"10 min",points:6},{id:20,task:"Replace hood filter (every 3 days)",location:"Kitchen",priority:"medium",estimatedTime:"15 min",points:8},{id:21,task:"Cover all food containers",location:"Storage",priority:"high",estimatedTime:"10 min",points:7},{id:22,task:"Organize containers",location:"Apu-Kitchen",priority:"low",estimatedTime:"15 min",points:5}],o=()=>[{id:1,name:"Free Coffee",description:"Get a free coffee from the kitchen",cost:10,category:"food",icon:"\u2615",available:!0},{id:2,name:"Free Lunch",description:"Get a free meal from the restaurant",cost:50,category:"food",icon:"\ud83c\udf7d\ufe0f",available:!0},{id:3,name:"Free Meal for Friend",description:"Bring a friend for a free meal",cost:80,category:"social",icon:"\ud83d\udc65",available:!0},{id:4,name:"30min Break Extension",description:"Extend your break by 30 minutes",cost:25,category:"break",icon:"\u23f0",available:!0},{id:5,name:"Early Leave (1 hour)",description:"Leave work 1 hour early",cost:60,category:"break",icon:"\ud83d\udeaa",available:!0},{id:6,name:"Free Snack",description:"Get any snack from the kitchen",cost:15,category:"food",icon:"\ud83c\udf7f",available:!0},{id:7,name:"Choose Next Week Schedule",description:"Pick your preferred shifts next week",cost:100,category:"reward",icon:"\ud83d\udcc5",available:!0},{id:8,name:"Team Building Activity",description:"Organize a fun team activity",cost:150,category:"social",icon:"\ud83c\udf89",available:!0},{id:9,name:"Free Dessert",description:"Get any dessert from the menu",cost:20,category:"food",icon:"\ud83c\udf70",available:!0},{id:10,name:"Reserved Parking Spot",description:"Get the best parking spot for a week",cost:40,category:"reward",icon:"\ud83d\ude97",available:!0}],s=()=>{const e=Array.from({length:30},(e,t)=>{const n=new Date;return n.setDate(n.getDate()-t),(0,r.po)(n)}),t={};return e.forEach(e=>{t[e]={completedTasks:[],employeeMoods:[],purchases:[],totalTasks:22,completionRate:0,totalPointsEarned:0,totalPointsSpent:0}}),t}},4378:(e,t,n)=>{var r=n(4759);e.exports=function(){return r.Date.now()}},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},4441:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?E(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?E(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=_(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=_(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return k(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(j(n,o),j(e,o),o),s=!0,E(t,i))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):E(new r(n),a)},v.naturalExponential=v.exp=function(){return S(this)},v.naturalLogarithm=v.ln=function(){return j(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):T(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,o+2)).times(.5),x(i.d).slice(0,o)===(t=x(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(E(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,E(r,n)},v.times=v.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],r=o=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?E(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),E(n,e+k(n)+1,t))},v.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=A(r,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=A(r=E(new a(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?A(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=A((r=E(new o(a),e+k(a)+1,t)).abs(),!1,e+k(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return E(new t(e),k(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return E(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),s=!1;n%2&&O((i=i.times(u)).d,t),0!==(n=d(n/2));)O((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):E(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(j(u,r+12)),s=!0,(i=S(i)).s=o,i},v.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=A(a,(n=k(a))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),r=A(a=E(new o(a),e,t),e<=(n=k(a))||n<=o.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),E(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=k(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,c,u,d,h,f,m,g,v,y,b,x,w,S,N,_,j,C,T=r.constructor,A=r.s==a.s?1:-1,O=r.d,I=a.d;if(!r.s)return new T(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,j=I.length,N=O.length,g=(m=new T(A)).d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--c,(x=null==i?i=T.precision:o?i+(k(r)-k(a))+1:i)<0)return new T(0);if(x=x/7+2|0,u=0,1==j)for(d=0,I=I[0],x++;(u<N||d)&&x--;u++)w=d*p+(O[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),O=e(O,d),j=I.length,N=O.length),S=j,y=(v=O.slice(0,j)).length;y<j;)v[y++]=0;(C=I.slice()).unshift(0),_=I[0],I[1]>=p/2&&++_;do{d=0,(s=t(I,v,j,y))<0?(b=v[0],j!=y&&(b=b*p+(v[1]||0)),(d=b/_|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),v,f=h.length,y=v.length))&&(d--,n(h,j<f?C:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(I,v,j,y=v.length))<1&&(d++,n(v,j<y?C:I,y)),y=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=O[S]||0:(v=[O[S]],y=1)}while((S++<N||void 0!==v[0])&&x--)}return g[0]||g.shift(),m.e=c,E(m,o?i+k(m)+1:i)}}();function S(e,t){var n,r,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=E(r.times(e),l),n=n.times(++c),x((o=i.plus(w(r,n,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=E(i.times(i),l);return f.precision=p,null==t?(s=!0,E(i,p)):i}i=o}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function N(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,i,o,c,u,d,h,f,p=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new v(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),N(v,h);if(h+=10,v.precision=h,r=(n=x(g)).charAt(0),o=k(m),!(Math.abs(o)<15e14))return d=N(v,h+2,y).times(o+""),m=j(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,E(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(o=k(m),r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=E(m.times(m),h),i=3;;){if(c=E(c.times(f),h),x((d=u.plus(w(c,new v(i),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(N(v,h+2,y).times(o+""))),u=w(u,new v(p),h),v.precision=y,null==t?(s=!0,E(u,y)):u;u=d,i+=2}}function C(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,n){var r,a,i,o,l,c,f,m,v=e.d;for(o=1,i=v[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,f=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=v.length))return e;for(f=i=v[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==v[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(i=k(e),v.length=1,t=t-i-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,i=1,m--):(v.length=m+1,i=h(10,7-r),v[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(v[0]+=i)==p&&(v[0]=1,++e.e);break}if(v[m]+=i,v[m]!=p)break;v[m--]=0,i=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+k(e));return e}function T(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?E(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?E(t,m):t):new f(0)}function A(e,t,n){var r,a=k(e),i=x(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+_(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_(-a-1)+i,n&&(r=n-o)>0&&(i+=_(r))):a>=o?(i+=_(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+_(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=_(r))),e.s<0?"-"+i:i}function O(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);C(t,e)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=I,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(9526);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4567:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},4607:(e,t,n)=>{"use strict";n.d(t,{DQ:()=>l,Nd:()=>r,Sh:()=>s,Ur:()=>i,_M:()=>o,qw:()=>a});const r={apiKey:"AIzaSyBBWLn8mFblzOqtbfaGS52aDhFWixSEn0Y",authDomain:"hamptown-panel.firebaseapp.com",databaseURL:"https://hamptown-panel-default-rtdb.firebaseio.com",projectId:"hamptown-panel",storageBucket:"hamptown-panel.firebasestorage.app",messagingSenderId:"937251959184",appId:"1:937251959184:web:b1afb3ed1eecd52fdcc315",measurementId:"G-50NK2PWM7E"},a="6969",i=["\ud83d\ude2b","\ud83d\ude14","\ud83d\ude10","\ud83d\ude0a","\ud83e\udd29"],o=["Terrible","Poor","Okay","Good","Excellent"],s={high:"border-red-400",medium:"border-yellow-400",low:"border-green-400"},l=["bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-blue-500"]},4624:(e,t,n)=>{"use strict";n.d(t,{$b:()=>a,Vy:()=>c});const r=[];var a;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(a||(a={}));const i={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},o=a.INFO,s={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in a))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...t),this._logHandler(this,a.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...t),this._logHandler(this,a.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.INFO,...t),this._logHandler(this,a.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.WARN,...t),this._logHandler(this,a.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.ERROR,...t),this._logHandler(this,a.ERROR,...t)}}},4631:(e,t,n)=>{"use strict";n.d(t,{FH:()=>o,Ir:()=>i,kz:()=>s});var r=n(9379),a=n(1670);const i=(e,t,n,r)=>{const i=n||(new Date).toISOString().split("T")[0],o=(new Date).toISOString(),s=r||"System",l=e.filter(e=>e&&"object"===typeof e),c={};let u=0,d=0,h=0,f=0,p=0;l.forEach(e=>{if(!e||!e.id||!e.name)return void console.warn("\u26a0\ufe0f Skipping item with missing critical fields:",e);p++;const n=Math.max(0,Number(e.currentStock)||0),r=Math.max(0,Number(e.cost)||0),i=Math.max(0,Number(e.minLevel)||0),o=n*r;u+=o;const l=(0,a.V0)(n,i);"out"===l?d++:"critical"===l?h++:"low"===l&&f++,c[e.id.toString()]={itemName:e.name||"Unknown Item",category:(e.category||"uncategorized").toString(),frequency:e.frequency||t,currentStock:n,unit:e.unit||"pieces",unitCost:r,totalValue:o,lastCountDate:e.lastUsed||(new Date).toISOString().split("T")[0],countedBy:s,minLevel:i,optimalLevel:e.optimalLevel||2*i}});const m={daily:"daily"===t?p:0,weekly:"weekly"===t?p:0,monthly:"monthly"===t?p:0};return{date:i,frequency:t,timestamp:o,totalItems:p,totalValue:u,itemCounts:c,summary:{dailyItemsCount:m.daily,weeklyItemsCount:m.weekly,monthlyItemsCount:m.monthly,totalInventoryValue:u,outOfStockItems:d,criticalStockItems:h,lowStockItems:f}}},o=(e,t,n,i)=>{const o=i||(new Date).toISOString().split("T")[0],s=(new Date).toISOString(),l=[...e.map(e=>(0,r.A)((0,r.A)({},e),{},{frequency:"daily"})),...t.map(e=>(0,r.A)((0,r.A)({},e),{},{frequency:"weekly"})),...n.map(e=>(0,r.A)((0,r.A)({},e),{},{frequency:"monthly"}))],c={};let u=0,d=0,h=0,f=0;return l.forEach(e=>{const t=e.currentStock*e.cost;u+=t;const n=(0,a.V0)(e.currentStock,e.minLevel);"out"===n?d++:"critical"===n?h++:"low"===n&&f++,c[e.id.toString()]={itemName:e.name,category:e.category.toString(),frequency:e.frequency,currentStock:e.currentStock,unit:e.unit,unitCost:e.cost,totalValue:t,lastCountDate:e.lastUsed,countedBy:"System",minLevel:e.minLevel,optimalLevel:e.optimalLevel||2*e.minLevel}}),{date:o,frequency:"daily",timestamp:s,totalItems:l.length,totalValue:u,itemCounts:c,summary:{dailyItemsCount:e.length,weeklyItemsCount:t.length,monthlyItemsCount:n.length,totalInventoryValue:u,outOfStockItems:d,criticalStockItems:h,lowStockItems:f}}},s=function(e,t,n,a,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"system_automatic";const s=(arguments.length>6?arguments[6]:void 0)||(new Date).toISOString().split("T")[0],l=(new Date).toISOString(),c="daily_".concat(s.replace(/-/g,""),"_").concat(Date.now()),u=[...e.map(e=>(0,r.A)((0,r.A)({},e),{},{frequency:"daily"})),...t.map(e=>(0,r.A)((0,r.A)({},e),{},{frequency:"weekly"})),...n.map(e=>(0,r.A)((0,r.A)({},e),{},{frequency:"monthly"}))],d=e.reduce((e,t)=>e+t.currentStock*t.cost,0),h=t.reduce((e,t)=>e+t.currentStock*t.cost,0),f=n.reduce((e,t)=>e+t.currentStock*t.cost,0),p=d+h+f,m={};u.forEach(e=>{e&&e.id&&e.name&&(m[e.id.toString()]={id:e.id.toString(),name:e.name,category:e.category||"uncategorized",frequency:e.frequency,currentStock:Math.max(0,Number(e.currentStock)||0),unit:e.unit||"pieces",minimumLevel:Math.max(0,Number(e.minLevel)||0),unitCost:Math.max(0,Number(e.cost)||0),totalValue:Math.max(0,Number(e.currentStock)||0)*Math.max(0,Number(e.cost)||0),lastCountDate:e.lastUsed||s,countedBy:"System",location:"Main Storage",notes:"",optimalLevel:e.optimalLevel||2*Math.max(0,Number(e.minLevel)||0)})});const g=new Date(s);g.setHours(0,0,0,0);const v=new Date(s);v.setHours(23,59,59,999);const y=a.filter(e=>{const t=new Date(e.timestamp);return t>=g&&t<=v}),b={},x={},w={};y.forEach(e=>{if("manual_add"===e.type){b[e.item]||(b[e.item]={quantity:0,cost:0,supplier:"Unknown",timestamp:e.timestamp}),b[e.item].quantity+=e.quantity;const t=u.find(t=>t.name===e.item),n=t?t.cost:0;b[e.item].cost+=e.quantity*n}else if("count_update"===e.type)x[e.item]||(x[e.item]={quantity:0,purpose:"Stock Update",timestamp:e.timestamp}),x[e.item].quantity+=Math.abs(e.quantity);else if("waste"===e.type){w[e.item]||(w[e.item]={quantity:0,reason:e.reason||"Unknown",cost:0,timestamp:e.timestamp}),w[e.item].quantity+=e.quantity;const t=u.find(t=>t.name===e.item),n=t?t.cost:0;w[e.item].cost+=e.quantity*n}});const S={};return i.forEach(e=>{const t=y.filter(t=>t.employee===e.name),n=t.filter(e=>"count_update"===e.type).length,r=[...new Set(t.map(e=>e.item))];S[e.id.toString()]={countsPerformed:n,itemsUpdated:r,hoursWorked:8,notes:""}}),{date:s,timestamp:l,snapshotId:c,createdBy:o,inventoryValue:{total:p,dailyItems:d,weeklyItems:h,monthlyItems:f},items:m,dailyActivity:{itemsReceived:b,itemsUsed:x,itemsWasted:w},compliance:{temperatureLog:[],inspectionNotes:"",healthDeptVisit:!1,auditFlags:[]},employeeActivity:S}}},4635:(e,t,n)=>{var r=n(4759).Symbol;e.exports=r},4759:(e,t,n)=>{var r=n(6658),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},4879:(e,t,n)=>{e.exports=n(8146).get},5031:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,a="",i="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];i?"\\"===s&&r+1<n?(r++,a+=e[r]):s===i?i="":a+=s:o?'"'===s||"'"===s?i=s:"]"===s?(o=!1,t.push(a),a=""):a+=s:"["===s?(o=!0,a&&(t.push(a),a="")):"."===s?a&&(t.push(a),a=""):a+=s,r++}return a&&t.push(a),t}},5067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,initializeEmployeeSelection:()=>s,loadSelectedEmployee:()=>o,saveSelectedEmployee:()=>i});n(9950);var r=n(4414);const a="inventory_selected_employee",i=(e,t)=>{const n={id:e,name:t};localStorage.setItem(a,JSON.stringify(n)),localStorage.setItem("currentUserName",t)},o=()=>{try{const e=localStorage.getItem(a);if(e)return JSON.parse(e);const t=localStorage.getItem("currentUserName");return t?{id:-1,name:t}:null}catch(e){return console.error("Error loading saved employee:",e),null}},s=(e,t)=>{const n=t.find(t=>t.id===e.id||t.name===e.name);if(n)return{id:n.id,name:n.name};const r=o();if(r&&-1!==r.id){if(t.find(e=>e.id===r.id))return r}return t.length>0?{id:t[0].id,name:t[0].name}:null},l=e=>{let{employees:t,selectedEmployeeId:n,onEmployeeSelect:a,isOpen:o,onClose:s}=e;if(!o)return null;const l=e=>{switch(e.toLowerCase()){case"manager":return"bg-blue-500";case"cleaner":return"bg-yellow-500";default:return"bg-gray-500"}};return(0,r.jsxs)("div",{className:"absolute top-16 left-4 bg-white border rounded-lg shadow-lg z-40 w-64",children:[(0,r.jsx)("div",{className:"p-3 border-b bg-gray-50",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Switch Employee"})}),(0,r.jsx)("div",{className:"max-h-64 overflow-y-auto",children:t.map(e=>{const t=n===e.id;return(0,r.jsxs)("button",{onClick:()=>(e=>{a(e.id,e.name),i(e.id,e.name),s()})(e),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center justify-between ".concat(t?"bg-blue-50 border-r-2 border-blue-500":""),children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat(l(e.role))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[e.role," \u2022 ",e.points," pts"]})]})]}),t&&(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check w-4 h-4 text-blue-500",children:(0,r.jsx)("path",{d:"M20 6 9 17l-5-5"})})]},e.id)})})]})}},5230:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9223);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},5336:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},5399:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1311);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},5438:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},5491:(e,t,n)=>{var r=n(4567),a=n(4378),i=n(2588),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function x(){var e=a();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,v&&l?y(e):(l=c=void 0,d)}function S(){var e=a(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,t),m?y(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(x,t),y(f)}return void 0===h&&(h=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(i(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:w(a())},S}},5497:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9363),a=n(8897),i=n(2718);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&i.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&i.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},5573:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6537);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},5628:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},5698:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),i=n(t);if(a===i&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?i-a:a-i}return 0}},5825:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8146);t.property=function(e){return function(t){return r.get(t,e)}}},5942:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1098),a=n(7431),i=n(5230),o=n(5031);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||i.isArguments(s))&&a.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},6135:(e,t,n)=>{e.exports=n(6633).throttle},6170:(e,t,n)=>{"use strict";n.d(t,{cY:()=>b,FA:()=>P,g:()=>I,gz:()=>Y,vA:()=>a,Hk:()=>i,K3:()=>s,u:()=>d,KA:()=>c,Uj:()=>u,gR:()=>z,Fy:()=>S,A4:()=>h,bD:()=>V,dI:()=>G,T9:()=>y,yU:()=>v,Ku:()=>Q,qc:()=>U,zJ:()=>x,Im:()=>W,zW:()=>A,jZ:()=>C,$g:()=>T,lV:()=>E,Cv:()=>F,$L:()=>M,kH:()=>H,gE:()=>w,Am:()=>K,yw:()=>B,OE:()=>X,kj:()=>$,As:()=>R,P1:()=>_,eX:()=>O});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],i=a+1<e.length,o=i?e[a+1]:0,s=a+2<e.length,l=s?e[a+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){const i=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const s=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==o||null==s)throw new l;const c=t<<2|i>>4;if(r.push(c),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(e){const t=o(e);return s.encodeByteArray(t,!0)},u=function(e){return c(e).replace(/\./g,"")},d=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&p(n)&&(e[n]=f(e[n],t[n]));return e}function p(e){return"__proto__"!==e}const m=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,g=()=>{try{return m()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/hamptownControlPanel",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{const t=(e=>{var t,n;return null===(n=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},y=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config};class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function w(e){return(await fetch(e,{credentials:"include"})).ok}function S(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(i)),""].join(".")}const k={};let N=!1;function _(e,t){if("undefined"===typeof window||"undefined"===typeof document||!x(window.location.host)||k[e]===t||k[e]||N)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{N=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}a?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function E(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function A(){try{return"object"===typeof indexedDB}catch(e){return!1}}function O(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class I extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(D,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new I(n,i,t)}}const D=/\{\$([^}]+)}/g;function M(e){return JSON.parse(e)}function R(e){return JSON.stringify(e)}const L=function(e){let t={},n={},r={},a="";try{const i=e.split(".");t=M(d(i[0])||""),n=M(d(i[1])||""),a=i[2],r=n.d||{},delete n.d}catch(i){}return{header:t,claims:n,data:r,signature:a}},F=function(e){const t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},U=function(e){const t=L(e).claims;return"object"===typeof t&&!0===t.admin};function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function W(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}function V(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],i=t[a];if(q(n)&&q(i)){if(!V(n,i))return!1}else if(n!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function q(e){return null!==e&&"object"===typeof e}function K(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class Y{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,a,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(s^l),a=1518500249):(r=o^s^l,a=1859775393):u<60?(r=o&s|l&(o|s),a=2400959708):(r=o^s^l,a=3395469782);const e=(i<<5|i>>>27)+r+c+a+n[u]&4294967295;c=l,l=s,s=4294967295&(o<<30|o>>>2),o=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const a=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(a[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(a),i=0;break}}else for(;r<t;)if(a[i]=e[r],++i,++r,i===this.blockSize){this.compress_(a),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function G(e,t){return"".concat(e," failed: ").concat(t," argument ")}const $=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},X=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Q(e){return e&&e._delegate?e._delegate:e}},6537:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690),a=n(3470);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,i,o,s)=>{const l=null===t||void 0===t?void 0:t(n,i,o,s);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},6538:(e,t,n)=>{"use strict";e.exports=n(759)},6567:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1921);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},6633:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2742);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},6658:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},6667:(e,t,n)=>{e.exports=n(6928).last},6879:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case o:case i:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case s:return e;default:return t}}case r:return t}}}t.zv=function(e){return g(e)===a}},6907:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;const o=null!=a&&a.includes("leading"),s=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(n,i),n=void 0,i=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,i=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=t;const s=null==c;u(),o&&s&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},6914:(e,t,n)=>{var r=n(8798),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},6928:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1047),a=n(225),i=n(7740);t.last=function(e){if(i.isArrayLike(e))return r.last(a.toArray(e))}},7108:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7253:(e,t,n)=>{"use strict";n.d(t,{h1:()=>s,uA:()=>a});var r=n(6170);class a{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===i?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},7254:(e,t,n)=>{"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},7256:(e,t,n)=>{"use strict";n(7254)},7384:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(11),a=n(1810),i=n(3787),o=n(1640);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},7431:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},7658:(e,t,n)=>{"use strict";n.d(t,{FirebaseService:()=>l});var r=n(9379),a=n(4607),i=n(4291),o=n(815),s=n(2578);class l{constructor(){this.baseUrl=a.Nd.databaseURL,this.saveQueue=new Set,this.isCurrentlySaving=!1,this.app=(0,o.Wp)(a.Nd),this.db=(0,s.C3)(this.app),this.pendingSaves=new Map,this.lastSaveTimestamps=new Map,this.saveAttempts=new Map}async getLastTaskResetDate(){try{const e=await fetch("".concat(this.baseUrl,"/meta/lastTaskResetDate.json"));if(!e.ok)throw new Error("Failed to fetch lastTaskResetDate");const t=await e.json();return"string"===typeof t?t:null}catch(e){return console.error("\u274c Error fetching lastTaskResetDate:",e),null}}async setLastTaskResetDate(e){try{if(!(await fetch("".concat(this.baseUrl,"/meta/lastTaskResetDate.json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to set lastTaskResetDate");return!0}catch(t){return console.error("\u274c Error setting lastTaskResetDate:",t),!1}}async acquireResetLock(e,t,n){try{const r=await fetch("".concat(this.baseUrl,"/locks/").concat(e,".json"));if(r.ok){const e=await r.json();if(e&&e.expiry>Date.now())return e.deviceId===t}const a={deviceId:t,expiry:n,timestamp:Date.now()};if(!(await fetch("".concat(this.baseUrl,"/locks/").concat(e,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Failed to acquire lock");const i=await fetch("".concat(this.baseUrl,"/locks/").concat(e,".json"));if(!i.ok)return!1;const o=await i.json();return o&&o.deviceId===t&&o.expiry===n}catch(r){return console.error("\u274c Error acquiring reset lock:",r),!1}}async releaseResetLock(e,t){try{const n=await fetch("".concat(this.baseUrl,"/locks/").concat(e,".json"));if(n.ok){const e=await n.json();if(e&&e.deviceId!==t)return console.warn("\u26a0\ufe0f Attempted to release lock owned by another device"),!1}return(await fetch("".concat(this.baseUrl,"/locks/").concat(e,".json"),{method:"DELETE"})).ok}catch(n){return console.error("\u274c Error releasing reset lock:",n),!1}}async quickSave(e,t){const n=Date.now()-(this.lastSaveTimestamps.get(e)||0);if(n<2e3){console.log("\u23f3 Debouncing rapid save for ".concat(e," (").concat(n,"ms since last save)"));const r=this.pendingSaves.get(e);r&&clearTimeout(r);const a=setTimeout(()=>{this.executeSave(e,t),this.pendingSaves.delete(e)},1500);return this.pendingSaves.set(e,a),!0}return this.executeSave(e,t)}safeStringify(e){try{return JSON.stringify(e)}catch(t){return console.warn("\u26a0\ufe0f Unable to stringify data for Firebase save:",t instanceof Error?t.message:String(t)),null}}async executeSave(e,t){console.log("\ud83d\udd25 QuickSave: ".concat(e)),console.log("\ud83d\udd0d Saving ".concat(e," to Firebase:"),this.getDataSummary(e,t));const n=this.saveAttempts.get(e)||0;if(this.saveAttempts.set(e,n+1),n>5)return console.warn("\u26a0\ufe0f Too many save attempts for ".concat(e,", throttling...")),this.saveAttempts.set(e,0),!1;try{const n=this.safeStringify(t);if(null===n)return console.error("\u274c Cannot serialize data for ".concat(e," - skipping save")),!1;const a=await fetch("".concat(this.baseUrl,"/").concat(e,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:n});if(!a.ok){const i={field:e,status:a.status,statusText:a.statusText,url:"".concat(this.baseUrl,"/").concat(e,".json"),dataSize:n.length,dataType:Array.isArray(t)?"array":typeof t,timestamp:(new Date).toISOString()};console.error("\u274c Firebase save detailed error:",i);try{const e=await a.text();console.error("\u274c Firebase error response body:",e)}catch(r){console.error("\u274c Could not read error response body:",r)}throw new Error("Firebase save failed: ".concat(a.status," ").concat(a.statusText," for field ").concat(e))}console.log("\ud83d\udd12 Critical save - waiting for confirmation: ".concat(e));if("completedTasks"===e||"taskAssignments"===e){const t=await fetch("".concat(this.baseUrl,"/").concat(e,".json")),n=await t.json();console.log("\ud83d\udd0d Verified data in Firebase after save:",this.getDataSummary(e,n))}return console.log("\u2705 Critical QuickSave completed: ".concat(e)),console.log("\ud83d\udd12 [CRITICAL-SAVE] ".concat(e.charAt(0).toUpperCase()+e.slice(1)," QuickSave confirmed by Firebase.")),this.lastSaveTimestamps.set(e,Date.now()),this.saveAttempts.set(e,0),!0}catch(a){return console.error("\u274c QuickSave failed for ".concat(e," - detailed error:"),{field:e,error:a,errorMessage:a instanceof Error?a.message:String(a),errorStack:a instanceof Error?a.stack:void 0,dataInfo:this.getDataSizeInfo(e,{[e]:t}),attempt:this.saveAttempts.get(e)||1,timestamp:(new Date).toISOString()}),t&&(Array.isArray(t)||"object"===typeof t)&&console.error("\ud83d\udd0d Problematic data sample for ".concat(e,":"),this.getDataSample(e,{[e]:t})),!1}}async batchSave(e,t){if(this.isCurrentlySaving)return console.log("\u23f3 Save already in progress, queueing fields:",e),e.forEach(e=>this.saveQueue.add(e)),!0;this.isCurrentlySaving=!0,console.log("\ud83d\udd04 Batch syncing fields:",e);try{const n=e.map(async e=>{const n=this.getFieldData(e,t);return this.quickSave(e,n)}),r=await Promise.all(n),a=r.every(e=>!0===e);if(a){if(console.log("\u2705 Batch sync completed"),this.saveQueue.size>0){const e=Array.from(this.saveQueue);this.saveQueue.clear(),console.log("\ud83d\udce4 Processing sync queue:",e),setTimeout(()=>{this.batchSave(e,t)},100)}}else{console.error("\u274c Some batch saves failed - detailed analysis:"),console.error("\ud83d\udcca Field save results:",e.map((e,n)=>({field:e,success:r[n],dataSize:this.getDataSizeInfo(e,t)})));const n=e.filter((e,t)=>!0!==r[t]);n.length>0&&(console.error("\u274c Failed fields:",n),console.error("\ud83d\udd0d Failed field data samples:",n.map(e=>({field:e,dataSample:this.getDataSample(e,t)}))))}return a}catch(n){return console.error("\u274c Batch save failed - detailed error info:",{error:n,errorMessage:n instanceof Error?n.message:String(n),errorStack:n instanceof Error?n.stack:void 0,fieldsBeingSaved:e,timestamp:(new Date).toISOString()}),!1}finally{this.isCurrentlySaving=!1}}getFieldData(e,t){switch(e){case"employees":return t.employees;case"tasks":return t.tasks;case"dailyData":return t.dailyData;case"completedTasks":return Array.from(t.completedTasks);case"taskAssignments":return t.taskAssignments;case"customRoles":return t.customRoles;case"prepItems":return t.prepItems;case"scheduledPreps":return t.scheduledPreps;case"prepSelections":return t.prepSelections;case"storeItems":return t.storeItems;case"inventoryDailyItems":return t.inventoryDailyItems;case"inventoryWeeklyItems":return t.inventoryWeeklyItems;case"inventoryMonthlyItems":return t.inventoryMonthlyItems;case"inventoryDatabaseItems":return t.inventoryDatabaseItems;case"inventoryActivityLog":return t.inventoryActivityLog;case"inventoryCustomCategories":return t.inventoryCustomCategories;case"stockCountSnapshots":return t.stockCountSnapshots;default:return console.warn("Unknown field: ".concat(e)),null}}getDataSummary(e,t){var n,r,a,i,o,s;switch(e){case"employees":return{totalCount:(null===t||void 0===t?void 0:t.length)||0,sampleEmployee:(null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.name)||"none"};case"tasks":return{totalCount:(null===t||void 0===t?void 0:t.length)||0,sampleTask:(null===t||void 0===t||null===(r=t[0])||void 0===r?void 0:r.task)||"none"};case"dailyData":return{totalDates:Object.keys(t||{}).length,latestDate:Object.keys(t||{}).sort().pop()||"none"};case"completedTasks":return{completedCount:Array.isArray(t)?t.length:(null===t||void 0===t?void 0:t.size)||0};case"taskAssignments":return{totalAssignments:Object.keys(t||{}).length};case"customRoles":return{rolesCount:(null===t||void 0===t?void 0:t.length)||0,roles:t||[]};case"prepItems":return{totalCount:(null===t||void 0===t?void 0:t.length)||0,samplePrep:(null===t||void 0===t||null===(a=t[0])||void 0===a?void 0:a.name)||"none"};case"scheduledPreps":const e=(new Date).toISOString().split("T")[0],l=(t||[]).filter(t=>t.scheduledDate===e);return{totalCount:(t||[]).length,todayCount:l.length,todayCompletedCount:l.filter(e=>e.completed).length,sampleTodayPreps:l.slice(0,3).map(e=>({id:e.id,name:e.name,completed:e.completed,scheduledDate:e.scheduledDate}))};case"prepSelections":return{totalSelections:Object.keys(t||{}).length,sampleKeys:Object.keys(t||{}).slice(0,3)};case"storeItems":return{totalCount:(null===t||void 0===t?void 0:t.length)||0,availableCount:(t||[]).filter(e=>e.available).length};case"inventoryDailyItems":case"inventoryWeeklyItems":case"inventoryMonthlyItems":return{totalCount:(null===t||void 0===t?void 0:t.length)||0,criticalCount:(t||[]).filter(e=>e.currentStock<=.5*e.minLevel).length};case"inventoryDatabaseItems":return{totalCount:(null===t||void 0===t?void 0:t.length)||0,assignedCount:(t||[]).filter(e=>e.isAssigned).length};case"inventoryActivityLog":return{totalEntries:(null===t||void 0===t?void 0:t.length)||0,latestEntry:(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.timestamp)||"none"};case"inventoryCustomCategories":return{totalCategories:(null===t||void 0===t?void 0:t.length)||0,sampleCategory:(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.name)||"none"};case"stockCountSnapshots":return{totalSnapshots:(null===t||void 0===t?void 0:t.length)||0,latestSnapshot:(null===t||void 0===t||null===(s=t[0])||void 0===s?void 0:s.date)||"none"};default:return t}}async loadData(){console.log("\ud83d\udd25 Loading data from Firebase...");try{const e=async(e,t)=>{if(!e.ok)throw new Error("Failed to fetch ".concat(t,": HTTP ").concat(e.status," ").concat(e.statusText));return e},[t,n,a,o,s,l,c,u,d,h,f,p,m,g,v,y,b]=await Promise.all([fetch("".concat(this.baseUrl,"/employees.json")).then(t=>e(t,"employees")),fetch("".concat(this.baseUrl,"/tasks.json")).then(t=>e(t,"tasks")),fetch("".concat(this.baseUrl,"/dailyData.json")).then(t=>e(t,"dailyData")),fetch("".concat(this.baseUrl,"/completedTasks.json")).then(t=>e(t,"completedTasks")),fetch("".concat(this.baseUrl,"/taskAssignments.json")).then(t=>e(t,"taskAssignments")),fetch("".concat(this.baseUrl,"/customRoles.json")).then(t=>e(t,"customRoles")),fetch("".concat(this.baseUrl,"/prepItems.json")).then(t=>e(t,"prepItems")),fetch("".concat(this.baseUrl,"/scheduledPreps.json")).then(t=>e(t,"scheduledPreps")),fetch("".concat(this.baseUrl,"/prepSelections.json")).then(t=>e(t,"prepSelections")),fetch("".concat(this.baseUrl,"/storeItems.json")).then(t=>e(t,"storeItems")),fetch("".concat(this.baseUrl,"/inventoryDailyItems.json")).then(t=>e(t,"inventoryDailyItems")),fetch("".concat(this.baseUrl,"/inventoryWeeklyItems.json")).then(t=>e(t,"inventoryWeeklyItems")),fetch("".concat(this.baseUrl,"/inventoryMonthlyItems.json")).then(t=>e(t,"inventoryMonthlyItems")),fetch("".concat(this.baseUrl,"/inventoryDatabaseItems.json")).then(t=>e(t,"inventoryDatabaseItems")),fetch("".concat(this.baseUrl,"/inventoryActivityLog.json")).then(t=>e(t,"inventoryActivityLog")),fetch("".concat(this.baseUrl,"/inventoryCustomCategories.json")).then(t=>e(t,"inventoryCustomCategories")),fetch("".concat(this.baseUrl,"/stockCountSnapshots.json")).then(t=>e(t,"stockCountSnapshots"))]),x=await t.json(),w=await n.json(),S=await a.json(),k=await o.json(),N=await s.json(),_=await l.json(),j=await c.json(),C=await u.json(),E=await d.json(),T=await h.json(),A=await f.json(),O=await p.json(),I=await m.json(),P=await g.json(),D=await v.json(),M=await y.json(),R=await b.json(),L=x?x.map(e=>(0,r.A)((0,r.A)({},e),{},{points:void 0!==e.points?e.points:0})):(0,i.PR)(),F=w?w.map(e=>(0,r.A)((0,r.A)({},e),{},{points:void 0!==e.points?e.points:this.getDefaultTaskPoints(e.priority)})):(0,i.w4)(),U=S?this.migrateDailyData(S):(0,i.tU)();return console.log("\u2705 Firebase: Data loaded and migrated successfully"),console.log("\ud83d\udc65 Employees with points:",L),C&&console.log("\ud83d\udccb Loaded scheduledPreps:",this.getDataSummary("scheduledPreps",C)),{employees:L,tasks:F,dailyData:U,completedTasks:new Set(k||[]),taskAssignments:N||{},customRoles:_||["Cleaner","Manager","Supervisor"],prepItems:j||[],scheduledPreps:C||[],prepSelections:E||{},storeItems:T||[],inventoryDailyItems:A||[],inventoryWeeklyItems:O||[],inventoryMonthlyItems:I||[],inventoryDatabaseItems:P||[],inventoryActivityLog:D||[],inventoryCustomCategories:M||[],stockCountSnapshots:R||[]}}catch(e){throw console.error("\u274c Firebase connection failed:",{message:e instanceof Error?e.message:"Unknown error",name:e instanceof Error?e.name:"Error",stack:e instanceof Error?e.stack:void 0,baseUrl:this.baseUrl,timestamp:(new Date).toISOString(),error:e}),e instanceof TypeError&&e.message.includes("fetch")?console.error("\ud83c\udf10 Network connectivity issue detected - check internet connection"):e instanceof Error&&e.message.includes("timeout")&&console.error("\u23f1\ufe0f Request timeout - Firebase may be slow or unreachable"),e}}getDefaultTaskPoints(e){switch(e){case"high":return 10;case"medium":default:return 5;case"low":return 3}}migrateDailyData(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];t[n]={completedTasks:r.completedTasks||[],employeeMoods:r.employeeMoods||[],purchases:r.purchases||[],totalTasks:r.totalTasks||22,completionRate:r.completionRate||0,totalPointsEarned:r.totalPointsEarned||0,totalPointsSpent:r.totalPointsSpent||0}}),t}async saveData(e){console.log("\ud83d\udd25 Saving all data to Firebase...");if(!await this.batchSave(["employees","tasks","dailyData","completedTasks","taskAssignments","customRoles","prepItems","scheduledPreps","prepSelections","storeItems","inventoryDailyItems","inventoryWeeklyItems","inventoryMonthlyItems","inventoryDatabaseItems","inventoryActivityLog","inventoryCustomCategories","stockCountSnapshots","dailyInventorySnapshots","inventoryHistoricalSnapshots"],e))throw console.error("\u274c Firebase: Some data failed to save"),new Error("Firebase save failed");console.log("\u2705 Firebase: All data saved successfully")}async saveImmediate(e,t,n){console.log("\ud83d\udd25 Immediate save triggered by ".concat(e," change"));const r=await this.quickSave(e,t);return r&&n&&"scheduledPreps"!==e&&setTimeout(()=>{console.log("\ud83d\udd04 Background sync of related fields");const t=this.getRelatedFields(e);t.length>0&&this.batchSave(t,n)},1e3),r}getRelatedFields(e){switch(e){case"completedTasks":return["employees","dailyData","taskAssignments"];case"employees":return["dailyData"];case"taskAssignments":return["completedTasks"];case"scheduledPreps":return["prepSelections"];case"inventoryDailyItems":case"inventoryWeeklyItems":case"inventoryMonthlyItems":return["inventoryActivityLog"];case"inventoryDatabaseItems":return["inventoryDailyItems","inventoryWeeklyItems","inventoryMonthlyItems"];default:return[]}}onCompletedTasksChange(e){const t=(0,s.KR)(this.db,"completedTasks"),n=(0,s.Zy)(t,t=>{const n=t.val()||[];e(n)});return()=>(0,s.AU)(t,"value",n)}onTaskAssignmentsChange(e){const t=(0,s.KR)(this.db,"taskAssignments"),n=(0,s.Zy)(t,t=>{const n=t.val()||{};e(n)});return()=>(0,s.AU)(t,"value",n)}async saveStockCountSnapshot(e){try{const t=await fetch("".concat(this.baseUrl,"/stockCountSnapshots.json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return console.log("\u2705 Stock count snapshot saved successfully:",e.snapshotId),!0;throw new Error("Failed to save snapshot: ".concat(t.status))}catch(t){return console.error("\u274c Error saving stock count snapshot:",t),!1}}async getStockCountSnapshots(e,t){try{const n=await fetch("".concat(this.baseUrl,"/stockCountSnapshots.json"));if(!n.ok)throw new Error("Failed to fetch snapshots");const r=await n.json(),a=r?Object.values(r):[];return e||t?a.filter(n=>{const r=new Date(n.date),a=e?new Date(e):new Date("1900-01-01"),i=t?new Date(t):new Date("2099-12-31");return r>=a&&r<=i}):a.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}catch(n){return console.error("\u274c Error fetching stock count snapshots:",n),[]}}async getLatestSnapshot(e){try{const t=await this.getStockCountSnapshots(),n=e?t.filter(t=>t.frequency===e):t;return n.length>0?n[0]:null}catch(t){return console.error("\u274c Error fetching latest snapshot:",t),null}}getDataSizeInfo(e,t){const n=this.getFieldData(e,t);if(null===n||void 0===n)return{type:"null",sizeBytes:4};const r=e=>{try{return JSON.stringify(e).length}catch(t){return-1}};if(Array.isArray(n)){const e=r(n);return{type:"array",length:n.length,sizeBytes:e>=0?e:"non-serializable"}}if(n instanceof Set){const e=r(Array.from(n));return{type:"set",size:n.size,sizeBytes:e>=0?e:"non-serializable"}}if("object"===typeof n){const e=r(n);return{type:"object",keys:Object.keys(n).length,sizeBytes:e>=0?e:"non-serializable"}}{const e=r(n);return{type:typeof n,sizeBytes:e>=0?e:"non-serializable"}}}getDataSample(e,t){const n=this.getFieldData(e,t);if(null===n||void 0===n)return{type:"null",value:n};if(Array.isArray(n))return{totalLength:n.length,sample:n.slice(0,3),hasInvalidItems:n.some(e=>!e||"object"!==typeof e)};if(n instanceof Set){const e=Array.from(n);return{totalSize:n.size,sample:e.slice(0,3)}}if("object"===typeof n){const e=Object.keys(n);return{totalKeys:e.length,sampleKeys:e.slice(0,5),sample:Object.fromEntries(e.slice(0,3).map(e=>[e,n[e]]))}}return n}}},7723:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(515),a=n(8448);t.isEqual=function(e,t){return r.isEqualWith(e,t,a.noop)}},7736:(e,t,n)=>{var r=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7740:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1111);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},7774:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2718),a=n(6567);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const i=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(i);for(let r=0;r<i;r++)o[r]=e,e+=n;return o}},7867:(e,t,n)=>{"use strict";n.d(t,{eX:()=>o,po:()=>a,zQ:()=>i});var r=n(4607);const a=e=>"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")),i=e=>r.DQ[e-1]||"bg-gray-500",o=e=>r.Sh[e]},8146:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4195),a=n(1098),i=n(1083),o=n(5031);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const i=t[n];return void 0===i?a.isDeepKey(n)?e(t,o.toPath(n),s):s:i}case"number":case"symbol":{"number"===typeof n&&(n=i.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let i=0;i<t.length;i++){if(null==a)return n;if(r.isUnsafeProperty(t[i]))return n;a=a[t[i]]}if(void 0===a)return n;return a}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},8316:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},8345:(e,t,n)=>{"use strict";var r=n(9950),a=n(5340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case _:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ne=null;function _e(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),Se(e.stateNode,e.type,t))}}function je(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ne)&&(Te(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Me(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,ze={onError:function(e){Re=!0,Le=e}};function Be(e,t,n,r,a,i,o,s,l){Re=!1,Le=null,Me.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===r)return Ve(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Qe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Nt,_t,jt=!1,Ct=[],Et=null,Tt=null,At=null,Ot=new Map,It=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){jt=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Ut),It.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Tt&&Bt(Tt,e),null!==At&&Bt(At,e),Ot.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var Ht=x.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Kt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Yt(e,t,n,r){if(Vt){var a=$t(e,t,n,r);if(null===a)Vr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Rt(Et,e,t,n,r,a),!0;case"dragenter":return Tt=Rt(Tt,e,t,n,r,a),!0;case"mouseover":return At=Rt(At,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ot.set(i,Rt(Ot.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,It.set(i,Rt(It.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=$t(e,t,n,r))&&Vr(e,t,r,Gt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Gt=null;function $t(e,t,n,r){if(Gt=null,null!==(e=ya(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return Nn}var jn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(jn),En=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(On),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){je(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function Gn(e){Fr(e,0)}function $n(e){if(Y(xa(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Yn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Yn)){var t=[];qn(t,Yn,e,we(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function ir(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var o=ur(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Nr={};function _r(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return kr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var jr=_r("animationend"),Cr=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(jr,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(Er,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,c){if(Be.apply(this,arguments),Re){if(!Re)throw Error(i(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,s,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var a=qt;break;case 4:a=Kt;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Oe(function(){var r=i,a=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case jr:case Cr:case Er:l=vn;break;case Tr:l=An;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xa(l),f=null==c?s:xa(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=h;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Vn(s))if(Qn)g=or;else{g=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(o,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xa(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Jt="value"in(Qt=a)?Qt.value:Qt.textContent,Wn=!0)),0<(v=Kr(r,b)).length&&(b=new xn(b,e,null,n,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Qt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Fr(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ie(e,n))&&r.unshift(qr(e,i,a)),null!=(i=Ie(e,t))&&r.push(qr(e,i,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Ie(n,i))&&o.unshift(qr(n,l,s)):a||null!=(l=Ie(n,i))&&o.push(qr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var Sa=[],ka=-1;function Na(e){return{current:e}}function _a(e){0>ka||(e.current=Sa[ka],Sa[ka]=null,ka--)}function ja(e,t){ka++,Sa[ka]=e.current,e.current=t}var Ca={},Ea=Na(Ca),Ta=Na(!1),Aa=Ca;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){_a(Ta),_a(Ea)}function Da(e,t,n){if(Ea.current!==Ca)throw Error(i(168));ja(Ea,t),ja(Ta,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Aa=Ea.current,ja(Ea,e),ja(Ta,Ta.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ma(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,_a(Ta),_a(Ea),ja(Ea,e)):_a(Ta),ja(Ta,n)}var Fa=null,Ua=!1,za=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function Wa(){if(!za&&null!==Fa){za=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ua=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ye(Ze,Wa),a}finally{bt=t,za=!1}}return null}var Ha=[],Va=0,qa=null,Ka=0,Ya=[],Ga=0,$a=null,Xa=1,Qa="";function Ja(e,t){Ha[Va++]=Ka,Ha[Va++]=qa,qa=e,Ka=t}function Za(e,t,n){Ya[Ga++]=Xa,Ya[Ga++]=Qa,Ya[Ga++]=$a,$a=e;var r=Xa;e=Qa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xa=1<<32-ot(t)+a|n<<a|r,Qa=i+e}else Xa=1<<i|n<<a|r,Qa=e}function ei(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ti(e){for(;e===qa;)qa=Ha[--Va],Ha[Va]=null,Ka=Ha[--Va],Ha[Va]=null;for(;e===$a;)$a=Ya[--Ga],Ya[Ga]=null,Qa=Ya[--Ga],Ya[Ga]=null,Xa=Ya[--Ga],Ya[Ga]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Xa,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ca(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&yi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case S:return n.key===a?u(e,t,n,r):null;case I:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);vi(t,r)}return null}function m(a,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(a,d),ai&&Ja(a,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Ja(a,m),c}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&Ja(a,m),c}function g(a,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),ai&&Ja(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return ai&&Ja(a,g),u}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(a,e)}),ai&&Ja(a,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(i=a(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&yi(c)===u.type){n(r,u.sibling),(i=a(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((i=Mc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return s(r);case S:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(o,r.mode,l)).return=r,r=i}return s(r);case I:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(M(o))return g(r,i,o,l);vi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Lc(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var xi=bi(!0),wi=bi(!1),Si=Na(null),ki=null,Ni=null,_i=null;function ji(){_i=Ni=ki=null}function Ci(e){var t=Si.current;_a(Si),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){ki=e,_i=Ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===Ni){if(null===ki)throw Error(i(308));Ni=e,ki.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var Oi=null;function Ii(e){null===Oi?Oi=[e]:Oi.push(e)}function Pi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ii(t)):(n.next=a.next,a.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Di(e,n)}return null===(a=r.interleaved)?(t.next=t,Ii(r)):(t.next=a.next,a.next=t),r.interleaved=t,Di(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var a=e.updateQueue;Mi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Mi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Vi={},qi=Na(Vi),Ki=Na(Vi),Yi=Na(Vi);function Gi(e){if(e===Vi)throw Error(i(174));return e}function $i(e,t){switch(ja(Yi,t),ja(Ki,e),ja(qi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(qi),ja(qi,t)}function Xi(){_a(qi),_a(Ki),_a(Yi)}function Qi(e){Gi(Yi.current);var t=Gi(qi.current),n=le(t,e.type);t!==n&&(ja(Ki,e),ja(qi,n))}function Ji(e){Ki.current===e&&(_a(qi),_a(Ki))}var Zi=Na(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,ao=x.ReactCurrentBatchConfig,io=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,a,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,a)}while(uo)}if(ro.current=Jo,t=null!==so&&null!==so.next,io=0,lo=so=oo=null,co=!1,t)throw Error(i(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(i(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=so,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Rl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function No(e,t){var n=oo,r=bo(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,bs=!0),r=r.queue,Ro(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,jo.bind(null,n,r,a,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&io)||_o(n,t,a)}return a}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&To(e)}function Co(e,t,n){return n(function(){Eo(t)&&To(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function To(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return bo().memoizedState}function Po(e,t,n,r){var a=yo();oo.flags|=e,a.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var a=bo();r=void 0===r?null:r;var i=void 0;if(null!==so){var o=so.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(a.memoizedState=Oo(t,n,i,r))}oo.flags|=e,a.memoizedState=Oo(1|t,n,i,r)}function Mo(e,t){return Po(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function Bo(){}function Wo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{bt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Yo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e))Xo(t,n);else if(null!==(n=Pi(e,t,n,r))){nc(n,e,r,ec()),Qo(n,t,r)}}function Go(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Xo(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,Ii(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Pi(e,t,a,r))&&(nc(n,e,r,a=ec()),Qo(n,t,r))}}function $o(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ai,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ai,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,a=yo();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&io)||_o(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,jo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Tl.identifierPrefix;if(ai){var n=Qa;t=":"+t+"R"+(n=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Wo,useContext:Ai,useEffect:Ro,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Ho,useReducer:wo,useRef:Io,useState:function(){return wo(xo)},useDebugValue:Bo,useDeferredValue:function(e){return Vo(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:No,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Wo,useContext:Ai,useEffect:Ro,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Ho,useReducer:So,useRef:Io,useState:function(){return So(xo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Vo(t,so.memoizedState,e)},useTransition:function(){return[So(xo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:No,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Fi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,a))&&(nc(t,e,a,r),zi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),i=Fi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,a))&&(nc(t,e,a,r),zi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Fi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ui(e,a,r))&&(nc(t,e,r,n),zi(t,e,r))}};function is(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function os(e,t,n){var r=!1,a=Ca,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(a=Ia(t)?Aa:Ea.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ca),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ai(i):(i=Ia(t)?Aa:Ea.current,a.context=Oa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Wi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),ds(0,t)},n}function ps(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var ys=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?wi(t,null,n,r):xi(t,e.child,n,r)}function ws(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=go(e,t,n,r,i,a),n=vo(),null===e||bs?(ai&&n&&ei(t),t.flags|=1,xs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ic(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Vs(e,t,a)}return t.flags|=1,(e=Pc(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Vs(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return js(e,t,n,r,a)}function Ns(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ja(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ja(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ja(Pl,Il),Il|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ja(Pl,Il),Il|=r;return xs(e,t,a,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function js(e,t,n,r,a){var i=Ia(n)?Aa:Ea.current;return i=Oa(t,i),Ti(t,a),n=go(e,t,n,r,i,a),r=vo(),null===e||bs?(ai&&r&&ei(t),t.flags|=1,xs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Cs(e,t,n,r,a){if(Ia(n)){var i=!0;Ra(t)}else i=!1;if(Ti(t,a),null===t.stateNode)Hs(e,t),os(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Oa(t,c=Ia(n)?Aa:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Mi=!1;var h=t.memoizedState;o.state=h,Wi(t,r,o,a),l=t.memoizedState,s!==r||h!==l||Ta.current||Mi?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Mi||is(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Li(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Oa(t,l=Ia(n)?Aa:Ea.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Mi=!1,h=t.memoizedState,o.state=h,Wi(t,r,o,a);var p=t.memoizedState;s!==d||h!==p||Ta.current||Mi?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Mi||is(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,i,a)}function Es(e,t,n,r,a,i){_s(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),Vs(e,t,i);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),$i(e,t.containerInfo)}function As(e,t,n,r,a){return fi(),pi(a),t.flags|=256,xs(e,t,n,r),t.child}var Os,Is,Ps,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,o=Zi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ja(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,a,0,null),e=Mc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(o=Mc(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xi(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Tl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Di(e,a),nc(r,e,a,-1))}return mc(),Us(e,t,s,r=us(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ya[Ga++]=Xa,Ya[Ga++]=Qa,Ya[Ga++]=$a,Xa=e.id,Qa=e.overflow,$a=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Pc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pi(r),xi(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Bs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Ws(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ja(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ia(t.type)&&Pa(),Ks(t),null;case 3:return r=t.stateNode,Xi(),_a(Ta),_a(Ea),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Is(e,t),Ks(t),null;case 5:Ji(t);var a=Gi(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ks(t),null}if(e=Gi(qi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Ur(Mr[a],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ae(r,o),Ur("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),a=r;break;case"iframe":case"object":case"embed":Ur("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Ur(Mr[a],e);a=r;break;case"source":Ur("error",e),a=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),a=r;break;case"details":Ur("toggle",e),a=r;break;case"input":X(e,r),a=$(e,r),Ur("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Ur("invalid",e)}for(o in ye(n,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Yi.current),Gi(qi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ks(t),null;case 13:if(_a(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return Xi(),Is(e,t),null===e&&Wr(t.stateNode.containerInfo),Ks(t),null;case 10:return Ci(t.type._context),Ks(t),null;case 19:if(_a(Zi),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ja(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Wl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Ks(t),null}else 2*Qe()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=Zi.current,ja(Zi,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Gs(e,t){switch(ti(t),t.tag){case 1:return Ia(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),_a(Ta),_a(Ea),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(_a(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Zi),null;case 4:return Xi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ps=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gi(qi.current);var i,o=null;switch(n){case"input":a=$(e,a),r=$(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(o,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Nc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":J(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(g){Nc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Nc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Js=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){Nc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var a=Js,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||$s;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=l)&&!c)for(Js=a;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?Sl(a):null!==l?(l.return=o,Js=l):Sl(a);for(;null!==i;)Js=i,bl(i,t,n),i=i.sibling;Js=a,$s=s,Xs=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Js=i):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(i(163))}Xs||512&t.flags&&al(t)}catch(f){Nc(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Nc(t,a,l)}}var i=t.return;try{al(t)}catch(l){Nc(t,i,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Nc(t,o,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Nl=Math.ceil,_l=x.ReactCurrentDispatcher,jl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,El=0,Tl=null,Al=null,Ol=0,Il=0,Pl=Na(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,zl=null,Bl=0,Wl=1/0,Hl=null,Vl=!1,ql=null,Kl=null,Yl=!1,Gl=null,$l=0,Xl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ol?Ol&-Ol:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Ql=null,Error(i(185));vt(e,n,r),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Ll|=n),4===Dl&&sc(e,Ol)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Wl=Qe()+500,Ua&&Wa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Tl?Ol:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ua=!0,Ba(e)}(lc.bind(null,e)):Ba(lc.bind(null,e)),oa(function(){0===(6&El)&&Wa()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=El;El|=2;var o=pc();for(Tl===e&&Ol===t||(Hl=null,Wl=Qe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}ji(),_l.current=o,El=a,null!==Al?t=0:(Tl=null,Ol=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,Qe()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,zl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,zl,Hl),t);break}wc(e,zl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,zl,Hl),r);break}wc(e,zl,Hl);break;default:throw Error(i(329))}}}return rc(e,Qe()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(i(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Hl),rc(e,Qe()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Wl=Qe()+500,Ua&&Wa())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&El)&&Sc();var t=El;El|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(El=t))&&Wa()}}function dc(){Il=Pl.current,_a(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pa();break;case 3:Xi(),_a(Ta),_a(Ea),no();break;case 5:Ji(r);break;case 4:Xi();break;case 13:case 19:_a(Zi);break;case 10:Ci(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Al=e=Pc(e.current,null),Ol=Il=t,Dl=0,Ml=null,Fl=Ll=Rl=0,zl=Ul=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Oi=null}return e}function fc(e,t){for(;;){var n=Al;try{if(ji(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}co=!1}if(io=0,lo=so=oo=null,uo=!1,ho=0,jl.current=null,null===n||null===n.return){Dl=1,Ml=t,Al=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),pi(cs(c,l));break e}}o=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,fs(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Jo,null===e?Jo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Tl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Tl,Ol)}function gc(e,t){var n=El;El|=2;var r=pc();for(Tl===e&&Ol===t||(Hl=null,hc(e,t));;)try{vc();break}catch(a){fc(e,a)}if(ji(),El=n,_l.current=r,null!==Al)throw Error(i(261));return Tl=null,Ol=0,Dl}function vc(){for(;null!==Al;)bc(Al)}function yc(){for(;null!==Al&&!$e();)bc(Al)}function bc(e){var t=kl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,jl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Il)))return void(Al=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,a=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Gl);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Tl&&(Al=Tl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Tc(tt,function(){return Sc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=El;El|=4,jl.current=null,function(e,t){if(ea=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Xe(),El=l,bt=s,Cl.transition=o}else e.current=n;if(Yl&&(Yl=!1,Gl=e,$l=a),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Wa()}(e,t,n,r)}finally{Cl.transition=a,bt=r}return null}function Sc(){if(null!==Gl){var e=xt($l),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,$l=0,0!==(6&El))throw Error(i(331));var a=El;for(El|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(il(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Nc(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(El=a,Wa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Ui(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ui(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ol&n)===n&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>Qe()-Bl?hc(e,0):Fl|=n),rc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Di(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),jc(e,n)}function Tc(e,t){return Ye(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Mc(n.children,a,o,t);case N:s=8,a|=8;break;case _:return(e=Oc(12,n,t,2|a)).elementType=_,e.lanes=o,e;case T:return(e=Oc(13,n,t,a)).elementType=T,e.lanes=o,e;case A:return(e=Oc(19,n,t,a)).elementType=A,e.lanes=o,e;case P:return Rc(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case C:s=9;break e;case E:s=11;break e;case O:s=14;break e;case I:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,i,o,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Bc(e){if(!e)return Ca;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ia(n))return Ma(e,n,t)}return t}function Wc(e,t,n,r,a,i,o,s,l){return(e=zc(n,r,!0,e,0,i,0,s,l)).context=Bc(null),n=e.current,(i=Fi(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,a),e.current.lanes=a,vt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,i=ec(),o=tc(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(a,t,o))&&(nc(e,a,o,i),zi(e,a,o)),o}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),fi();break;case 5:Qi(t);break;case 1:Ia(t.type)&&Ra(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ja(Si,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ja(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(ja(Zi,1&Zi.current),null!==(e=Vs(e,t,n))?e.sibling:null);ja(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ja(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ai&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var a=Oa(t,Ea.current);Ti(t,n),a=go(null,t,r,e,a,n);var o=vo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),xs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=ns(r,e),a){case 0:t=js(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,js(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Cs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Li(e,t),Wi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=As(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Vs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Qi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),_s(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ls(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ws(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,ja(Si,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Ta.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ei(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ei(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=Ai(a)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),Ss(e,t,r,a=ns(r.type,a),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Hs(e,t),t.tag=1,Ia(r)?(e=!0,Ra(t)):e=!1,Ti(t,n),os(t,r,a),ls(t,r,a,n),Es(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ns(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Vc(o);s.call(e)}}Hc(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Vc(o);i.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pa]=o.current,Wr(8===e.nodeType?e.parentNode:e),uc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,a,r);return Vc(o)}$c.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},$c.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[pa]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Qe()),0===(6&El)&&(Wl=Qe()+500,Wa()))}break;case 13:uc(function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Nt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));Y(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[ba,xa,wa,je,Ce,cc]},tu={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",a=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8354:(e,t,n)=>{e.exports=n(7774).range},8448:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},8798:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8897:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];Array.isArray(o)&&t<r?a(o,t+1):n.push(o)}};return a(e,0),n}},9035:(e,t,n)=>{e.exports=n(7723).isEqual},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9115:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},9190:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},9223:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},9248:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},9358:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},9363:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5698),a=n(9696),i=n(5031);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const i=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==i)return i}return 0}).map(e=>e.original)}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4467);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9526:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>a})},9690:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9190),a=n(9223),i=n(3470),o=n(1214),s=n(1558);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(l(a,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},9696:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},9940:(e,t,n)=>{"use strict";var r=n(9950),a=n(6538);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(o=e,t):(o=e,s=n)}var o,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var f=o(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9950:(e,t,n)=>{"use strict";e.exports=n(2049)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>mb,scaleDiverging:()=>cN,scaleDivergingLog:()=>uN,scaleDivergingPow:()=>hN,scaleDivergingSqrt:()=>fN,scaleDivergingSymlog:()=>dN,scaleIdentity:()=>rw,scaleImplicit:()=>fb,scaleLinear:()=>nw,scaleLog:()=>hw,scaleOrdinal:()=>pb,scalePoint:()=>vb,scalePow:()=>ww,scaleQuantile:()=>Pw,scaleQuantize:()=>Dw,scaleRadial:()=>Nw,scaleSequential:()=>nN,scaleSequentialLog:()=>rN,scaleSequentialPow:()=>iN,scaleSequentialQuantile:()=>sN,scaleSequentialSqrt:()=>oN,scaleSequentialSymlog:()=>aN,scaleSqrt:()=>Sw,scaleSymlog:()=>gw,scaleThreshold:()=>Mw,scaleTime:()=>Jk,scaleUtc:()=>Zk,tickFormat:()=>ew});var t=n(9950),r=n.t(t,2),a=n(1352),i=n(9379);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),u=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{color:u="currentColor",size:d=24,strokeWidth:h=2,absoluteStrokeWidth:f,className:p="",children:m}=r,g=o(r,l);return(0,t.createElement)("svg",(0,i.A)((0,i.A)({ref:a},s),{},{width:d,height:d,stroke:u,strokeWidth:f?24*Number(h)/Number(d):h,className:["lucide","lucide-".concat(c(e)),p].join(" ")},g),[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r},d=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),h=u("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),f=u("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=u("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),m=u("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),g=u("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),v=u("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]),y=u("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),b=u("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),x=u("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),w=u("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),S=u("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k=u("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var N=n(4607),_=n(7867);var j=n(4414);const C=e=>{let{currentUser:t,employees:n,userMood:r,setUserMood:a,setEmployees:o,setDailyData:s}=e;const l=(e=>(e.reduce((e,t)=>e+t.mood,0)/e.length).toFixed(1))(n),c=((e,t)=>{const n=new Date,r=(0,_.po)(n),a=t.find(t=>t.id===e);return!a||a.lastMoodDate!==r})(t.id,n),u=((e,t)=>{const n=t.find(t=>t.id===e);if(!n||!n.lastMoodDate)return"";const r=new Date,a=(0,_.po)(r);return n.lastMoodDate===a?"You can update your mood again tomorrow!":""})(t.id,n),d=e=>{const r=((e,t,n,r,a)=>{const o=new Date,s=(0,_.po)(o),l=n.find(e=>e.id===t);if(l&&l.lastMoodDate===s)return alert("You have already updated your mood today! Come back tomorrow \ud83d\ude0a"),!1;r(n=>n.map(n=>n.id===t?(0,i.A)((0,i.A)({},n),{},{mood:e,lastUpdated:"Just now",lastMoodDate:s}):n));const c=(new Date).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});return a(n=>{const r=n[s]||{completedTasks:[],employeeMoods:[],totalTasks:22,completionRate:0},a=Array.isArray(r.employeeMoods)?r.employeeMoods:[],o={employeeId:t,mood:e,updatedAt:c};return(0,i.A)((0,i.A)({},n),{},{[s]:(0,i.A)((0,i.A)({},r),{},{employeeMoods:[...a.filter(e=>e.employeeId!==t),o]})})}),!0})(e,t.id,n,o,s);r&&a(e)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,j.jsxs)("div",{className:"text-center mb-6",children:[(0,j.jsx)("div",{className:"text-3xl font-bold text-gray-800 mb-2",children:l}),(0,j.jsx)("div",{className:"text-lg text-gray-600 mb-4",children:"Team Average Mood"}),(0,j.jsx)("div",{className:"flex justify-center space-x-2",children:[1,2,3,4,5].map(e=>(0,j.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e<=Math.round(Number(l))?"bg-blue-500":"bg-gray-200")},e))})]})}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"How are you feeling today?"}),c?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"flex justify-between items-center mb-4",children:[1,2,3,4,5].map(e=>(0,j.jsxs)("button",{onClick:()=>d(e),className:"flex flex-col items-center p-3 rounded-xl transition-all hover:scale-105 ".concat(r===e?"bg-blue-100 scale-110":"hover:bg-gray-50"),children:[(0,j.jsx)("div",{className:"text-2xl mb-1",children:N.Ur[e-1]}),(0,j.jsx)("div",{className:"text-xs text-gray-600",children:N._M[e-1]})]},e))}),(0,j.jsx)("div",{className:"text-center text-sm text-gray-500",children:"Select how you're feeling today"})]}):(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"text-6xl mb-4",children:N.Ur[r-1]}),(0,j.jsxs)("div",{className:"text-lg font-medium text-gray-700 mb-2",children:["Today's Mood: ",N._M[r-1]]}),(0,j.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:u}),(0,j.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,j.jsx)("div",{className:"text-sm text-blue-700",children:"\u2728 You've already shared your mood today! Your well-being matters to us."})})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,j.jsx)(k,{className:"w-5 h-5 mr-2"}),"Team Mood"]}),(0,j.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,j.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat((0,_.zQ)(e.mood))}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:[e.lastUpdated,e.lastMoodDate===(0,_.po)(new Date)&&(0,j.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-700 rounded-full text-xs",children:"Today"})]})]})]}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-lg mr-2",children:N.Ur[e.mood-1]}),(0,j.jsxs)("span",{className:"text-sm text-gray-600",children:[e.mood,"/5"]})]})]},e.id))})]})]})},E=u("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),T=new Map,A=new Map,O=e=>{const t=T.get(e);t&&(clearTimeout(t),T.delete(e))},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const n=A.get(e)||0,r=Date.now();return r-n<t?(console.warn("\u26a0\ufe0f Task operation debounced for task ".concat(e," - too rapid")),!1):(A.set(e,r),!0)},P=(e,t,n,r,a,o)=>{const s=new Date,l=(0,_.po)(s),c=(new Date).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),u={taskId:e,employeeId:t,completedAt:c,taskName:n,date:l,pointsEarned:r};o(t=>{const n=t[l]||{completedTasks:[],employeeMoods:[],purchases:[],totalTasks:a.length,completionRate:0,totalPointsEarned:0,totalPointsSpent:0},r=(Array.isArray(n.completedTasks)?n.completedTasks:[]).filter(t=>t.taskId!==e),o=[...r,u],s=Math.round(o.length/a.length*100),c=o.reduce((e,t)=>e+(t.pointsEarned||0),0);return(0,i.A)((0,i.A)({},t),{},{[l]:(0,i.A)((0,i.A)({},n),{},{completedTasks:o,totalTasks:a.length,completionRate:s,totalPointsEarned:c})})}),console.log("\ud83d\udcca Task completion logged (replacing any previous completion):",u)},D=(e,t,n)=>{n(n=>n.map(n=>n.id===e?(0,i.A)((0,i.A)({},n),{},{points:n.points+t}):n))},M=(e,t,n)=>{const r=t[e];return n.find(e=>e.id===r)},R=(e,t,n,r,a,o,s,l,c,u,d,h)=>{if(!I(e,1e3))return;O(e);const f=r.has(e),p=new Set(r),m=o.find(t=>t.id===e),g=M(e,a,s);if(m){if(f)console.log("\ud83d\udd04 Uncompleting task: ".concat(m.task)),p.delete(e),c(t=>{const n=(0,i.A)({},t);return delete n[e],n}),g&&(((e,t,n)=>{n(n=>n.map(n=>n.id===e?(0,i.A)((0,i.A)({},n),{},{points:Math.max(0,n.points-t)}):n))})(g.id,m.points,d),console.log("\ud83d\udcc9 Deducted ".concat(m.points," points from ").concat(g.name," for uncompleting task"))),((e,t,n)=>{const r=new Date,a=(0,_.po)(r);n(n=>{const r=n[a]||{completedTasks:[],employeeMoods:[],purchases:[],totalTasks:t.length,completionRate:0,totalPointsEarned:0,totalPointsSpent:0},o=(Array.isArray(r.completedTasks)?r.completedTasks:[]).filter(t=>t.taskId!==e),s=Math.round(o.length/t.length*100),l=o.reduce((e,t)=>e+(t.pointsEarned||0),0);return(0,i.A)((0,i.A)({},n),{},{[a]:(0,i.A)((0,i.A)({},r),{},{completedTasks:o,totalTasks:t.length,completionRate:s,totalPointsEarned:l})})}),console.log("\ud83d\uddd1\ufe0f Task completion removed from daily data:",e)})(e,o,u);else{console.log("\u2705 Completing task: ".concat(m.task));const r=t||(null===g||void 0===g?void 0:g.id)||n;t?c(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t})):g||c(t=>(0,i.A)((0,i.A)({},t),{},{[e]:n})),p.add(e),D(r,m.points,d),P(e,r,m.task,m.points,o,u),console.log("\ud83d\udcc8 Awarded ".concat(m.points," points to employee ").concat(r," for completing task"))}if(l(p),h){console.log("\ud83d\udd25 [CRITICAL-SAVE] Cleaning tasks: About to save taskAssignments:",a),console.log("\ud83d\udd25 [CRITICAL-SAVE] Cleaning tasks: About to save completedTasks:",Array.from(p)),O(e);const t=setTimeout(()=>{console.log("\u23f0 Executing debounced save for task:",e),h(),T.delete(e)},500);T.set(e,t)}}else console.error("Task not found:",e)},L=(e,t,n,r,a,o,s,l,c,u)=>{if(!I(e,800))return;const d=a.find(t=>t.id===e),h=M(e,r,o),f=o.find(e=>e.id===t);if(d&&f)if(n.has(e)&&(null===h||void 0===h?void 0:h.id)!==t){if(console.log("\ud83d\udd04 Reassigning completed task from ".concat((null===h||void 0===h?void 0:h.name)||"unassigned"," to ").concat(f.name)),h?((e,t,n,r)=>{r(r=>r.map(r=>r.id===e?(0,i.A)((0,i.A)({},r),{},{points:Math.max(0,r.points-n)}):r.id===t?(0,i.A)((0,i.A)({},r),{},{points:r.points+n}):r)),console.log("\ud83d\udcb0 Transferred ".concat(n," points from employee ").concat(e," to ").concat(t))})(h.id,t,d.points,c):D(t,d.points,c),s(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t})),P(e,t,d.task,d.points,a,l),u){console.log("\ud83d\udd25 Debounced save triggered by task reassignment"),O(e);const t=setTimeout(()=>{console.log("\u23f0 Executing debounced reassignment save for task:",e),u(),T.delete(e)},600);T.set(e,t)}}else s(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t}));else console.error("Task or new employee not found")},F=e=>{var n,r;let{currentUser:a,tasks:o,employees:s,completedTasks:l,taskAssignments:c,dailyData:u,setCompletedTasks:d,setTaskAssignments:h,setDailyData:f,setEmployees:m,saveToFirebase:v}=e;(0,t.useEffect)(()=>{console.log("\ud83d\udccb TaskManager - completedTasks updated:",{size:l.size,tasks:Array.from(l),timestamp:(new Date).toLocaleTimeString()})},[l]);const y=(e,t)=>{l.has(e)?L(e,t,l,c,o,s,h,f,m,v):((e,t,n)=>{n(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t}))})(e,t,h)},b=s.find(e=>e.id===a.id),x=u[(0,_.po)(new Date)],w=(null===x||void 0===x||null===(n=x.completedTasks)||void 0===n||null===(r=n.filter(e=>e.employeeId===a.id))||void 0===r?void 0:r.reduce((e,t)=>e+(t.pointsEarned||0),0))||0;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,j.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 text-center border border-green-200",children:[(0,j.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:l.size}),(0,j.jsx)("div",{className:"text-sm font-medium text-green-700",children:"Completed"})]}),(0,j.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 text-center border border-orange-200",children:[(0,j.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-1",children:o.length-l.size}),(0,j.jsx)("div",{className:"text-sm font-medium text-orange-700",children:"Pending"})]}),(0,j.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 text-center border border-purple-200",children:[(0,j.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:(null===b||void 0===b?void 0:b.points)||0}),(0,j.jsx)("div",{className:"text-sm font-medium text-purple-700",children:"Your Points"})]})]}),(0,j.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-4 mb-6 text-white",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-lg font-semibold",children:"Today's Points"}),(0,j.jsxs)("div",{className:"text-2xl font-bold",children:[w," pts earned"]})]}),(0,j.jsx)(E,{className:"w-8 h-8 opacity-80"})]})}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,j.jsx)(g,{className:"w-5 h-5 mr-2"}),"Cleaning Tasks"]}),(0,j.jsx)("div",{className:"space-y-4",children:o.map(e=>{const t=M(e.id,c,s),n=l.has(e.id);return(0,j.jsxs)("div",{className:"border rounded-lg p-4 ".concat((0,_.eX)(e.priority)," ").concat(n?"bg-green-50":"bg-white"),children:[(0,j.jsxs)("div",{className:"flex items-start justify-between",children:[(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("div",{className:"font-medium ".concat(n?"line-through text-gray-500":"text-gray-800"),children:e.task}),(0,j.jsxs)("div",{className:"flex items-center bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-sm font-medium",children:[(0,j.jsx)(E,{className:"w-3 h-3 mr-1"}),e.points," pts"]})]}),(0,j.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:["\ud83d\udccd ",e.location]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,j.jsxs)("div",{className:"text-xs px-2 py-1 rounded-full inline-block ".concat("high"===e.priority?"bg-red-100 text-red-700":"medium"===e.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:[e.priority," priority"]}),(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:["\u23f1\ufe0f ",e.estimatedTime]})]})]}),(0,j.jsx)("button",{onClick:()=>{return t=e.id,void R(t,n,a.id,l,c,o,s,d,h,f,m,v);var t,n},className:"ml-3 p-2 rounded-full ".concat(n?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:(0,j.jsx)(p,{className:"w-4 h-4"})})]}),(0,j.jsxs)("div",{className:"mt-3",children:[t&&(0,j.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,j.jsx)(k,{className:"w-4 h-4 mr-1"}),"Assigned to: ",(0,j.jsx)("span",{className:"font-medium ml-1",children:t.name}),n&&(0,j.jsxs)("span",{className:"ml-2 text-green-600 font-medium",children:["(+",e.points," pts earned!)"]})]}),!t&&(0,j.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:n?"Reassign to:":"Assign to:"}),(0,j.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(r=>(0,j.jsxs)("button",{onClick:()=>y(e.id,r.id),className:"text-xs px-3 py-1 rounded-full transition-colors ".concat((null===t||void 0===t?void 0:t.id)===r.id?"bg-blue-500 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"),title:n&&(null===t||void 0===t?void 0:t.id)!==r.id?"Transfer ".concat(e.points," points from ").concat((null===t||void 0===t?void 0:t.name)||"unassigned"," to ").concat(r.name):"Assign task to ".concat(r.name),children:[r.name,(0,j.jsxs)("span",{className:"ml-1 text-purple-600 font-medium",children:["(",r.points,"pts)"]}),n&&(null===t||void 0===t?void 0:t.id)!==r.id&&(0,j.jsx)("span",{className:"ml-1",children:"\ud83d\udd04"})]},r.id))}),n&&(0,j.jsxs)("div",{className:"mt-2 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:["\ud83d\udca1 Tip: Click another employee's name to transfer the ",e.points," points to them"]})]})]},e.id)})})]})]})},U=u("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),z=u("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),B=u("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),W=u("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),H=u("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),V=u("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),q=(e,t)=>e.points>=t.cost&&t.available,K=e=>{var n;let{currentUser:r,employees:a,storeItems:o,dailyData:s,setEmployees:l,setDailyData:c,saveToFirebase:u,quickSave:d}=e;const[h,f]=(0,t.useState)("all"),[p,m]=(0,t.useState)(!1),g=a.find(e=>e.id===r.id),v=((e,t)=>{const n=t.find(t=>t.id===e);return(null===n||void 0===n?void 0:n.points)||0})(r.id,a),y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const r=[],a=new Date;for(let i=0;i<n;i++){const n=new Date(a);n.setDate(n.getDate()-i);const o=t[(0,_.po)(n)];if(null!==o&&void 0!==o&&o.purchases){const t=o.purchases.filter(t=>t.employeeId===e);r.push(...t)}}return r.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}(r.id,s),b=(e=>[...e].sort((e,t)=>t.points-e.points).slice(0,10))(a),x=[{id:"all",name:"All Items",icon:"\ud83d\udecd\ufe0f"},{id:"food",name:"Food & Drinks",icon:"\ud83c\udf7d\ufe0f"},{id:"break",name:"Time Off",icon:"\u23f0"},{id:"reward",name:"Rewards",icon:"\ud83c\udf81"},{id:"social",name:"Social",icon:"\ud83d\udc65"}],w="all"===h?o:o.filter(e=>e.category===h),S=async e=>{if(g)try{const t=((e,t,n,r,a,o)=>{const s=n.find(t=>t.id===e);if(!s)return alert("Employee with id ".concat(e," not found")),!1;if(!q(s,t))return alert("Insufficient points! You need ".concat(t.cost," points but only have ").concat(s.points,".")),!1;const l=new Date,c=(0,_.po)(l),u=(new Date).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});r(n=>{const r=n.map(n=>n.id===e?(0,i.A)((0,i.A)({},n),{},{points:n.points-t.cost}):n);return o&&o("employees",r).catch(e=>{console.error("\u274c Failed to save employee points immediately:",e)}),r});const d={id:Date.now(),employeeId:e,itemId:t.id,itemName:t.name,cost:t.cost,purchasedAt:u,date:c,status:"pending"};return a(e=>{const n=e[c]||{completedTasks:[],employeeMoods:[],purchases:[],totalTasks:22,completionRate:0,totalPointsEarned:0,totalPointsSpent:0},r=Array.isArray(n.purchases)?[...n.purchases,d]:[d],a=(n.totalPointsSpent||0)+t.cost,s=(0,i.A)((0,i.A)({},e),{},{[c]:(0,i.A)((0,i.A)({},n),{},{purchases:r,totalPointsSpent:a})});return o&&o("dailyData",s).catch(e=>{console.error("\u274c Failed to save purchase data immediately:",e)}),s}),console.log("\ud83d\uded2 Purchase logged:",d),!0})(r.id,e,a,l,c,d);t&&(alert("\ud83c\udf89 Successfully purchased: ".concat(e.name,"! Your purchase has been saved. Check with your manager to redeem.")),console.log("\u2705 Purchase completed successfully: ".concat(e.name," for ").concat(e.cost," points")))}catch(t){console.error("\u274c Purchase failed:",t),alert("\u274c Sorry, your purchase failed due to a technical issue. Please try again.")}};t.useEffect(()=>{s&&Object.keys(s).length>0&&u()},[s,u]);const N=e=>{switch(e){case"food":return(0,j.jsx)(U,{className:"w-4 h-4"});case"break":return(0,j.jsx)(z,{className:"w-4 h-4"});case"reward":return(0,j.jsx)(B,{className:"w-4 h-4"});case"social":return(0,j.jsx)(k,{className:"w-4 h-4"});default:return(0,j.jsx)(E,{className:"w-4 h-4"})}};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-sm p-6 text-white",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:"text-2xl font-bold",children:"Your Points"}),(0,j.jsx)("div",{className:"text-4xl font-bold mt-2",children:v}),(0,j.jsx)("div",{className:"text-purple-100 text-sm",children:"Available to spend"})]}),(0,j.jsx)("div",{className:"text-6xl opacity-50",children:"\ud83d\udc8e"})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-purple-400",children:[(0,j.jsxs)("button",{onClick:()=>m(!p),className:"flex items-center bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[(0,j.jsx)(W,{className:"w-4 h-4 mr-2"}),"Purchase History"]}),(0,j.jsxs)("div",{className:"text-right",children:[(0,j.jsx)("div",{className:"text-sm text-purple-100",children:"Your Rank"}),(0,j.jsxs)("div",{className:"font-bold",children:["#",b.findIndex(e=>e.id===r.id)+1||"Unranked"]})]})]})]}),p&&(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Purchases"}),y.length>0?(0,j.jsx)("div",{className:"space-y-3",children:y.slice(0,10).map(e=>(0,j.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"text-lg mr-3",children:"\ud83d\uded2"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-gray-800",children:e.itemName}),(0,j.jsxs)("div",{className:"text-sm text-gray-500",children:[e.date," at ",e.purchasedAt]})]})]}),(0,j.jsxs)("div",{className:"text-right",children:[(0,j.jsxs)("div",{className:"font-bold text-purple-600",children:["-",e.cost," pts"]}),(0,j.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-700":"approved"===e.status?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:e.status})]})]},e.id))}):(0,j.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No purchases yet. Start earning points by completing tasks!"})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Store Categories"}),(0,j.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>(0,j.jsxs)("button",{onClick:()=>f(e.id),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat(h===e.id?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,j.jsx)("span",{className:"mr-2",children:e.icon}),e.name]},e.id))})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,j.jsx)(H,{className:"w-5 h-5 mr-2"}),"all"===h?"All Items":null===(n=x.find(e=>e.id===h))||void 0===n?void 0:n.name]}),(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(e=>{const t=!!g&&q(g,e);return(0,j.jsxs)("div",{className:"border rounded-lg p-4 transition-all ".concat(t?"border-green-200 hover:border-green-300 hover:shadow-md":"border-gray-200 opacity-60"),children:[(0,j.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,j.jsx)("div",{className:"text-3xl",children:e.icon}),(0,j.jsx)("div",{className:"flex items-center",children:N(e.category)})]}),(0,j.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:e.name}),(0,j.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:[e.cost," pts"]}),(0,j.jsx)("button",{onClick:()=>S(e),disabled:!t||!e.available,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(t&&e.available?"bg-purple-500 text-white hover:bg-purple-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:e.available?t?"Purchase":"Need more points":"Unavailable"})]}),!t&&e.available&&(0,j.jsxs)("div",{className:"mt-2 text-xs text-red-500",children:["Need ",e.cost-v," more points"]})]},e.id)})}),0===w.length&&(0,j.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items available in this category"})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,j.jsx)(V,{className:"w-5 h-5 mr-2"}),"Points Leaderboard"]}),(0,j.jsx)("div",{className:"space-y-3",children:b.map((e,t)=>(0,j.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat(e.id===r.id?"bg-purple-50 border border-purple-200":"bg-gray-50"),children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mr-3 ".concat(0===t?"bg-yellow-400 text-white":1===t?"bg-gray-400 text-white":2===t?"bg-orange-400 text-white":"bg-gray-200 text-gray-600"),children:t+1}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"font-medium text-gray-800",children:[e.name,e.id===r.id&&(0,j.jsx)("span",{className:"ml-2 text-purple-600 text-sm",children:"(You)"})]}),(0,j.jsx)("div",{className:"text-sm text-gray-500",children:e.role})]})]}),(0,j.jsxs)("div",{className:"text-right",children:[(0,j.jsxs)("div",{className:"font-bold text-purple-600",children:[e.points," pts"]}),0===t&&(0,j.jsx)("div",{className:"text-xs text-yellow-600",children:"\ud83d\udc51 Top Performer"})]})]},e.id))})]})]})};var Y=n(9526);const G=u("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),X=u("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Q=u("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),J=u("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Z=u("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ee=u("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);class te{constructor(e){this.clock={},e&&(this.clock=(0,i.A)({},e))}increment(e){this.clock[e]||(this.clock[e]=0),this.clock[e]++}update(e){for(const[t,n]of Object.entries(e))(!this.clock[t]||this.clock[t]<n)&&(this.clock[t]=n)}compare(e){let t=!1,n=!1,r=!0;const a=new Set([...Object.keys(this.clock),...Object.keys(e)]);for(const s of a){const a=this.clock[s]||0,i=e[s]||0;a<i?(t=!0,r=!1):a>i&&(n=!0,r=!1)}if(r)return"concurrent";if(t&&!n)return"before";if(!t&&n)return"after";const i=Object.values(this.clock).reduce((e,t)=>e+t,0),o=Object.values(e).reduce((e,t)=>e+t,0);return i>o?"after":i<o?"before":"concurrent"}merge(e){const t=(0,i.A)({},this.clock);for(const[n,r]of Object.entries(e))t[n]=Math.max(t[n]||0,r);return t}getClock(){return(0,i.A)({},this.clock)}}class ne{constructor(e,t){this.deviceId=void 0,this.vectorClock=void 0,this.deviceId=e,this.vectorClock=new te(t)}createOperation(e,t,n){this.vectorClock.increment(this.deviceId);return{id:"".concat(this.deviceId,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8)),type:e,payload:t,timestamp:Date.now(),deviceId:this.deviceId,vectorClock:this.vectorClock.getClock(),targetField:n,version:this.vectorClock.getClock()[this.deviceId]||0}}applyOperation(e,t){if("tasks"===e.targetField)switch(e.type){case"ADD_TASK":return(0,i.A)((0,i.A)({},t),{},{tasks:[...t.tasks,e.payload]});case"COMPLETE_TASK":return(0,i.A)((0,i.A)({},t),{},{tasks:t.tasks.map(t=>t.id===e.payload.id?(0,i.A)((0,i.A)({},t),{},{completed:!0}):t)});case"DELETE_ITEM":return(0,i.A)((0,i.A)({},t),{},{tasks:t.tasks.filter(t=>t.id!==e.payload.id)});default:return t}if("storeItems"===e.targetField)switch(e.type){case"ADD_STORE_ITEM":return(0,i.A)((0,i.A)({},t),{},{storeItems:[...t.storeItems,e.payload]});case"UPDATE_STORE_ITEM":return(0,i.A)((0,i.A)({},t),{},{storeItems:t.storeItems.map(t=>t.id===e.payload.id?(0,i.A)((0,i.A)({},t),e.payload):t)});case"DELETE_STORE_ITEM":return(0,i.A)((0,i.A)({},t),{},{storeItems:t.storeItems.filter(t=>t.id!==e.payload.id)});default:return t}if("employees"===e.targetField)switch(e.type){case"UPDATE_EMPLOYEE":return(0,i.A)((0,i.A)({},t),{},{employees:t.employees.map(t=>t.id===e.payload.id?(0,i.A)((0,i.A)({},t),e.payload):t)});case"DELETE_ITEM":return(0,i.A)((0,i.A)({},t),{},{employees:t.employees.filter(t=>t.id!==e.payload.id)});default:return t}return t}resolveConflicts(e){const t=new Map;for(const n of e){const e="".concat(n.targetField,":").concat(n.payload.id||n.id);if(t.has(e)){const r=t.get(e),a=new te(r.vectorClock).compare(n.vectorClock);("before"===a||"concurrent"===a&&n.timestamp>r.timestamp)&&t.set(e,n)}else t.set(e,n)}return Array.from(t.values())}rollbackOperations(e,t){let n=(0,i.A)({},t);for(const r of e){if("tasks"===r.targetField)switch(r.type){case"ADD_TASK":n.tasks=n.tasks.filter(e=>e.id!==r.payload.id);break;case"COMPLETE_TASK":n.tasks=n.tasks.map(e=>e.id===r.payload.id?(0,i.A)((0,i.A)({},e),{},{completed:!1}):e);break;case"DELETE_ITEM":n.tasks=[...n.tasks,r.payload]}if("storeItems"===r.targetField)switch(r.type){case"ADD_STORE_ITEM":n.storeItems=n.storeItems.filter(e=>e.id!==r.payload.id);break;case"UPDATE_STORE_ITEM":console.warn("Store item update rollback not fully implemented");break;case"DELETE_STORE_ITEM":n.storeItems=[...n.storeItems,r.payload]}}return n}}const re=new ne((()=>{let e=localStorage.getItem("deviceId");return e||(e="dev-"+Math.random().toString(36).slice(2,10),localStorage.setItem("deviceId",e)),e})()),ae=new class{constructor(){this.queue=[],this.db=null,this.dbName="SyncOfflineQueue",this.storeName="operations",this._lastLogTime=null,this.initDB()}initDB(){const e=indexedDB.open(this.dbName,1);e.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this.storeName)||t.createObjectStore(this.storeName,{keyPath:"id"})},e.onsuccess=()=>{this.db=e.result,this.loadQueueFromDB()},e.onerror=()=>{console.error("OfflineQueue: Failed to open IndexedDB")}}loadQueueFromDB(){if(!this.db)return;const e=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();e.onsuccess=()=>{this.queue=e.result||[]}}enqueue(e){this.queue.push(e),this.saveOperationToDB(e)}saveOperationToDB(e){if(!this.db)return;this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e)}saveQueueToDB(){if(!this.db)return;const e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName);e.clear().onsuccess=()=>{for(const t of this.queue)e.put(t)}}compactOperationLog(){const e=new Map;for(const t of this.queue){const n="".concat(t.targetField,":").concat(t.payload.id||t.id);e.set(n,t)}this.queue=Array.from(e.values()),this.saveQueueToDB()}cleanExpiredOperations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6048e5;const t=Date.now();this.queue=this.queue.filter(n=>t-n.timestamp<e),this.saveQueueToDB()}async processQueue(e){this.compactOperationLog(),this.cleanExpiredOperations();const t=this.queue.filter(e=>"COMPLETE_TASK"===e.type),n=this.queue.filter(e=>"ADD_TASK"===e.type||"UPDATE_EMPLOYEE"===e.type),r=this.queue.filter(e=>"DELETE_ITEM"===e.type);for(const a of t)await e(a),this.removeOperationFromDB(a.id);n.length&&await Promise.all(n.map(async t=>{await e(t),this.removeOperationFromDB(t.id)})),r.forEach((t,n)=>{setTimeout(async()=>{await e(t),this.removeOperationFromDB(t.id)},1e3*n)}),this.loadQueueFromDB()}removeAppliedOperations(e){this.queue=this.queue.filter(t=>!e.includes(t.id)),this.saveQueueToDB()}removeOperationFromDB(e){if(!this.db)return;this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e),this.queue=this.queue.filter(t=>t.id!==e)}prioritizeOperations(){return[...this.queue.filter(e=>"COMPLETE_TASK"===e.type),...this.queue.filter(e=>"ADD_TASK"===e.type||"UPDATE_EMPLOYEE"===e.type),...this.queue.filter(e=>"DELETE_ITEM"===e.type)]}resolveQueueConflicts(){}logThrottled(e){(!this._lastLogTime||Date.now()-this._lastLogTime>2e3)&&(console.log("[OfflineQueue]",e),this._lastLogTime=Date.now())}monitorPerformance(e,t){const n=performance.now();t();const r=performance.now()-n;r>100&&this.logThrottled("\u26a0\ufe0f ".concat(e," took ").concat(Math.round(r),"ms"))}};new ne((()=>{let e=localStorage.getItem("deviceId");return e||(e="dev-"+Math.random().toString(36).slice(2,10),localStorage.setItem("deviceId",e)),e})());new ne((()=>{let e=localStorage.getItem("deviceId");return e||(e="dev-"+Math.random().toString(36).slice(2,10),localStorage.setItem("deviceId",e)),e})());new ne((()=>{let e=localStorage.getItem("deviceId");return e||(e="dev-"+Math.random().toString(36).slice(2,10),localStorage.setItem("deviceId",e)),e})());const ie=(e,t,n,r,a)=>{r(r=>{const o=r.map(r=>r.id===e?(0,i.A)((0,i.A)({},r),{},{[t]:n}):r);return a("employees",o),o})},oe=(e,t,n,r,a)=>{r(r=>{const o=r.map(r=>r.id===e?(0,i.A)((0,i.A)({},r),{},{[t]:n}):r);return a("tasks",o),o})};var se=n(5491),le=n.n(se);const ce=e=>{let{employees:n,tasks:r,customRoles:a,storeItems:s,prepItems:l,setEmployees:c,setTasks:u,setCustomRoles:d,setStoreItems:h,setPrepItems:p,quickSave:m}=e;const[y,x]=(0,t.useState)(!1),[w,S]=(0,t.useState)(!1),[N,C]=(0,t.useState)(!1),[T,A]=(0,t.useState)(!1),[O,I]=(0,t.useState)(""),[P,D]=(0,t.useState)("Cleaner"),[M,R]=(0,t.useState)(""),[L,F]=(0,t.useState)(null),[U,B]=(0,t.useState)(null),[W,H]=(0,t.useState)(null),[V,q]=(0,t.useState)(null),[K,$]=(0,t.useState)(null),[te,ne]=(0,t.useState)(""),[re,ae]=(0,t.useState)(""),[se,ce]=(0,t.useState)(""),[ue,de]=(0,t.useState)("food"),[he,fe]=(0,t.useState)("\ud83c\udf81"),[pe,me]=(0,t.useState)(""),[ge,ve]=(0,t.useState)("majoneesit"),[ye,be]=(0,t.useState)(""),[xe,we]=(0,t.useState)(""),[Se,ke]=(0,t.useState)(!1),[Ne,_e]=(0,t.useState)({ingredients:"",instructions:""}),je=[{id:"majoneesit",name:"Majoneesit",icon:"\ud83e\udd44"},{id:"proteiinit",name:"Proteiinit",icon:"\ud83e\udd69"},{id:"kasvikset",name:"Kasvikset",icon:"\ud83e\udd57"},{id:"marinointi",name:"Marinointi & pikkel\xf6inti",icon:"\ud83e\udd52"},{id:"kastikkeet",name:"Kastikkeet",icon:"\ud83e\uddc2"},{id:"muut",name:"Muut",icon:"\ud83d\udd27"}],[Ce,Ee]=(0,t.useState)([]),Te=()=>{((e,t,n,r,a)=>{e.trim()&&!t.includes(e.trim())&&(n(t=>{const n=[...t,e.trim()];return a("customRoles",n),n}),r(""))})(M,a,d,R,m)},Ae=(e,t,n)=>{h(r=>{const a=r.map(r=>r.id===e?(0,i.A)((0,i.A)({},r),{},{[t]:n}):r);return m("storeItems",a),a})},Oe=(e,t,n)=>{p(r=>r.map(r=>r.id===e?(0,i.A)((0,i.A)({},r),{},{[t]:n}):r))},Ie=(e,t,n)=>{p(r=>r.map(r=>r.id===e?(0,i.A)((0,i.A)({},r),{},{recipe:r.recipe?(0,i.A)((0,i.A)({},r.recipe),{},{[t]:n}):{ingredients:"",instructions:"",[t]:n}}):r))},Pe=(e,t,n)=>{const r=l.find(t=>t.id===e);if(null===r||void 0===r||!r.recipe)return;const a=document.getElementById("".concat(t,"-").concat(e));if(!a)return;const i=a.selectionStart,o=a.selectionEnd,s=r.recipe[t],c=s.substring(0,i),u=s.substring(i,o),d=s.substring(o);let h="";switch(n){case"bold":h=c+"**"+u+"**"+d;break;case"italic":h=c+"*"+u+"*"+d;break;case"bullet":h=c+"\n\u2022 "+d;break;case"number":h=c+"\n1. "+d;break;default:return}Ie(e,t,h)},[De,Me]=(0,t.useState)({}),Re=t.useCallback((e,t,n)=>{oe(e,t,n,u,m),Me(t=>{const{[e]:n}=t;return o(t,[e].map(Y.A))})},[u,m]),Le=t.useMemo(()=>le()(Re,800),[Re]),Fe=(e,t,n)=>{Me(r=>(0,i.A)((0,i.A)({},r),{},{[e]:(0,i.A)((0,i.A)({},r[e]),{},{[t]:n})})),Le(e,t,n)},Ue=(e,t)=>{var n,r;return null!==(n=null===(r=De[e.id])||void 0===r?void 0:r[t])&&void 0!==n?n:e[t]},ze=(e,t,n)=>{Ee(r=>r.map(r=>r.id===e?(0,i.A)((0,i.A)({},r),{},{[t]:n}):r))};return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-6 ".concat(y?"p-6":"p-2"),children:[(0,j.jsxs)("button",{onClick:()=>x(!y),className:"w-full flex items-center justify-between hover:text-gray-600 ".concat(y?"text-lg font-semibold text-gray-800 mb-4":"text-sm font-medium text-gray-700 py-1"),children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(f,{className:"mr-2 ".concat(y?"w-5 h-5":"w-4 h-4")}),"Role Management"]}),(0,j.jsx)("span",{className:"transition-transform ".concat(y?"text-xl rotate-180":"text-sm"),children:"\u25bc"})]}),y&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Add New Role"}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("input",{type:"text",placeholder:"Role name",value:M,onChange:e=>R(e.target.value),onKeyPress:e=>"Enter"===e.key&&Te(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,j.jsx)("button",{onClick:Te,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center",children:(0,j.jsx)(G,{className:"w-4 h-4"})})]})]}),(0,j.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,j.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,j.jsx)("span",{className:"font-medium text-gray-700",children:e}),(0,j.jsx)("button",{onClick:()=>((e,t,n,r)=>{const a=t.filter(t=>t.role===e);a.length>0?alert('Cannot remove role "'.concat(e,'" - ').concat(a.length," employee(s) are using it.")):window.confirm('Are you sure you want to remove the role "'.concat(e,'"?'))&&n(t=>{const n=t.filter(t=>t!==e);return r("customRoles",n),n})})(e,n,d,m),className:"p-1 text-red-600 hover:text-red-800",title:"Remove role",children:(0,j.jsx)(X,{className:"w-4 h-4"})})]},e))})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-6 ".concat(w?"p-6":"p-2"),children:[(0,j.jsxs)("button",{onClick:()=>S(!w),className:"w-full flex items-center justify-between hover:text-gray-600 ".concat(w?"text-lg font-semibold text-gray-800 mb-4":"text-sm font-medium text-gray-700 py-1"),children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(b,{className:"mr-2 ".concat(w?"w-5 h-5":"w-4 h-4")}),"Store Management"]}),(0,j.jsx)("span",{className:"transition-transform ".concat(w?"text-xl rotate-180":"text-sm"),children:"\u25bc"})]}),w&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Add New Store Item"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),(0,j.jsx)("input",{type:"text",placeholder:"e.g., Free Coffee",value:te,onChange:e=>ne(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost (Points)"}),(0,j.jsx)("input",{type:"number",min:"1",placeholder:"10",value:se,onChange:e=>ce(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,j.jsxs)("select",{value:ue,onChange:e=>de(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,j.jsx)("option",{value:"food",children:"Food & Drinks"}),(0,j.jsx)("option",{value:"break",children:"Time Off"}),(0,j.jsx)("option",{value:"reward",children:"Rewards"}),(0,j.jsx)("option",{value:"social",children:"Social"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"}),(0,j.jsx)("input",{type:"text",placeholder:"\ud83c\udf81",value:he,onChange:e=>fe(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,j.jsxs)("div",{className:"md:col-span-2",children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,j.jsx)("input",{type:"text",placeholder:"e.g., Get a free coffee from the kitchen",value:re,onChange:e=>ae(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,j.jsx)("div",{className:"md:col-span-2",children:(0,j.jsxs)("button",{onClick:()=>{if(te.trim()&&re.trim()&&se.trim()){const e={id:Math.max(...s.map(e=>e.id),0)+1,name:te.trim(),description:re.trim(),cost:parseInt(se)||10,category:ue,icon:he,available:!0};h(t=>{const n=[...t,e];return m("storeItems",n),n}),ne(""),ae(""),ce(""),de("food"),fe("\ud83c\udf81")}},className:"w-full bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 flex items-center justify-center",children:[(0,j.jsx)(Q,{className:"w-4 h-4 mr-2"}),"Add Store Item"]})})]})]}),(0,j.jsxs)("div",{className:"space-y-3",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700",children:"Current Store Items"}),s.map(e=>(0,j.jsxs)("div",{className:"border rounded-lg p-4 bg-white",children:[(0,j.jsxs)("div",{className:"flex items-start justify-between",children:[(0,j.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),W===e.id?(0,j.jsx)("input",{type:"text",value:e.name,onChange:t=>Ae(e.id,"name",t.target.value),className:"w-full px-2 py-1 border rounded text-sm"}):(0,j.jsxs)("div",{className:"font-medium text-gray-800 flex items-center",children:[(0,j.jsx)("span",{className:"text-lg mr-2",children:e.icon}),e.name]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Cost"}),W===e.id?(0,j.jsx)("input",{type:"number",min:"1",value:e.cost,onChange:t=>Ae(e.id,"cost",parseInt(t.target.value)||1),className:"w-full px-2 py-1 border rounded text-sm"}):(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(E,{className:"w-3 h-3 text-purple-500 mr-1"}),(0,j.jsxs)("span",{className:"font-medium text-purple-600",children:[e.cost," pts"]})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Category"}),W===e.id?(0,j.jsxs)("select",{value:e.category,onChange:t=>Ae(e.id,"category",t.target.value),className:"w-full px-2 py-1 border rounded text-sm",children:[(0,j.jsx)("option",{value:"food",children:"Food & Drinks"}),(0,j.jsx)("option",{value:"break",children:"Time Off"}),(0,j.jsx)("option",{value:"reward",children:"Rewards"}),(0,j.jsx)("option",{value:"social",children:"Social"})]}):(0,j.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("food"===e.category?"bg-orange-100 text-orange-700":"break"===e.category?"bg-blue-100 text-blue-700":"reward"===e.category?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"),children:e.category})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Status"}),(0,j.jsx)("button",{onClick:()=>Ae(e.id,"available",!e.available),className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.available?"Available":"Unavailable"})]})]}),(0,j.jsxs)("div",{className:"flex gap-2 ml-4",children:[W===e.id?(0,j.jsx)("button",{onClick:()=>H(null),className:"p-1 text-green-600 hover:text-green-800",children:(0,j.jsx)(J,{className:"w-4 h-4"})}):(0,j.jsx)("button",{onClick:()=>H(e.id),className:"p-1 text-blue-600 hover:text-blue-800",children:(0,j.jsx)(Z,{className:"w-4 h-4"})}),(0,j.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this store item?")&&h(e=>{const n=e.filter(e=>e.id!==t);return m("storeItems",n),n}));var t},className:"p-1 text-red-600 hover:text-red-800",children:(0,j.jsx)(X,{className:"w-4 h-4"})})]})]}),(0,j.jsxs)("div",{className:"mt-3",children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),W===e.id?(0,j.jsx)("input",{type:"text",value:e.description,onChange:t=>Ae(e.id,"description",t.target.value),className:"w-full px-2 py-1 border rounded text-sm"}):(0,j.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),W===e.id&&(0,j.jsxs)("div",{className:"mt-2",children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Icon"}),(0,j.jsx)("input",{type:"text",value:e.icon,onChange:t=>Ae(e.id,"icon",t.target.value),className:"w-20 px-2 py-1 border rounded text-sm",placeholder:"\ud83c\udf81"})]})]},e.id)),0===s.length&&(0,j.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No store items yet. Add your first item above!"})]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-6 ".concat(N?"p-6":"p-2"),children:[(0,j.jsxs)("button",{onClick:()=>C(!N),className:"w-full flex items-center justify-between hover:text-gray-600 ".concat(N?"text-lg font-semibold text-gray-800 mb-4":"text-sm font-medium text-gray-700 py-1"),children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(v,{className:"mr-2 ".concat(N?"w-5 h-5":"w-4 h-4")}),"Prep List Management"]}),(0,j.jsx)("span",{className:"transition-transform ".concat(N?"text-xl rotate-180":"text-sm"),children:"\u25bc"})]}),N&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Add New Prep Item"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prep Name"}),(0,j.jsx)("input",{type:"text",placeholder:"e.g., Valkosipulimajoneesi",value:pe,onChange:e=>me(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,j.jsx)("select",{value:ge,onChange:e=>ve(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:je.map(e=>(0,j.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Time"}),(0,j.jsx)("input",{type:"text",placeholder:"e.g., 15 min",value:ye,onChange:e=>be(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency (days)"}),(0,j.jsx)("input",{type:"number",min:"1",max:"30",placeholder:"3",value:xe,onChange:e=>we(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),(0,j.jsx)("div",{className:"md:col-span-2",children:(0,j.jsxs)("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[(0,j.jsx)("input",{type:"checkbox",checked:Se,onChange:e=>ke(e.target.checked),className:"rounded border-gray-300 text-green-500 focus:ring-green-500"}),(0,j.jsx)("span",{children:"Include Recipe"})]})}),Se&&(0,j.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ingredients"}),(0,j.jsx)("textarea",{value:Ne.ingredients,onChange:e=>_e(t=>(0,i.A)((0,i.A)({},t),{},{ingredients:e.target.value})),placeholder:"\u2022 **1 cup** majoneesi\n\u2022 **3-4** valkosipulin kyntt\xe4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 h-24 font-mono text-sm"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructions"}),(0,j.jsx)("textarea",{value:Ne.instructions,onChange:e=>_e(t=>(0,i.A)((0,i.A)({},t),{},{instructions:e.target.value})),placeholder:"1. **Sekoita**: Yhdist\xe4 majoneesi ja valkosipuli\n2. **Mausta**: Lis\xe4\xe4 sitruunamehu",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 h-24 font-mono text-sm"})]})]}),(0,j.jsx)("div",{className:"md:col-span-2",children:(0,j.jsxs)("button",{onClick:async()=>{if(pe.trim()&&ye.trim()&&xe.trim()){const e={id:Math.max(...l.map(e=>e.id),0)+1,name:pe.trim(),category:ge,estimatedTime:ye.trim(),isCustom:!0,hasRecipe:Se,frequency:parseInt(xe)||1,recipe:Se?Ne:null};p(t=>{const n=[...t,e];return m("prepItems",n),n}),me(""),ve("majoneesit"),be(""),we(""),ke(!1),_e({ingredients:"",instructions:""})}},className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 flex items-center justify-center",children:[(0,j.jsx)(v,{className:"w-4 h-4 mr-2"}),"Add Prep Item"]})})]})]}),(0,j.jsxs)("div",{className:"space-y-3",children:[(0,j.jsxs)("h4",{className:"font-medium text-gray-700",children:["Current Prep Items (",l.length,")"]}),l.map(e=>{var t,n;const r=je.find(t=>t.id===e.category);return(0,j.jsxs)("div",{className:"border rounded-lg p-4 bg-white",children:[(0,j.jsxs)("div",{className:"flex items-start justify-between",children:[(0,j.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),V===e.id?(0,j.jsx)("input",{type:"text",value:e.name,onChange:t=>Oe(e.id,"name",t.target.value),className:"w-full px-2 py-1 border rounded text-sm"}):(0,j.jsxs)("div",{className:"font-medium text-gray-800 flex items-center",children:[(0,j.jsx)("span",{className:"text-lg mr-2",children:null===r||void 0===r?void 0:r.icon}),e.name]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Category"}),V===e.id?(0,j.jsx)("select",{value:e.category,onChange:t=>Oe(e.id,"category",t.target.value),className:"w-full px-2 py-1 border rounded text-sm",children:je.map(e=>(0,j.jsx)("option",{value:e.id,children:e.name},e.id))}):(0,j.jsx)("span",{className:"text-sm text-gray-600",children:null===r||void 0===r?void 0:r.name})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Time"}),V===e.id?(0,j.jsx)("input",{type:"text",value:e.estimatedTime,onChange:t=>Oe(e.id,"estimatedTime",t.target.value),className:"w-full px-2 py-1 border rounded text-sm"}):(0,j.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,j.jsx)(z,{className:"w-3 h-3 mr-1"}),e.estimatedTime]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Frequency"}),V===e.id?(0,j.jsx)("input",{type:"number",min:"1",max:"30",value:e.frequency,onChange:t=>Oe(e.id,"frequency",parseInt(t.target.value)||1),className:"w-full px-2 py-1 border rounded text-sm"}):(0,j.jsxs)("span",{className:"text-sm text-gray-600",children:["Every ",e.frequency," days"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Recipe"}),(0,j.jsx)("div",{className:"flex items-center space-x-2",children:(0,j.jsx)("button",{onClick:()=>Oe(e.id,"hasRecipe",!e.hasRecipe),className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.hasRecipe?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:e.hasRecipe?"\ud83d\udcd6 Has Recipe":"No Recipe"})})]})]}),(0,j.jsxs)("div",{className:"flex gap-2 ml-4",children:[V===e.id?(0,j.jsx)("button",{onClick:()=>{return t=e.id,p(e=>{const n=e.map(e=>e.id===t?(0,i.A)({},e):e);return m("prepItems",n),n}),q(null),void $(null);var t},className:"p-1 text-green-600 hover:text-green-800",children:(0,j.jsx)(J,{className:"w-4 h-4"})}):(0,j.jsx)("button",{onClick:()=>{e.hasRecipe?($(K===e.id?null:e.id),q(e.id)):q(e.id)},className:"p-1 text-blue-600 hover:text-blue-800",children:(0,j.jsx)(Z,{className:"w-4 h-4"})}),(0,j.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to remove this prep item?")&&p(e=>{const n=e.filter(e=>e.id!==t);return m("prepItems",n),n}));var t},className:"p-1 text-red-600 hover:text-red-800",children:(0,j.jsx)(X,{className:"w-4 h-4"})})]})]}),K===e.id&&e.hasRecipe&&(0,j.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,j.jsx)("h5",{className:"font-medium text-gray-700 mb-3",children:"Recipe Editor"}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ingredients"}),(0,j.jsxs)("div",{className:"mb-2 flex space-x-2",children:[(0,j.jsx)("button",{onClick:()=>Pe(e.id,"ingredients","bold"),className:"px-2 py-1 bg-gray-100 rounded text-sm font-bold hover:bg-gray-200",children:"B"}),(0,j.jsx)("button",{onClick:()=>Pe(e.id,"ingredients","italic"),className:"px-2 py-1 bg-gray-100 rounded text-sm italic hover:bg-gray-200",children:"I"}),(0,j.jsx)("button",{onClick:()=>Pe(e.id,"ingredients","bullet"),className:"px-2 py-1 bg-gray-100 rounded text-sm hover:bg-gray-200",children:"\u2022"})]}),(0,j.jsx)("textarea",{id:"ingredients-".concat(e.id),value:(null===(t=e.recipe)||void 0===t?void 0:t.ingredients)||"",onChange:t=>Ie(e.id,"ingredients",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 h-24 font-mono text-sm",placeholder:"\u2022 **1 cup** majoneesi\n\u2022 **3-4** valkosipulin kyntt\xe4"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instructions"}),(0,j.jsxs)("div",{className:"mb-2 flex space-x-2",children:[(0,j.jsx)("button",{onClick:()=>Pe(e.id,"instructions","bold"),className:"px-2 py-1 bg-gray-100 rounded text-sm font-bold hover:bg-gray-200",children:"B"}),(0,j.jsx)("button",{onClick:()=>Pe(e.id,"instructions","italic"),className:"px-2 py-1 bg-gray-100 rounded text-sm italic hover:bg-gray-200",children:"I"}),(0,j.jsx)("button",{onClick:()=>Pe(e.id,"instructions","number"),className:"px-2 py-1 bg-gray-100 rounded text-sm hover:bg-gray-200",children:"1."})]}),(0,j.jsx)("textarea",{id:"instructions-".concat(e.id),value:(null===(n=e.recipe)||void 0===n?void 0:n.instructions)||"",onChange:t=>Ie(e.id,"instructions",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 h-24 font-mono text-sm",placeholder:"1. **Sekoita**: Yhdist\xe4 majoneesi ja valkosipuli\n2. **Mausta**: Lis\xe4\xe4 sitruunamehu"})]})]})]})]},e.id)}),0===l.length&&(0,j.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No prep items yet. Add your first prep item above!"})]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-6 ".concat(T?"p-6":"p-2"),children:[(0,j.jsxs)("button",{onClick:()=>A(!T),className:"w-full flex items-center justify-between hover:text-gray-600 ".concat(T?"text-lg font-semibold text-gray-800 mb-4":"text-sm font-medium text-gray-700 py-1"),children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(k,{className:"mr-2 ".concat(T?"w-5 h-5":"w-4 h-4")}),"Employee Management"]}),(0,j.jsx)("span",{className:"transition-transform ".concat(T?"text-xl rotate-180":"text-sm"),children:"\u25bc"})]}),T&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Add New Employee"}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("input",{type:"text",placeholder:"Employee name",value:O,onChange:e=>I(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,j.jsx)("select",{value:P,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:a.map(e=>(0,j.jsx)("option",{value:e,children:e},e))}),(0,j.jsx)("button",{onClick:()=>{((e,t,n,r,a,i,o)=>{if(e.trim()){const s={id:Math.max(...n.map(e=>e.id),0)+1,name:e.trim(),mood:3,lastUpdated:"Just added",role:t,lastMoodDate:null,points:0};r(e=>{const t=[...e,s];return o("employees",t),t}),a(""),i("Cleaner")}})(O,P,n,c,I,D,m)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center",children:(0,j.jsx)(ee,{className:"w-4 h-4"})})]})]}),(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"w-full border-collapse",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"bg-gray-50",children:[(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Name"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Role"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Points"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Mood"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Last Updated"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-center",children:"Actions"})]})}),(0,j.jsx)("tbody",{children:n.map(e=>(0,j.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:L===e.id?(0,j.jsx)("input",{type:"text",value:e.name,onChange:t=>ie(e.id,"name",t.target.value,c,m),className:"w-full px-2 py-1 border rounded"}):e.name}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:L===e.id?(0,j.jsx)("select",{value:e.role,onChange:t=>ie(e.id,"role",t.target.value,c,m),className:"w-full px-2 py-1 border rounded",children:a.map(e=>(0,j.jsx)("option",{value:e,children:e},e))}):e.role}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(E,{className:"w-3 h-3 text-purple-500 mr-1"}),(0,j.jsx)("span",{className:"font-medium text-purple-600",children:e.points})]})}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat((0,_.zQ)(e.mood))}),e.mood,"/5"]})}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2 text-sm text-gray-600",children:e.lastUpdated}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(0,j.jsxs)("div",{className:"flex gap-2 justify-center",children:[L===e.id?(0,j.jsx)("button",{onClick:()=>F(null),className:"p-1 text-green-600 hover:text-green-800",children:(0,j.jsx)(J,{className:"w-4 h-4"})}):(0,j.jsx)("button",{onClick:()=>F(e.id),className:"p-1 text-blue-600 hover:text-blue-800",children:(0,j.jsx)(Z,{className:"w-4 h-4"})}),(0,j.jsx)("button",{onClick:()=>((e,t,n)=>{window.confirm("Are you sure you want to remove this employee?")&&t(t=>{const r=t.filter(t=>t.id!==e);return n("employees",r),r})})(e.id,c,m),className:"p-1 text-red-600 hover:text-red-800",children:(0,j.jsx)(X,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,j.jsx)(g,{className:"w-5 h-5 mr-2"}),"Task Management"]}),(0,j.jsxs)("button",{onClick:()=>{const e=Math.max(0,...r.map(e=>e.id),...Ce.map(e=>e.id))+1,t={id:e,task:"",location:"",priority:"medium",estimatedTime:"",points:5};Ee(e=>[...e,t]),B(e)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center",children:[(0,j.jsx)(G,{className:"w-4 h-4 mr-2"}),"Add Task"]})]}),(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"w-full border-collapse",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"bg-gray-50",children:[(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Task"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Location"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Priority"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Points"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Est. Time"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-center",children:"Actions"})]})}),(0,j.jsxs)("tbody",{children:[Ce.map(e=>(0,j.jsxs)("tr",{className:"hover:bg-yellow-50",children:[(0,j.jsx)("td",{className:"border border-yellow-300 px-4 py-2",children:(0,j.jsx)("input",{type:"text",value:e.task,onChange:t=>ze(e.id,"task",t.target.value),className:"w-full px-2 py-1 border rounded"})}),(0,j.jsx)("td",{className:"border border-yellow-300 px-4 py-2",children:(0,j.jsx)("input",{type:"text",value:e.location,onChange:t=>ze(e.id,"location",t.target.value),className:"w-full px-2 py-1 border rounded"})}),(0,j.jsx)("td",{className:"border border-yellow-300 px-4 py-2",children:(0,j.jsxs)("select",{value:e.priority,onChange:t=>ze(e.id,"priority",t.target.value),className:"w-full px-2 py-1 border rounded",children:[(0,j.jsx)("option",{value:"low",children:"Low"}),(0,j.jsx)("option",{value:"medium",children:"Medium"}),(0,j.jsx)("option",{value:"high",children:"High"})]})}),(0,j.jsx)("td",{className:"border border-yellow-300 px-4 py-2",children:(0,j.jsx)("input",{type:"number",min:"1",max:"100",value:e.points,onChange:t=>ze(e.id,"points",t.target.value),className:"w-full px-2 py-1 border rounded"})}),(0,j.jsx)("td",{className:"border border-yellow-300 px-4 py-2",children:(0,j.jsx)("input",{type:"text",value:e.estimatedTime,onChange:t=>ze(e.id,"estimatedTime",t.target.value),className:"w-full px-2 py-1 border rounded"})}),(0,j.jsx)("td",{className:"border border-yellow-300 px-4 py-2",children:(0,j.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,j.jsx)("button",{onClick:()=>(e=>{const t=Ce.find(t=>t.id===e);t&&(u(e=>{const n=[...e,t];return m("tasks",n),n}),Ee(t=>t.filter(t=>t.id!==e)),B(null))})(e.id),className:"px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600",title:"Save Task",children:(0,j.jsx)(J,{className:"w-4 h-4"})}),(0,j.jsx)("button",{onClick:()=>{return t=e.id,Ee(e=>e.filter(e=>e.id!==t)),void B(null);var t},className:"px-2 py-1 bg-gray-400 text-white rounded hover:bg-gray-600",title:"Cancel",children:"\u2715"})]})})]},e.id)),r.map(e=>(0,j.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:U===e.id?(0,j.jsx)("input",{type:"text",value:Ue(e,"task"),onChange:t=>Fe(e.id,"task",t.target.value),className:"w-full px-2 py-1 border rounded"}):e.task}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:U===e.id?(0,j.jsx)("input",{type:"text",value:Ue(e,"location"),onChange:t=>Fe(e.id,"location",t.target.value),className:"w-full px-2 py-1 border rounded"}):e.location}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:U===e.id?(0,j.jsxs)("select",{value:e.priority,onChange:t=>oe(e.id,"priority",t.target.value,u,m),className:"w-full px-2 py-1 border rounded",children:[(0,j.jsx)("option",{value:"low",children:"Low"}),(0,j.jsx)("option",{value:"medium",children:"Medium"}),(0,j.jsx)("option",{value:"high",children:"High"})]}):(0,j.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("high"===e.priority?"bg-red-100 text-red-700":"medium"===e.priority?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:e.priority})}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:U===e.id?(0,j.jsx)("input",{type:"number",min:"1",max:"100",value:e.points,onChange:t=>oe(e.id,"points",t.target.value,u,m),className:"w-full px-2 py-1 border rounded"}):(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(E,{className:"w-3 h-3 text-purple-500 mr-1"}),(0,j.jsx)("span",{className:"font-medium text-purple-600",children:e.points})]})}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:U===e.id?(0,j.jsx)("input",{type:"text",value:Ue(e,"estimatedTime"),onChange:t=>Fe(e.id,"estimatedTime",t.target.value),className:"w-full px-2 py-1 border rounded"}):e.estimatedTime}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(0,j.jsxs)("div",{className:"flex gap-2 justify-center",children:[U===e.id?(0,j.jsx)("button",{onClick:()=>B(null),className:"p-1 text-green-600 hover:text-green-800",children:(0,j.jsx)(J,{className:"w-4 h-4"})}):(0,j.jsx)("button",{onClick:()=>B(e.id),className:"p-1 text-blue-600 hover:text-blue-800",children:(0,j.jsx)(Z,{className:"w-4 h-4"})}),(0,j.jsx)("button",{onClick:()=>((e,t,n)=>{window.confirm("Are you sure you want to remove this task?")&&t(t=>{const r=t.filter(t=>t.id!==e);return n("tasks",r),r})})(e.id,u,m),className:"p-1 text-red-600 hover:text-red-800",title:"Delete Task",children:(0,j.jsx)(X,{className:"w-4 h-4"})})]})})]},e.id))]})]})})]})]})},ue=u("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),de=u("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),he=e=>{var t,n,r,a;let{selectedDate:i,setSelectedDate:o,dailyData:s,employees:l,connectionStatus:c}=e;const u=s[i];return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,j.jsx)(ue,{className:"w-5 h-5 mr-2"}),"Daily Reports (Firebase Storage)"]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("connected"===c?"bg-green-500":"bg-red-500")}),(0,j.jsx)("span",{className:"text-xs text-gray-600",children:"connected"===c?"Live Data":"Offline"}),(0,j.jsx)("input",{type:"date",value:i,onChange:e=>o(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"}),(0,j.jsxs)("button",{className:"px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 flex items-center",children:[(0,j.jsx)(de,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),u?(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,j.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(t=u.completedTasks)||void 0===t?void 0:t.length)||0}),(0,j.jsx)("div",{className:"text-sm text-blue-700",children:"Tasks Completed"})]}),(0,j.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,j.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[u.completionRate||0,"%"]}),(0,j.jsx)("div",{className:"text-sm text-green-700",children:"Completion Rate"})]}),(0,j.jsxs)("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null===(n=u.employeeMoods)||void 0===n?void 0:n.length)||0}),(0,j.jsx)("div",{className:"text-sm text-orange-700",children:"Mood Updates"})]})]}):(0,j.jsxs)("div",{className:"text-center py-8 text-gray-500",children:["No data available for ",i]})]}),(null===u||void 0===u?void 0:u.completedTasks)&&(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Task Completions"}),(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"w-full border-collapse",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"bg-gray-50",children:[(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Time"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Task"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Employee"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Status"})]})}),(0,j.jsx)("tbody",{children:u.completedTasks.map((e,t)=>{const n=l.find(t=>t.id===e.employeeId);return(0,j.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:e.completedAt}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:e.taskName}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(null===n||void 0===n?void 0:n.name)||"Unknown"}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(0,j.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Completed"})})]},t)})})]})})]}),(null===u||void 0===u?void 0:u.employeeMoods)&&(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mood Updates"}),(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"w-full border-collapse",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"bg-gray-50",children:[(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Time"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Employee"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Mood"}),(0,j.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Rating"})]})}),(0,j.jsx)("tbody",{children:u.employeeMoods.map((e,t)=>{const n=l.find(t=>t.id===e.employeeId);return(0,j.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:e.updatedAt}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(null===n||void 0===n?void 0:n.name)||"Unknown"}),(0,j.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-lg mr-2",children:N.Ur[e.mood-1]}),N._M[e.mood-1]]})}),(0,j.jsxs)("td",{className:"border border-gray-200 px-4 py-2",children:[e.mood,"/5"]})]},t)})})]})})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"30-Day Overview"}),(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:(new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,j.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,j.jsx)("div",{className:"text-xs font-medium text-gray-500 text-center",children:e},e)),(()=>{const e=new Date,t=[],n=new Date(e.getFullYear(),e.getMonth(),1);for(let a=0;a<n.getDay();a++)t.push((0,j.jsx)("div",{className:"p-2"},"empty-".concat(a)));const r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();for(let a=1;a<=r;a++){const n=new Date(e.getFullYear(),e.getMonth(),a),r=(0,_.po)(n),l=s[r]||{},c=(null===l||void 0===l?void 0:l.completionRate)||0,u=Math.floor((e.getTime()-n.getTime())/864e5);u>=0&&u<30?t.push((0,j.jsx)("div",{className:"p-2 rounded text-xs cursor-pointer transition-colors ".concat(r===i?"bg-purple-500 text-white":c>=80?"bg-green-100 text-green-700 hover:bg-green-200":c>=50?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":c>0?"bg-red-100 text-red-700 hover:bg-red-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"),onClick:()=>o(r),title:"".concat(n.toLocaleDateString("en-US",{month:"short"})," ").concat(n.getDate(),": ").concat(c,"% completion"),children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{className:"font-medium",children:n.getDate()}),(0,j.jsxs)("span",{children:[c,"%"]})]})},r)):t.push((0,j.jsx)("div",{className:"p-2 rounded text-xs text-gray-300",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{children:n.getDate()}),(0,j.jsx)("span",{children:"-"})]})},"disabled-".concat(a)))}return t})()]})]}),(0,j.jsxs)("div",{className:"mt-4 flex justify-center space-x-4 text-xs",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"w-3 h-3 bg-green-100 rounded mr-1"}),"80%+ completion"]}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"w-3 h-3 bg-yellow-100 rounded mr-1"}),"50-79% completion"]}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"w-3 h-3 bg-red-100 rounded mr-1"}),"Below 50%"]})]})]}),u&&(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Daily Summary - ",new Date(i).toLocaleDateString()]}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,j.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[(0,j.jsx)("div",{className:"text-xl font-bold text-blue-600",children:(null===(r=u.completedTasks)||void 0===r?void 0:r.length)||0}),(0,j.jsx)("div",{className:"text-sm text-blue-700",children:"Tasks Done"})]}),(0,j.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[(0,j.jsxs)("div",{className:"text-xl font-bold text-green-600",children:[u.completionRate||0,"%"]}),(0,j.jsx)("div",{className:"text-sm text-green-700",children:"Completion"})]}),(0,j.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[(0,j.jsx)("div",{className:"text-xl font-bold text-purple-600",children:(null===(a=u.employeeMoods)||void 0===a?void 0:a.length)||0}),(0,j.jsx)("div",{className:"text-sm text-purple-700",children:"Mood Updates"})]})]}),(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"w-full border-collapse border border-gray-200",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"bg-gray-50",children:[(0,j.jsx)("th",{className:"border border-gray-200 px-3 py-2 text-left text-sm font-medium",children:"Time"}),(0,j.jsx)("th",{className:"border border-gray-200 px-3 py-2 text-left text-sm font-medium",children:"Employee"}),(0,j.jsx)("th",{className:"border border-gray-200 px-3 py-2 text-left text-sm font-medium",children:"Action"}),(0,j.jsx)("th",{className:"border border-gray-200 px-3 py-2 text-left text-sm font-medium",children:"Details"})]})}),(0,j.jsxs)("tbody",{children:[(u.completedTasks||[]).map((e,t)=>{const n=l.find(t=>t.id===e.employeeId);return(0,j.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:e.completedAt}),(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2 text-sm font-medium",children:(null===n||void 0===n?void 0:n.name)||"Unknown"}),(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2",children:(0,j.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"\u2713 Task Completed"})}),(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:e.taskName})]},"task-".concat(t))}),(u.employeeMoods||[]).map((e,t)=>{const n=l.find(t=>t.id===e.employeeId);return(0,j.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:e.updatedAt}),(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2 text-sm font-medium",children:(null===n||void 0===n?void 0:n.name)||"Unknown"}),(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2",children:(0,j.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"\ud83d\ude0a Mood Update"})}),(0,j.jsx)("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-lg mr-2",children:N.Ur[e.mood-1]}),N._M[e.mood-1]," (",e.mood,"/5)"]})})]},"mood-".concat(t))}),(!u.completedTasks||0===u.completedTasks.length)&&(!u.employeeMoods||0===u.employeeMoods.length)&&(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:4,className:"border border-gray-200 px-3 py-8 text-center text-gray-500",children:"No activity recorded for this date"})})]})]})})]})]})},fe=u("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),pe=[{id:"all",name:"All Items",icon:"\ud83c\udf7d\ufe0f"},{id:"majoneesit",name:"Majoneesit",icon:"\ud83e\udd44"},{id:"proteiinit",name:"Proteiinit",icon:"\ud83e\udd69"},{id:"kasvikset",name:"Kasvikset",icon:"\ud83e\udd57"},{id:"marinointi",name:"Marinointi & pikkel\xf6inti",icon:"\ud83e\udd52"},{id:"kastikkeet",name:"Kastikkeet",icon:"\ud83e\uddc2"},{id:"muut",name:"Muut",icon:"\ud83d\udd27"}],me=[{id:"morning",name:"Morning (6-10 AM)",icon:"\ud83c\udf05"},{id:"midday",name:"Mid-day (10 AM-2 PM)",icon:"\u2600\ufe0f"},{id:"afternoon",name:"Afternoon (2-6 PM)",icon:"\ud83c\udf24\ufe0f"},{id:"evening",name:"Evening (6-10 PM)",icon:"\ud83c\udf06"}],ge=[{id:"low",name:"Low",color:"bg-green-100 text-green-700",icon:"\ud83d\udfe2"},{id:"medium",name:"Medium",color:"bg-yellow-100 text-yellow-700",icon:"\ud83d\udfe1"},{id:"high",name:"High",color:"bg-red-100 text-red-700",icon:"\ud83d\udd34"}],ve=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},ye=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),be=e=>e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br/>"),xe=(e,t)=>"".concat(ve(e),"-").concat(t),we=()=>Date.now()+Math.random(),Se=u("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ke=e=>{let{scheduledPreps:n,onToggleCompletion:r,onShowRecipe:a}=e;const[i,o]=(0,t.useState)(new Set),s=ve(new Date),l=n.filter(e=>e.scheduledDate===s);t.useEffect(()=>{console.log("\ud83d\udd0d TodayView Debug Info:",{todayDateString:s,totalScheduledPreps:n.length,todayScheduledPreps:l.length,allScheduledDates:Array.from(new Set(n.map(e=>e.scheduledDate))).sort(),sampleTodayPreps:l.slice(0,3).map(e=>({id:e.id,name:e.name,scheduledDate:e.scheduledDate,completed:e.completed}))})},[s,n,l]);const c=l.filter(e=>e.completed).length,u=l.length,d=e=>{var t;const n=ge.find(t=>t.id===e.priority),s=i.has(e.id);return(0,j.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg transition-all ".concat(s?"bg-blue-50 border-blue-200":"hover:bg-gray-50"),children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3 select-none",children:[(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(i.has(e))console.log("\u23f3 Completion toggle already in progress for prep:",e);else{o(t=>new Set(t).add(e));try{console.log("\ud83d\udd04 TodayView: Toggling completion for prep:",e),await r(e),console.log("\u2705 TodayView: Completion toggle finished for prep:",e)}catch(t){console.error("\u274c TodayView: Completion toggle failed for prep:",e,t)}finally{o(t=>{const n=new Set(t);return n.delete(e),n})}}})(e.id)},disabled:s,className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ".concat(e.completed?"bg-green-500 border-green-500":s?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-green-500"," ").concat(s?"cursor-wait":"cursor-pointer"," disabled:cursor-wait"),title:s?"Saving...":e.completed?"Mark as incomplete":"Mark as complete",children:s?(0,j.jsx)(Se,{className:"w-4 h-4 text-blue-500 animate-spin"}):e.completed?(0,j.jsx)(p,{className:"w-4 h-4 text-white"}):null}),(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsxs)("div",{className:"font-medium flex items-center space-x-2 transition-all ".concat(e.completed?"line-through text-gray-500":"text-gray-800"),children:[(0,j.jsx)("span",{children:e.name}),e.hasRecipe&&e.recipe&&(0,j.jsx)("button",{onClick:()=>a(e.recipe,e.name),className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full hover:bg-green-200 transition-colors",children:"\ud83d\udcd6 Recipe"}),s&&(0,j.jsx)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:"Saving..."})]}),(0,j.jsxs)("div",{className:"text-sm text-gray-600",children:[e.estimatedTime," \u2022 ",e.category,e.timeSlot&&(0,j.jsxs)(j.Fragment,{children:[" "," \u2022 ",(null===(t=me.find(t=>t.id===e.timeSlot))||void 0===t?void 0:t.name)||e.timeSlot]})]})]})]}),(0,j.jsx)("div",{className:"flex items-center space-x-2",children:(0,j.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((null===n||void 0===n?void 0:n.color)||"bg-gray-100 text-gray-700"),children:(null===n||void 0===n?void 0:n.name)||"Medium"})})]},e.id)};return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Today's Progress"}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,j.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:u}),(0,j.jsx)("div",{className:"text-sm text-blue-700",children:"Total Preps"})]}),(0,j.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-green-600",children:c}),(0,j.jsx)("div",{className:"text-sm text-green-700",children:"Completed"})]}),(0,j.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,j.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[u>0?Math.round(c/u*100):0,"%"]}),(0,j.jsx)("div",{className:"text-sm text-purple-700",children:"Complete"})]})]}),u>0&&(0,j.jsxs)("div",{className:"mt-4",children:[(0,j.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,j.jsx)("span",{children:"Progress"}),(0,j.jsxs)("span",{children:[c," of ",u," tasks"]})]}),(0,j.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,j.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-500",style:{width:"".concat(u>0?c/u*100:0,"%")}})})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Today's Prep Tasks"}),i.size>0&&(0,j.jsxs)("div",{className:"flex items-center text-blue-600 text-sm",children:[(0,j.jsx)(Se,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving ",i.size," change",1!==i.size?"s":"","..."]})]}),0===l.length?(0,j.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,j.jsx)(v,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,j.jsx)("p",{className:"text-lg mb-2",children:"No prep tasks scheduled for today"}),(0,j.jsx)("p",{className:"text-sm",children:'Use the "Plan Preps" tab to schedule tasks.'})]}):(0,j.jsxs)("div",{className:"space-y-4",children:[me.map(e=>{const t=l.filter(t=>t.timeSlot===e.id);if(0===t.length)return null;const n=t.filter(e=>e.completed).length;return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,j.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,j.jsx)("span",{className:"mr-2",children:e.icon}),e.name]}),(0,j.jsxs)("span",{className:"text-sm text-gray-500",children:[n,"/",t.length," completed"]})]}),(0,j.jsx)("div",{className:"space-y-3",children:t.map(d)})]},e.id)}),(()=>{const e=l.filter(e=>""===e.timeSlot);if(0===e.length)return null;const t=e.filter(e=>e.completed).length;return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 flex items-center",children:"\ud83d\udd50 Anytime"}),(0,j.jsxs)("span",{className:"text-sm text-gray-500",children:[t,"/",e.length," completed"]})]}),(0,j.jsx)("div",{className:"space-y-3",children:e.map(d)})]})})()]})]}),u>0&&c===u&&(0,j.jsxs)("div",{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-xl p-6 text-white text-center",children:[(0,j.jsx)("div",{className:"text-3xl mb-2",children:"\ud83c\udf89"}),(0,j.jsx)("h3",{className:"text-xl font-bold mb-1",children:"All Done!"}),(0,j.jsxs)("p",{className:"text-green-100",children:["Great job! You've completed all ",u," prep tasks for today."]})]})]})},Ne=e=>{let{scheduledPreps:n,currentDate:r,setCurrentDate:a,selectedDate:i,setSelectedDate:o,setActiveView:s,onToggleCompletion:l,onShowRecipe:c}=e;const[u,d]=(0,t.useState)(null),h=()=>{const e=[];for(let t=0;t<7;t++){const n=new Date(r);n.setDate(r.getDate()+t),e.push(n)}return e};return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsx)("style",{dangerouslySetInnerHTML:{__html:'\n          .priority-glow {\n            position: relative;\n            z-index: 0;\n            font-weight: 600;\n            border-radius: 0.25rem;\n            padding: 0.125rem 0.25rem;\n          }\n          .priority-glow::before {\n            content: "";\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: 110%;\n            height: 2em;\n            transform: translate(-50%, -50%);\n            border-radius: 0.375rem;\n            filter: blur(6px);\n            z-index: -1;\n            opacity: 0.3;\n          }\n          .priority-low {\n            color: #047857;\n          }\n          .priority-low::before {\n            box-shadow: 0 0 8px 4px rgba(5, 150, 105, 0.4);\n          }\n          .priority-medium {\n            color: #92400e;\n          }\n          .priority-medium::before {\n            box-shadow: 0 0 8px 4px rgba(202, 138, 4, 0.4);\n          }\n          .priority-high {\n            color: #b91c1c;\n          }\n          .priority-high::before {\n            box-shadow: 0 0 8px 4px rgba(185, 28, 28, 0.4);\n          }\n        '}}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Week Overview"}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("button",{onClick:()=>{const e=new Date(r);e.setDate(e.getDate()-7),a(e)},className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm",children:"\u2190 Previous Week"}),(0,j.jsx)("button",{onClick:()=>{const e=new Date(r);e.setDate(e.getDate()+7),a(e)},className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm",children:"Next Week \u2192"})]})]}),(0,j.jsx)("div",{className:"space-y-3",children:h().map((e,t)=>{const r=n.filter(t=>t.scheduledDate===ve(e)),a=r.filter(e=>e.completed).length,h=ve(e)===ve(new Date),f=ve(e)===ve(i),m=u===ve(e);return(0,j.jsxs)("div",{className:"border rounded-xl transition-all duration-500 ease-in-out overflow-hidden ".concat(m?"bg-gray-50":"bg-white hover:bg-gray-50"," ").concat(h?"ring-2 ring-blue-500":f&&!m?"ring-2 ring-purple-500":m?"ring-2 ring-green-500 shadow-lg":"hover:shadow-md"),children:[(0,j.jsxs)("div",{className:"flex items-center cursor-pointer transition-all duration-300 ".concat(m?"p-4 bg-white border-b":"p-4"),onClick:()=>{d(m?null:ve(e))},children:[(0,j.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"font-medium text-gray-800 text-sm",children:e.toLocaleDateString("en-US",{weekday:"short"})}),(0,j.jsx)("div",{className:"text-2xl font-bold ".concat(h?"text-blue-600":f&&!m?"text-purple-600":m?"text-green-600":"text-gray-600"),children:e.getDate()}),h&&(0,j.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:"Today"}),f&&!h&&!m&&(0,j.jsx)("div",{className:"text-xs text-purple-600 font-medium",children:"Selected"}),m&&(0,j.jsx)("div",{className:"text-xs text-green-600 font-medium",children:"Expanded"})]}),(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsxs)("div",{className:"text-sm text-gray-600",children:[a,"/",r.length," tasks"]}),r.length>0&&(0,j.jsx)("div",{className:"flex-1 max-w-32",children:(0,j.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,j.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(a===r.length?"bg-green-500":a>0?"bg-yellow-500":"bg-gray-300"),style:{width:"".concat(a/r.length*100,"%")}})})})]}),!m&&r.length>0&&(0,j.jsxs)("div",{className:"text-xs mt-1",children:[r.slice(0,2).map((e,t)=>(0,j.jsxs)("span",{className:"priority-glow priority-".concat(e.priority," ").concat(t>0?"ml-1":""),children:[e.name,t<Math.min(r.length,2)-1&&", "]},e.id)),r.length>2&&(0,j.jsxs)("span",{className:"text-gray-500 ml-1",children:["+",r.length-2," more"]})]}),!m&&0===r.length&&(0,j.jsx)("div",{className:"text-xs text-gray-400 mt-1 italic",children:"No preps scheduled"})]})]}),(0,j.jsx)("div",{className:"transform transition-transform duration-300 ".concat(m?"rotate-180":"rotate-0"),children:(0,j.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,j.jsx)("div",{className:"transition-all duration-500 ease-in-out overflow-hidden ".concat(m?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:m&&(0,j.jsx)("div",{className:"p-4 space-y-3 overflow-y-auto max-h-80",children:0===r.length?(0,j.jsxs)("div",{className:"text-center py-8",children:[(0,j.jsx)("div",{className:"text-gray-400 text-sm",children:"No prep tasks scheduled"}),(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e),s("plan")},className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Plan Preps for This Day"})]}):(0,j.jsxs)(j.Fragment,{children:[(()=>{const e=r.filter(e=>""===e.timeSlot),t=me.map(e=>({slot:e,preps:r.filter(t=>t.timeSlot===e.id)})).filter(e=>e.preps.length>0);return(0,j.jsxs)(j.Fragment,{children:[t.map(e=>{let{slot:t,preps:n}=e;return(0,j.jsxs)("div",{children:[(0,j.jsxs)("h5",{className:"font-medium text-gray-700 text-sm mb-2 flex items-center",children:[(0,j.jsx)("span",{className:"mr-2",children:t.icon}),t.name]}),(0,j.jsx)("div",{className:"space-y-2",children:n.map(e=>{const t=ge.find(t=>t.id===e.priority);return(0,j.jsx)("div",{className:"p-3 rounded-lg border-l-4 transition-colors ".concat(e.completed?"bg-green-50 border-green-500":"bg-white border-gray-300 hover:bg-gray-50"),children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),l(e.id)},className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ".concat(e.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-green-500"),children:e.completed&&(0,j.jsx)(p,{className:"w-3 h-3 text-white"})}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"font-medium text-sm flex items-center space-x-2 priority-glow priority-".concat(e.priority," ").concat(e.completed?"line-through opacity-60":""),children:[(0,j.jsx)("span",{children:e.name}),e.hasRecipe&&(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),e.recipe&&c(e.recipe,e.name)},className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded-full hover:bg-green-200 transition-colors",children:"\ud83d\udcd6"})]}),(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:[e.estimatedTime," \u2022 ",e.category]})]})]}),(0,j.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((null===t||void 0===t?void 0:t.color)||"bg-gray-100 text-gray-700"),children:(null===t||void 0===t?void 0:t.name)||"Medium"})]})},e.id)})})]},t.id)}),e.length>0&&(0,j.jsxs)("div",{children:[(0,j.jsx)("h5",{className:"font-medium text-gray-700 text-sm mb-2 flex items-center",children:"\ud83d\udd50 Anytime"}),(0,j.jsx)("div",{className:"space-y-2",children:e.map(e=>{const t=ge.find(t=>t.id===e.priority);return(0,j.jsx)("div",{className:"p-3 rounded-lg border-l-4 transition-colors ".concat(e.completed?"bg-green-50 border-green-500":"bg-white border-gray-300 hover:bg-gray-50"),children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),l(e.id)},className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ".concat(e.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-green-500"),children:e.completed&&(0,j.jsx)(p,{className:"w-3 h-3 text-white"})}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"font-medium text-sm flex items-center space-x-2 priority-glow priority-".concat(e.priority," ").concat(e.completed?"line-through opacity-60":""),children:[(0,j.jsx)("span",{children:e.name}),e.hasRecipe&&(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),e.recipe&&c(e.recipe,e.name)},className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded-full hover:bg-green-200 transition-colors",children:"\ud83d\udcd6"})]}),(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:[e.estimatedTime," \u2022 ",e.category]})]})]}),(0,j.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((null===t||void 0===t?void 0:t.color)||"bg-gray-100 text-gray-700"),children:(null===t||void 0===t?void 0:t.name)||"Medium"})]})},e.id)})})]})]})})(),(0,j.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[(0,j.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e),s("plan")},className:"flex-1 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Edit Preps"}),(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),d(null)},className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:"Collapse"})]})]})})})]},t)})}),(0,j.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[(0,j.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[(0,j.jsx)("div",{className:"text-xl font-bold text-blue-600",children:h().reduce((e,t)=>e+n.filter(e=>e.scheduledDate===ve(t)).length,0)}),(0,j.jsx)("div",{className:"text-sm text-blue-700",children:"Total Tasks This Week"})]}),(0,j.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[(0,j.jsx)("div",{className:"text-xl font-bold text-green-600",children:h().reduce((e,t)=>e+n.filter(e=>e.scheduledDate===ve(t)&&e.completed).length,0)}),(0,j.jsx)("div",{className:"text-sm text-green-700",children:"Completed"})]}),(0,j.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[(0,j.jsxs)("div",{className:"text-xl font-bold text-purple-600",children:[(()=>{const e=h().reduce((e,t)=>e+n.filter(e=>e.scheduledDate===ve(t)).length,0),t=h().reduce((e,t)=>e+n.filter(e=>e.scheduledDate===ve(t)&&e.completed).length,0);return e>0?Math.round(t/e*100):0})(),"%"]}),(0,j.jsx)("div",{className:"text-sm text-purple-700",children:"Week Progress"})]})]})]})]})},_e=e=>{var t,n,r;let{prep:a,isSelected:i,selection:o,showPriorityOptions:s,showTimeOptions:l,assignmentStep:c,onToggleSelection:u,onUpdateSelection:d,onShowPriorityOptions:h,onShowRecipe:f,onSave:m,context:g="main"}=e;const v="suggested"===g?"suggested-".concat(a.id):a.id;return(0,j.jsx)("div",{className:"border rounded-lg p-4 transition-colors ".concat(i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,j.jsx)("div",{className:"flex items-center justify-between",children:(0,j.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,j.jsx)("button",{onClick:()=>u(a),className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ".concat(i?"bg-blue-500 border-blue-500":"border-gray-300 hover:border-blue-500"),children:i&&(0,j.jsx)(p,{className:"w-4 h-4 text-white"})}),(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("h4",{className:"font-medium ".concat(i?"text-blue-900":"text-gray-800"),children:a.name}),a.hasRecipe&&a.recipe&&(0,j.jsx)("button",{onClick:()=>f(a.recipe,a.name),className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full hover:bg-green-200 transition-colors",children:"\ud83d\udcd6 Recipe"})]}),(0,j.jsxs)("p",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[(0,j.jsx)("span",{children:a.estimatedTime}),(0,j.jsx)("span",{children:"\u2022"}),(0,j.jsx)("span",{children:a.category}),(0,j.jsx)("span",{children:"\u2022"}),(0,j.jsxs)("span",{children:["Every ",a.frequency," days"]}),a.isCustom&&(0,j.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs",children:"Custom"})]}),(0,j.jsx)("div",{className:"mt-2",children:(0,j.jsxs)("div",{className:"relative w-2/3",children:[(0,j.jsx)("button",{onClick:()=>{h(s===v?null:v)},className:"w-full px-2 py-1 rounded text-xs transition-colors ".concat(i?(null===(t=ge.find(e=>e.id===o.priority))||void 0===t?void 0:t.color)+" font-medium":"timeSlot"===c[a.id]?"bg-green-100 text-green-700 font-medium":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:i?"".concat(null===(n=ge.find(e=>e.id===o.priority))||void 0===n?void 0:n.name," Priority").concat(o.timeSlot?" \u2022 ".concat(null===(r=me.find(e=>e.id===o.timeSlot))||void 0===r?void 0:r.name):" \u2022 Anytime"):"timeSlot"===c[a.id]?"Now choose time slot":"Click to assign priority & time"}),s===v&&(0,j.jsx)("div",{className:"dropdown-container soft-dropdown absolute top-full left-0 mt-2 rounded-xl p-3 z-20 w-full min-w-64 max-w-xs",children:(0,j.jsx)("div",{className:"space-y-3",children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,j.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Choose Priority Level"]}),(0,j.jsx)("div",{className:"space-y-2",children:ge.map(e=>(0,j.jsx)("button",{onClick:()=>d(a,"priority",e.id,g),className:"soft-button w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 ".concat(e.color),children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsx)("span",{className:"text-xs opacity-70",children:e.icon})]})},e.id))})]})})}),l===v&&(0,j.jsx)("div",{className:"dropdown-container soft-dropdown absolute top-full left-0 mt-2 rounded-xl p-3 z-20 w-full min-w-64 max-w-sm",children:(0,j.jsx)("div",{className:"space-y-3",children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,j.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Choose Time Slot"]}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)("button",{onClick:()=>d(a,"timeSlot","",g),className:"soft-button w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 bg-gray-50 text-gray-700 hover:bg-gray-100",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{children:"Anytime"}),(0,j.jsx)("span",{className:"text-xs opacity-70",children:"\ud83d\udd50"})]})}),me.map(e=>(0,j.jsx)("button",{onClick:()=>d(a,"timeSlot",e.id,g),className:"soft-button w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 bg-blue-50 text-blue-700 hover:bg-blue-100",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsx)("span",{className:"text-xs opacity-70",children:e.icon})]})},e.id))]})]})})})]})})]})]})})})},je=e=>{let{isOpen:t,recipe:n,recipeName:r,onClose:a}=e;return t&&n?(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,j.jsx)(v,{className:"w-5 h-5 text-green-600"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:r}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Recipe Details"})]})]}),(0,j.jsx)("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),(0,j.jsxs)("div",{className:"p-6 space-y-6",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("h4",{className:"text-md font-semibold text-gray-800 mb-3 flex items-center",children:[(0,j.jsx)("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm mr-2",children:"\ud83e\udd44"}),"Ingredients"]}),(0,j.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,j.jsx)("div",{className:"whitespace-pre-wrap text-gray-700",dangerouslySetInnerHTML:{__html:be(n.ingredients)}})})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("h4",{className:"text-md font-semibold text-gray-800 mb-3 flex items-center",children:[(0,j.jsx)("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm mr-2",children:"\ud83d\udcdd"}),"Instructions"]}),(0,j.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,j.jsx)("div",{className:"whitespace-pre-wrap text-gray-700",dangerouslySetInnerHTML:{__html:be(n.instructions)}})})]})]}),(0,j.jsx)("div",{className:"flex justify-end p-6 border-t bg-gray-50",children:(0,j.jsx)("button",{onClick:a,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Close Recipe"})})]})}):null},Ce=u("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Ee=u("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Te=u("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ae=u("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Oe=u("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ie=u("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Pe=u("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),De=u("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Me=e=>{let{currentDate:n,selectedDate:r,prepItems:a,scheduledPreps:i,prepSelections:o,selectedCategory:s,searchQuery:l,onToggleSelection:c,onUpdateSelection:u,onShowRecipe:d,showPriorityOptions:h,showTimeOptions:f,assignmentStep:p,onShowPriorityOptions:g,onResetWorkflow:v}=e;const[y,b]=(0,t.useState)(!1),[x,w]=(0,t.useState)("smart"),[S,k]=(0,t.useState)(5),[N,_]=(0,t.useState)(!1),[C,T]=(0,t.useState)([]),[A,O]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{var e,t,n;const r=document.querySelector(".bg-red-100.text-red-700"),a=r&&(null===(e=r.textContent)||void 0===e?void 0:e.includes("Admin Mode")),i=document.querySelector(".bg-white.border-b"),o=i&&((null===(t=i.textContent)||void 0===t?void 0:t.includes("Admin Panel"))||(null===(n=i.textContent)||void 0===n?void 0:n.includes("Daily Reports"))),s=document.querySelector('[title="Logout Admin"]'),l=a||o||!!s;O(l),l!==A&&console.log("\ud83d\udd27 Prep Suggestions: Admin mode detected:",{hasAdminBadge:!!a,hasAdminTabs:!!o,hasLogoutButton:!!s,isAdmin:l})};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[A]);const I=[{id:"low",name:"Low",color:"bg-green-100 text-green-700",icon:"\ud83d\udfe2"},{id:"medium",name:"Medium",color:"bg-yellow-100 text-yellow-700",icon:"\ud83d\udfe1"},{id:"high",name:"High",color:"bg-red-100 text-red-700",icon:"\ud83d\udd34"}],P=[{id:"morning",name:"Morning (6-10 AM)",icon:"\ud83c\udf05"},{id:"midday",name:"Mid-day (10 AM-2 PM)",icon:"\u2600\ufe0f"},{id:"afternoon",name:"Afternoon (2-6 PM)",icon:"\ud83c\udf24\ufe0f"},{id:"evening",name:"Evening (6-10 PM)",icon:"\ud83c\udf06"}],D=e=>{switch(e){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},M=e=>{switch(e){case"critical":return"bg-red-600";case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},R=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},L=e=>{var t;const n="".concat(R(r),"-").concat(e.id);return(null===(t=o[n])||void 0===t?void 0:t.selected)||!1},F=(0,t.useMemo)(()=>{const e=R(n),t=R(r),o=a.filter(e=>{const n="all"===s||e.category===s,r=""===l||e.name.toLowerCase().includes(l.toLowerCase())||e.category.toLowerCase().includes(l.toLowerCase()),a=i.some(n=>n.prepId===e.id&&n.scheduledDate===t);return n&&r&&!a}).map(t=>{var n;const r=i.filter(e=>e.prepId===t.id&&e.completed).sort((e,t)=>new Date(t.scheduledDate).getTime()-new Date(e.scheduledDate).getTime()),a=null===(n=r[0])||void 0===n?void 0:n.scheduledDate,o=a?Math.floor((new Date(e).getTime()-new Date(a).getTime())/864e5):999,{learnedFreq:s,confidence:l,dayPatterns:c}=((e,t)=>{if(t.length<2)return{learnedFreq:0,confidence:0,dayPatterns:{}};const n=[],r={};for(let s=0;s<t.length-1;s++){const e=Math.floor((new Date(t[s].scheduledDate).getTime()-new Date(t[s+1].scheduledDate).getTime())/864e5);n.push(e)}t.forEach(e=>{const t=new Date(e.scheduledDate).toLocaleDateString("en-US",{weekday:"long"});r[t]=(r[t]||0)+1});const a=n.reduce((e,t)=>e+t,0)/n.length,i=n.reduce((e,t)=>e+Math.pow(t-a,2),0)/n.length,o=100*(1/(1+i/a)*.7+.3*Math.min(t.length/10,1));return{learnedFreq:Math.round(10*a)/10,confidence:Math.round(o),dayPatterns:r}})(t.id,r),u=l>60&&s>0?s:t.frequency;if(A&&s>0&&Math.abs(s-t.frequency)>.5){const e={prepId:t.id,prepName:t.name,timestamp:(new Date).toISOString(),recommendedFreq:t.frequency,learnedFreq:s,reason:"Pattern analysis from ".concat(r.length," completions"),confidence:l,dataPoints:r.length};T(n=>n.some(e=>e.prepId===t.id&&Math.abs(new Date(e.timestamp).getTime()-(new Date).getTime())<6e4)?n:[e,...n.slice(0,49)])}const d=i.filter(e=>e.prepId===t.id).length,h=d>0?r.length/d*100:0,f=u,p=o-f;let m,g=0,v="",y="",b="medium",x="morning";return 999===o?(m="high",g=90,v="Never prepared before",y="\u2753",b="high"):p>f?(m="critical",g=100+p,v="".concat(Math.round(p)," days overdue"),y="\ud83d\udea8",b="high",x="morning"):p>0?(m="high",g=70+p,v="".concat(Math.round(p)," ").concat(1===Math.round(p)?"day":"days"," overdue"),y="\u26a0\ufe0f",b="high"):o>=f-1?(m="medium",g=f-o+50,v="Due soon",y="\u23f0",b="medium"):h<60?(m="medium",g=60-h+40,v="Low completion rate (".concat(Math.round(h),"%)"),y="\ud83d\udcc9",b="medium"):l>60&&Math.abs(s-t.frequency)>1?(m="low",g=35,v="Frequency analysis suggests ".concat(Math.round(s)," days"),y="\ud83d\udd0d",b="low",x="afternoon"):(m="low",g=20,v="Routine preparation",y="\u2728",b="low",x="afternoon"),u<=2&&(g+=15),t.hasRecipe&&(g+=10),"majoneesit"===t.category||"kastikkeet"===t.category?x="morning":"proteiinit"===t.category?x="midday":"kasvikset"===t.category?x="afternoon":"marinointi"===t.category&&(x="morning"),{prep:t,reason:v,urgency:m,lastCompleted:a,daysSinceLastPrep:o,suggestedPriority:b,suggestedTimeSlot:x,icon:y,score:g,completionRate:h,avgDaysBetween:s,learnedFrequency:s,frequencyConfidence:l,dayPatterns:c}}).filter(e=>"overdue"===x?"critical"===e.urgency||"high"===e.urgency:"smart"!==x||e.score>=30).sort((e,t)=>t.score-e.score).slice(0,S);return o},[a,i,n,r,s,l,x,S,A]);return 0===F.length?null:(0,j.jsxs)("div",{className:"mb-6 rounded-xl overflow-hidden shadow-sm border border-orange-200",children:[(0,j.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 p-4 border-b border-orange-200",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("button",{onClick:()=>b(!y),className:"flex items-center space-x-3 text-left hover:text-orange-600 transition-colors group",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)(Ce,{className:"w-5 h-5 text-orange-600"}),(0,j.jsxs)("h4",{className:"font-semibold text-orange-800",children:["Smart Prep Suggestions",A&&(0,j.jsx)("span",{className:"ml-2 text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"ADMIN"})]}),(0,j.jsx)("span",{className:"bg-orange-200 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:F.length})]}),(0,j.jsx)("span",{className:"transform transition-transform duration-200 ".concat(y?"rotate-180":"rotate-0"),children:(0,j.jsx)("svg",{className:"w-4 h-4 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),y&&(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[A&&(0,j.jsxs)("button",{onClick:()=>_(!N),className:"flex items-center space-x-1 px-3 py-1 bg-purple-200 text-purple-800 rounded-lg hover:bg-purple-300 transition-colors text-xs font-medium",title:"View AI Learning Log",children:[(0,j.jsx)(Ee,{className:"w-3 h-3"}),(0,j.jsx)("span",{children:"Learning Log"})]}),(0,j.jsxs)("select",{value:x,onChange:e=>w(e.target.value),className:"text-xs bg-white border border-orange-300 rounded-lg px-2 py-1 text-orange-700 focus:ring-2 focus:ring-orange-500",children:[(0,j.jsx)("option",{value:"smart",children:"Smart"}),(0,j.jsx)("option",{value:"overdue",children:"Overdue Only"}),(0,j.jsx)("option",{value:"all",children:"All"})]}),(0,j.jsxs)("button",{onClick:()=>{F.slice(0,3).forEach(e=>{let{prep:t,suggestedPriority:n,suggestedTimeSlot:r}=e;L(t)||(c(t),setTimeout(()=>{u(t,"priority",n,"suggested"),setTimeout(()=>{u(t,"timeSlot",r,"suggested")},100)},100))})},className:"flex items-center space-x-1 px-3 py-1 bg-orange-200 text-orange-800 rounded-lg hover:bg-orange-300 transition-colors text-xs font-medium",title:"Auto-apply top 3 suggestions",children:[(0,j.jsx)(Te,{className:"w-3 h-3"}),(0,j.jsx)("span",{children:"Auto-Apply"})]})]})]}),y&&(0,j.jsx)("div",{className:"mt-2 text-xs text-orange-700",children:(0,j.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,j.jsx)(Ae,{className:"w-3 h-3"}),(0,j.jsxs)("span",{children:["AI-powered suggestions with hybrid frequency learning from ",i.filter(e=>e.completed).length," completions"]})]})})]}),A&&N&&(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,j.jsx)(Oe,{className:"w-5 h-5 text-purple-600"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"AI Learning Log"}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Frequency optimization analysis"})]})]}),(0,j.jsx)("button",{onClick:()=>_(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"\u2715"})]}),(0,j.jsx)("div",{className:"p-6",children:0===C.length?(0,j.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,j.jsx)(Oe,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,j.jsx)("p",{children:"No learning data yet. AI will start analyzing patterns as you complete more preps."})]}):(0,j.jsx)("div",{className:"space-y-4",children:C.map((e,t)=>(0,j.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-800",children:e.prepName}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.confidence>80?"bg-green-100 text-green-700":e.confidence>60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:[e.confidence,"% confidence"]}),(0,j.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Recommended:"}),(0,j.jsxs)("div",{className:"font-medium",children:["Every ",e.recommendedFreq," days"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-gray-600",children:"AI Learned:"}),(0,j.jsxs)("div",{className:"font-medium text-blue-600",children:["Every ",e.learnedFreq," days"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Data Points:"}),(0,j.jsxs)("div",{className:"font-medium",children:[e.dataPoints," completions"]})]})]}),(0,j.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:e.reason})]},t))})})]})}),y&&(0,j.jsxs)("div",{className:"bg-white p-4 space-y-3",children:[F.map(e=>{var t,n,a,i;let{prep:s,reason:l,urgency:m,daysSinceLastPrep:y,icon:b,score:x,completionRate:w,suggestedPriority:S,suggestedTimeSlot:k,learnedFrequency:N,frequencyConfidence:_}=e;const C=L(s),T=(e=>{const t="".concat(R(r),"-").concat(e.id);return o[t]||{priority:"medium",timeSlot:"",selected:!1}})(s),O={low:"text-blue-800",medium:"text-yellow-800",high:"text-orange-800",critical:"text-red-800"};return(0,j.jsx)("div",{className:"rounded-lg border-2 transition-all duration-200 hover:shadow-md ".concat(C?"border-green-400 bg-green-50 shadow-sm":{low:"border-blue-300 bg-blue-50",medium:"border-yellow-300 bg-yellow-50",high:"border-orange-400 bg-orange-50",critical:"border-red-400 bg-red-50"}[m]),children:(0,j.jsx)("div",{className:"p-3 md:p-4",children:(0,j.jsxs)("div",{className:"space-y-3 md:space-y-0 md:flex md:items-center md:justify-between",children:[(0,j.jsxs)("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2 flex-shrink-0 mt-0.5",children:[(0,j.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(C?D(T.priority):M(m))}),(0,j.jsx)("button",{onClick:()=>c(s),className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ".concat(C?"bg-green-500 border-green-500":"critical"===m?"border-red-400 hover:border-red-500":"high"===m?"border-orange-400 hover:border-orange-500":"border-gray-400 hover:border-gray-500"),children:C&&(0,j.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("h5",{className:"font-semibold text-base md:text-lg ".concat(C?"text-green-900":O[m]),children:s.name}),s.hasRecipe&&(0,j.jsx)("button",{onClick:()=>s.recipe&&d(s.recipe,s.name),className:"flex-shrink-0 text-sm bg-green-100 text-green-700 px-2 py-1 rounded-full hover:bg-green-200 transition-colors",children:"\ud83d\udcd6 Recipe"})]}),(0,j.jsxs)("div",{className:"text-sm text-gray-600 space-y-1 md:space-y-0",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("span",{className:"font-medium",children:s.estimatedTime}),(0,j.jsx)("span",{children:"\u2022"}),(0,j.jsx)("span",{className:"capitalize",children:s.category}),(0,j.jsx)("span",{children:"\u2022"}),(0,j.jsxs)("span",{children:["Every ",s.frequency," days"]})]}),N>0&&_>60&&(0,j.jsxs)("div",{className:"text-blue-600 text-xs",children:["AI learned: Every ",N," days (",_,"% confidence)"]})]}),(0,j.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,j.jsx)("div",{className:"text-sm font-medium ".concat(O[m]),children:l}),y<999&&(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:["Last done: ",y," days ago"]}),w>0&&(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:[Math.round(w),"% completion rate",A&&" (Score: ".concat(x,")")]})]})]})]}),(0,j.jsx)("div",{className:"md:flex-shrink-0 md:ml-4",children:(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("button",{onClick:()=>{h==="suggested-".concat(s.id)?v():g("suggested-".concat(s.id))},className:"w-full md:w-auto px-4 py-2 md:py-1.5 rounded-lg text-sm transition-colors font-medium ".concat(C?(null===(t=I.find(e=>e.id===T.priority))||void 0===t?void 0:t.color)+" shadow-sm":"timeSlot"===p[s.id]?"bg-green-100 text-green-700 shadow-sm":"critical"===m?"bg-red-100 text-red-700 hover:bg-red-200":"high"===m?"bg-orange-100 text-orange-700 hover:bg-orange-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:C?"".concat(null===(n=I.find(e=>e.id===T.priority))||void 0===n?void 0:n.name).concat(T.timeSlot?" \u2022 ".concat(null===(a=P.find(e=>e.id===T.timeSlot))||void 0===a?void 0:a.name.split(" ")[0]):" \u2022 Anytime"):"timeSlot"===p[s.id]?"Choose Time Slot":"Assign ".concat(S.charAt(0).toUpperCase()+S.slice(1)," Priority")}),h==="suggested-".concat(s.id)&&(0,j.jsx)("div",{className:"dropdown-container absolute top-full right-0 mt-2 rounded-xl p-3 z-20 w-52 backdrop-filter backdrop-blur-lg bg-white/95 border border-white/30 shadow-xl",children:(0,j.jsx)("div",{className:"space-y-3",children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,j.jsx)(Ie,{className:"w-4 h-4 mr-2 text-blue-500"}),(0,j.jsx)("span",{children:"Choose Priority"}),(0,j.jsxs)("span",{className:"ml-auto text-xs text-green-600",children:["Suggested: ",S]})]}),(0,j.jsx)("div",{className:"space-y-2",children:I.map(e=>(0,j.jsx)("button",{onClick:()=>u(s,"priority",e.id,"suggested"),className:"w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 backdrop-filter backdrop-blur-sm border border-white/20 ".concat(e.color," ").concat(e.id===S?"ring-2 ring-green-400":""),children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,j.jsx)("span",{className:"text-xs opacity-70",children:e.icon}),e.id===S&&(0,j.jsx)(E,{className:"w-3 h-3 text-green-500"})]})]})},e.id))})]})})}),f==="suggested-".concat(s.id)&&(0,j.jsx)("div",{className:"dropdown-container absolute top-full right-0 mt-2 rounded-xl p-3 z-20 w-64 backdrop-filter backdrop-blur-lg bg-white/95 border border-white/30 shadow-xl",children:(0,j.jsx)("div",{className:"space-y-3",children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,j.jsx)(Pe,{className:"w-4 h-4 mr-2 text-green-500"}),(0,j.jsx)("span",{children:"Choose Time Slot"}),(0,j.jsxs)("span",{className:"ml-auto text-xs text-green-600",children:["Suggested: ",null===(i=P.find(e=>e.id===k))||void 0===i?void 0:i.name.split(" ")[0]]})]}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)("button",{onClick:()=>u(s,"timeSlot","","suggested"),className:"w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 bg-gray-50 text-gray-700 hover:bg-gray-100 backdrop-filter backdrop-blur-sm border border-white/20",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{children:"Anytime"}),(0,j.jsx)("span",{className:"text-xs opacity-70",children:"\ud83d\udd50"})]})}),P.map(e=>(0,j.jsx)("button",{onClick:()=>u(s,"timeSlot",e.id,"suggested"),className:"w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 bg-blue-50 text-blue-700 hover:bg-blue-100 backdrop-filter backdrop-blur-sm border border-white/20 ".concat(e.id===k?"ring-2 ring-green-400":""),children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("span",{children:e.name.split(" ")[0]}),(0,j.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,j.jsx)("span",{className:"text-xs opacity-70",children:e.icon}),e.id===k&&(0,j.jsx)(E,{className:"w-3 h-3 text-green-500"})]})]})},e.id))]})]})})})]})})]})})},"suggested-".concat(s.id))}),(0,j.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:(0,j.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,j.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,j.jsx)(Ce,{className:"w-3 h-3"}),(0,j.jsx)("span",{children:"Hybrid frequency learning"})]}),(0,j.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,j.jsx)(m,{className:"w-3 h-3"}),(0,j.jsxs)("span",{children:["Based on ",i.filter(e=>e.completed).length," completions"]})]}),A&&(0,j.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,j.jsx)(De,{className:"w-3 h-3"}),(0,j.jsx)("span",{children:"Admin mode active"})]})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("span",{children:"Show:"}),(0,j.jsxs)("select",{value:S,onChange:e=>k(Number(e.target.value)),className:"bg-transparent border border-gray-300 rounded px-2 py-1 text-xs",children:[(0,j.jsx)("option",{value:3,children:"3"}),(0,j.jsx)("option",{value:5,children:"5"}),(0,j.jsx)("option",{value:10,children:"10"})]})]})]})})]})]})},Re=e=>{let{currentUser:n,connectionStatus:r,prepItems:a,scheduledPreps:o,prepSelections:s,setPrepItems:l,setScheduledPreps:c,setPrepSelections:u,quickSave:d}=e;const[h,f]=(0,t.useState)("today"),[m,g]=(0,t.useState)(()=>new Date),[y,b]=(0,t.useState)(new Date),[x,w]=(0,t.useState)(!1),[N,_]=(0,t.useState)(""),[C,E]=(0,t.useState)("all"),[T,A]=(0,t.useState)(!1),[O,I]=(0,t.useState)(""),[P,D]=(0,t.useState)(!1),[M,R]=(0,t.useState)({ingredients:"",instructions:""}),[L,F]=(0,t.useState)(!1),[U,z]=(0,t.useState)(null),[B,W]=(0,t.useState)(""),[H,V]=(0,t.useState)(null),[q,K]=(0,t.useState)(null),[Y,$]=(0,t.useState)({}),[X,Q]=(0,t.useState)(0),[J,Z]=(0,t.useState)(!1),[ee,te]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{var e,t,n;const r=document.querySelector(".bg-red-100.text-red-700"),a=r&&(null===(e=r.textContent)||void 0===e?void 0:e.includes("Admin Mode")),i=document.querySelector(".bg-white.border-b"),o=i&&((null===(t=i.textContent)||void 0===t?void 0:t.includes("Admin Panel"))||(null===(n=i.textContent)||void 0===n?void 0:n.includes("Daily Reports"))),s=document.querySelector('[title="Logout Admin"]'),l=a||o||!!s;te(l),l!==ee&&console.log("\ud83d\udd27 Admin mode detected:",{hasAdminBadge:!!a,hasAdminTabs:!!o,hasLogoutButton:!!s,isAdmin:l})};e();const t=setInterval(e,500);return()=>clearInterval(t)},[ee]),(0,t.useEffect)(()=>{if(0===a.length){const e=[{id:1,name:"Valkosipulimajoneesi",category:"majoneesit",estimatedTime:"15 min",isCustom:!1,hasRecipe:!0,frequency:3,recipe:{ingredients:"\u2022 **1 cup** majoneesi\n\u2022 **3-4** valkosipulin kyntt\xe4, hienoksi hakattuna\n\u2022 **1 rkl** sitruunamehua\n\u2022 **Suolaa** ja **mustapippuria** maun mukaan",instructions:"1. **Sekoita**: Yhdist\xe4 majoneesi ja hienonnettu valkosipuli\n2. **Mausta**: Lis\xe4\xe4 sitruunamehu, suola ja pippuri\n3. **Anna maustua**: Anna seisoa j\xe4\xe4kaapissa v\xe4hint\xe4\xe4n 30 minuuttia\n4. **Tarkista maku**: S\xe4\xe4d\xe4 mausteita tarpeen mukaan"}},{id:2,name:"Chilimajoneesi",category:"majoneesit",estimatedTime:"10 min",isCustom:!1,hasRecipe:!0,frequency:4,recipe:{ingredients:"\u2022 **1 cup** majoneesi\n\u2022 **2-3 rkl** sriracha-kastiketta\n\u2022 **1 tl** hunajaa\n\u2022 **1 tl** limemehua",instructions:"1. **Yhdist\xe4**: Sekoita majoneesi ja sriracha-kastike\n2. **Makeutus**: Lis\xe4\xe4 hunaja ja limemehu\n3. **Sekoita hyvin**: Varmista tasainen sekoitus\n4. **Maista ja s\xe4\xe4d\xe4**: Lis\xe4\xe4 chilimakua tai hunajaa tarpeen mukaan"}},{id:3,name:"Kev\xe4tsipulimajoneesi",category:"majoneesit",estimatedTime:"10 min",isCustom:!1,hasRecipe:!1,frequency:3,recipe:null},{id:4,name:"Bad Santa -majoneesi",category:"majoneesit",estimatedTime:"15 min",isCustom:!1,hasRecipe:!1,frequency:5,recipe:null},{id:5,name:"Manse-majoneesi",category:"majoneesit",estimatedTime:"12 min",isCustom:!1,hasRecipe:!1,frequency:4,recipe:null},{id:6,name:"Marinoitu kana",category:"proteiinit",estimatedTime:"30 min",isCustom:!1,hasRecipe:!0,frequency:2,recipe:{ingredients:"\u2022 **4** kananfileet\xe4\n\u2022 **1/4 cup** oliivi\xf6ljy\xe4\n\u2022 **2 rkl** sitruunamehua\n\u2022 **3** valkosipulin kyntt\xe4, murskattuna\n\u2022 **1 tl** kuivattuja yrttej\xe4\n\u2022 **Suolaa** ja **pippuria**",instructions:"1. **Valmista marinade**: Sekoita \xf6ljy, sitruunamehu, valkosipuli ja yrtit\n2. **Mausta kana**: Hiero kanaan suolaa ja pippuria\n3. **Marinoi**: Laita kana marinadiin 2-4 tunniksi\n4. **Huoneenl\xe4mp\xf6**: Anna tulla huoneenl\xe4mp\xf6\xf6n ennen kypsennyst\xe4"}},{id:7,name:"Lihapullat",category:"proteiinit",estimatedTime:"45 min",isCustom:!1,hasRecipe:!0,frequency:3,recipe:{ingredients:"\u2022 **500g** jauhelihaa\n\u2022 **1** sipuli, hienoksi hakattuna\n\u2022 **1** muna\n\u2022 **1/2 cup** korppujauhoja\n\u2022 **Suolaa**, **pippuria**, **mausteet**",instructions:"1. **Sekoita**: Yhdist\xe4 kaikki ainekset kulhossa\n2. **Muotoile**: Tee tasakokoisia palloja\n3. **Kypsenn\xe4**: Paista pannulla tai uunissa\n4. **Valmista**: Kypsyys 65\xb0C sis\xe4l\xe4mp\xf6tila"}},{id:8,name:"Tuoreet tomaatit (leikattu)",category:"kasvikset",estimatedTime:"15 min",isCustom:!1,hasRecipe:!1,frequency:1,recipe:null},{id:9,name:"Kev\xe4tsipuli",category:"kasvikset",estimatedTime:"10 min",isCustom:!1,hasRecipe:!1,frequency:2,recipe:null},{id:10,name:"Marinoitu punasipuli",category:"marinointi",estimatedTime:"20 min",isCustom:!1,hasRecipe:!0,frequency:4,recipe:{ingredients:"\u2022 **2** punasipulia, ohuksi viipaloiduna\n\u2022 **1/2 cup** valkoviinietikkaa\n\u2022 **2 rkl** sokeria\n\u2022 **1 tl** suolaa\n\u2022 **1** laakerinlehti",instructions:"1. **Liuota**: Sekoita etikka, sokeri ja suola\n2. **Sipulit**: Laita viipaloidut sipulit kulhoon\n3. **Kaada liuos**: Kaada kuuma liuos sipulien p\xe4\xe4lle\n4. **Anna marinoitua**: V\xe4hint\xe4\xe4n 30 minuuttia ennen k\xe4ytt\xf6\xe4"}},{id:11,name:"Pikkel\xf6ity punasipuli",category:"marinointi",estimatedTime:"25 min",isCustom:!1,hasRecipe:!1,frequency:5,recipe:null},{id:12,name:"Pikkel\xf6ity tomaatti",category:"marinointi",estimatedTime:"20 min",isCustom:!1,hasRecipe:!1,frequency:4,recipe:null},{id:13,name:"Pikkel\xf6ity kurkku",category:"marinointi",estimatedTime:"20 min",isCustom:!1,hasRecipe:!1,frequency:4,recipe:null},{id:14,name:"Paholaisen hillo",category:"marinointi",estimatedTime:"30 min",isCustom:!1,hasRecipe:!1,frequency:7,recipe:null},{id:15,name:"Hapan omena -hillo",category:"marinointi",estimatedTime:"35 min",isCustom:!1,hasRecipe:!1,frequency:7,recipe:null},{id:16,name:"Marinoitu punakaali",category:"marinointi",estimatedTime:"25 min",isCustom:!1,hasRecipe:!1,frequency:5,recipe:null},{id:17,name:"Konjakki-sinappi",category:"kastikkeet",estimatedTime:"15 min",isCustom:!1,hasRecipe:!0,frequency:6,recipe:{ingredients:"\u2022 **1/2 cup** dijon-sinappia\n\u2022 **3 rkl** konjakkia\n\u2022 **1 rkl** hunajaa\n\u2022 **1 tl** valkosipulijauhetta",instructions:"1. **Sekoita**: Yhdist\xe4 sinappi ja konjakki\n2. **Makeutus**: Lis\xe4\xe4 hunaja ja valkosipulijauhe\n3. **Sekoita hyvin**: Varmista tasainen sekoitus\n4. **Anna vet\xe4yty\xe4**: S\xe4ilyt\xe4 j\xe4\xe4kaapissa k\xe4ytt\xf6\xf6n asti"}},{id:18,name:"BBQ-hunaja-sinappi",category:"kastikkeet",estimatedTime:"12 min",isCustom:!1,hasRecipe:!1,frequency:5,recipe:null},{id:19,name:"T\xe4yt\xe4 kylm\xe4vitriini",category:"muut",estimatedTime:"20 min",isCustom:!1,hasRecipe:!1,frequency:1,recipe:null},{id:20,name:"Vaihda \xf6ljy",category:"muut",estimatedTime:"15 min",isCustom:!1,hasRecipe:!1,frequency:7,recipe:null},{id:21,name:"Asiakasjuomakaappi kuntoon",category:"muut",estimatedTime:"25 min",isCustom:!1,hasRecipe:!1,frequency:2,recipe:null},{id:22,name:"Alkoholijuomakaappi kuntoon",category:"muut",estimatedTime:"20 min",isCustom:!1,hasRecipe:!1,frequency:3,recipe:null},{id:23,name:"Keit\xe4 smash-perunat",category:"muut",estimatedTime:"45 min",isCustom:!1,hasRecipe:!0,frequency:2,recipe:{ingredients:"\u2022 **1kg** pieni\xe4 perunoita\n\u2022 **Suolaa** keitinveteen\n\u2022 **Oliivi\xf6ljy\xe4**\n\u2022 **Rosmariinia**\n\u2022 **Merisuolaa**\n\u2022 **Mustapippuria**",instructions:"1. **Keit\xe4**: Keit\xe4 perunat kuoressa suolavedess\xe4 kypsiksi\n2. **Valuta**: Anna valua ja j\xe4\xe4hty\xe4 hieman\n3. **Smash**: Litist\xe4 perunat haarukalla kevyesti\n4. **Paista**: Paista uunissa 200\xb0C \xf6ljyss\xe4 ja mausteissa kultaisiksi"}}];l(()=>e),d("prepItems",e)}},[a.length,l,d]),(0,t.useEffect)(()=>{if(o.length>0&&!J){console.log("\ud83d\udd04 Auto-saving scheduledPreps due to state change");const e=setTimeout(()=>{d("scheduledPreps",o).then(()=>{console.log("\u2705 ScheduledPreps auto-save completed")}).catch(e=>{console.error("\u274c ScheduledPreps auto-save failed:",e)})},300);return()=>clearTimeout(e)}},[o,d,J]),(0,t.useEffect)(()=>{const e=localStorage.getItem("lastPrepMoveCheck"),t=ve(new Date);e!==t&&((()=>{const e=new Date,t=new Date(e);t.setDate(t.getDate()-1);const n=ve(e),r=ve(t),a=o.filter(e=>e.scheduledDate===r&&!e.completed);if(a.length>0){console.log("\ud83d\udd04 Moving ".concat(a.length," incomplete preps from ").concat(r," to ").concat(n)),Q(a.length),setTimeout(()=>Q(0),8e3);const t=a.map(e=>(0,i.A)((0,i.A)({},e),{},{id:we(),scheduledDate:n}));c(e=>[...e.filter(e=>!(e.scheduledDate===r&&!e.completed)),...t]);const o={};a.forEach(t=>{const n=xe(e,t.prepId);o[n]={priority:t.priority,timeSlot:t.timeSlot,selected:!0}}),u(e=>(0,i.A)((0,i.A)({},e),o))}})(),localStorage.setItem("lastPrepMoveCheck",t))},[o,u,c]);const ne=async e=>{if(console.log("\ud83d\udd04 Toggling prep completion for ID:",e),J)console.log("\u23f3 Save in progress, skipping...");else{Z(!0);try{const t=o.find(t=>t.id===e);if(!t)return void console.error("\u274c Prep item not found:",e);const n=!t.completed;console.log("\ud83d\udccb ".concat(t.name,": ").concat(t.completed?"COMPLETED":"PENDING"," \u2192 ").concat(n?"COMPLETED":"PENDING")),console.log("\ud83d\udee1\ufe0f SYNC PAUSED during save operation");const r=o.map(t=>t.id===e?(0,i.A)((0,i.A)({},t),{},{completed:n}):t),a=ve(new Date),s=r.filter(e=>e.scheduledDate===a),l=s.filter(e=>e.completed);console.log("\ud83d\udce4 About to save scheduledPreps:",{totalCount:r.length,todayCount:s.length,todayCompletedCount:l.length,updatedItem:{id:e,name:t.name,completed:n,scheduledDate:t.scheduledDate}}),c(()=>r),console.log("\ud83d\udd25 Saving prep completion to Firebase...");await d("scheduledPreps",r)?(console.log("\u2705 Prep completion saved successfully"),setTimeout(async()=>{console.log("\ud83d\udd04 Save operation completed");try{const t=await fetch("https://hamptown-panel-default-rtdb.firebaseio.com/scheduledPreps.json"),r=await t.json();if(r){const t=r.filter(e=>e.scheduledDate===a),i=t.filter(e=>!0===e.completed),o=r.find(t=>t.id===e);console.log("\ud83d\udd0d Firebase verification after save:",{firebaseTotalCount:r.length,firebaseTodayCount:t.length,firebaseTodayCompleted:i.length,firebaseUpdatedItem:o?{id:o.id,name:o.name,completed:o.completed,scheduledDate:o.scheduledDate}:"NOT FOUND"}),o&&o.completed===n?console.log("\u2705 Save verification passed"):console.error("\u274c SAVE VERIFICATION FAILED! Item not found or completion status mismatch")}else console.error("\u274c No data found in Firebase during verification")}catch(t){console.warn("\u26a0\ufe0f Failed to verify save:",t)}},3e3)):(console.error("\u274c Failed to save prep completion to Firebase"),c(()=>o))}catch(t){console.error("\u274c Error toggling prep completion:",t),c(()=>o)}finally{Z(!1)}}},re=e=>{var t;const n=xe(m,e.id);return(null===(t=s[n])||void 0===t?void 0:t.selected)||!1},ae=e=>{const t=xe(m,e.id);return s[t]||{priority:"medium",timeSlot:"",selected:!1}},ie=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"main";const a=xe(m,e.id),l=s[a]||{priority:"medium",timeSlot:"",selected:!1};if("priority"===t){u(e=>(0,i.A)((0,i.A)({},e),{},{[a]:(0,i.A)((0,i.A)({},e[a]),{},{priority:n,selected:l.selected})})),$(t=>(0,i.A)((0,i.A)({},t),{},{[e.id]:"timeSlot"})),V(null);const t="suggested"===r?"suggested-".concat(e.id):e.id;K(t)}else if("timeSlot"===t){const t={priority:l.priority,timeSlot:n,selected:!0};u(e=>(0,i.A)((0,i.A)({},e),{},{[a]:t}));if(o.find(t=>t.prepId===e.id&&t.scheduledDate===ve(m)))c(r=>r.map(r=>r.prepId===e.id&&r.scheduledDate===ve(m)?(0,i.A)((0,i.A)({},r),{},{priority:t.priority,timeSlot:n}):r));else{const r={id:we(),prepId:e.id,name:e.name,category:e.category,estimatedTime:e.estimatedTime,isCustom:e.isCustom,hasRecipe:e.hasRecipe,recipe:e.recipe,scheduledDate:ve(m),priority:t.priority,timeSlot:n,completed:!1,assignedTo:null,notes:""};c(e=>[...e,r])}$(t=>(0,i.A)((0,i.A)({},t),{},{[e.id]:null})),V(null),K(null)}},oe=()=>{V(null),K(null),$({})};(0,t.useEffect)(()=>{const e=e=>{e.target.closest(".dropdown-container")||oe()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const se=(e,t)=>{z(e),W(t),F(!0)},le=e=>{var t;const n=xe(m,e.id);if(null===(t=s[n])||void 0===t?void 0:t.selected)u(e=>{const t=(0,i.A)({},e);return delete t[n],t}),c(t=>t.filter(t=>!(t.prepId===e.id&&t.scheduledDate===ve(m))));else{const t=o.find(t=>t.prepId===e.id&&t.scheduledDate===ve(m));if(t)u(e=>(0,i.A)((0,i.A)({},e),{},{[n]:{priority:t.priority,timeSlot:t.timeSlot,selected:!0}}));else{const t={priority:"medium",timeSlot:"",selected:!0};u(e=>(0,i.A)((0,i.A)({},e),{},{[n]:t}));const r={id:we(),prepId:e.id,name:e.name,category:e.category,estimatedTime:e.estimatedTime,isCustom:e.isCustom,hasRecipe:e.hasRecipe,recipe:e.recipe,scheduledDate:ve(m),priority:"medium",timeSlot:"",completed:!1,assignedTo:null,notes:""};c(e=>[...e,r])}}},ce=a.filter(e=>{const t="all"===C||e.category===C,n=""===O||e.name.toLowerCase().includes(O.toLowerCase())||e.category.toLowerCase().includes(O.toLowerCase());return t&&n});return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsx)("style",{dangerouslySetInnerHTML:{__html:'\n.priority-glow {\n  position: relative;\n  z-index: 0;\n  font-weight: 600;\n  border-radius: 0.25rem;\n  padding: 0.125rem 0.25rem;\n}\n.priority-glow::before {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 110%;\n  height: 2em;\n  transform: translate(-50%, -50%);\n  border-radius: 0.375rem;\n  filter: blur(6px);\n  z-index: -1;\n  opacity: 0.3;\n}\n.priority-low {\n  color: #047857;\n}\n.priority-low::before {\n  box-shadow: 0 0 8px 4px rgba(5, 150, 105, 0.4);\n}\n.priority-medium {\n  color: #92400e;\n}\n.priority-medium::before {\n  box-shadow: 0 0 8px 4px rgba(202, 138, 4, 0.4);\n}\n.priority-high {\n  color: #b91c1c;\n}\n.priority-high::before {\n  box-shadow: 0 0 8px 4px rgba(185, 28, 28, 0.4);\n}\n\n.soft-dropdown {\n  backdrop-filter: blur(16px);\n  background: rgba(255, 255, 255, 0.95);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15),\n              0 0 0 1px rgba(255, 255, 255, 0.05),\n              inset 0 1px 0 rgba(255, 255, 255, 0.1);\n}\n\n.soft-button {\n  backdrop-filter: blur(8px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05),\n              inset 0 1px 0 rgba(255, 255, 255, 0.1);\n}\n\n.soft-button:hover {\n  backdrop-filter: blur(12px);\n  box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.1),\n              inset 0 1px 0 rgba(255, 255, 255, 0.2);\n}\n'}}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(v,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Prep List Manager"}),(0,j.jsx)("p",{className:"text-gray-600",children:"Plan and track kitchen preparation tasks"})]})]}),(0,j.jsx)("div",{className:"flex items-center space-x-2"})]}),(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsxs)("button",{onClick:()=>f("today"),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("today"===h?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,j.jsx)(p,{className:"w-4 h-4 mr-2"}),"Today's Preps"]}),(0,j.jsxs)("button",{onClick:()=>f("plan"),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("plan"===h?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,j.jsx)(ue,{className:"w-4 h-4 mr-2"}),"Plan Preps"]}),(0,j.jsxs)("button",{onClick:()=>f("week"),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("week"===h?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,j.jsx)(k,{className:"w-4 h-4 mr-2"}),"Week View"]})]})]}),X>0&&(0,j.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0",children:(0,j.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,j.jsxs)("div",{className:"ml-3 flex-1",children:[(0,j.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"\ud83d\udcc5 Prep items moved to today"}),(0,j.jsxs)("div",{className:"mt-1 text-sm text-blue-600",children:[X," incomplete prep",X>1?"s":""," from yesterday ",X>1?"have":"has"," been automatically moved to today's schedule."]})]}),(0,j.jsx)("div",{className:"flex-shrink-0",children:(0,j.jsx)("button",{onClick:()=>Q(0),className:"text-blue-400 hover:text-blue-600",children:(0,j.jsx)(S,{className:"w-5 h-5"})})})]})}),"today"===h&&(0,j.jsxs)(j.Fragment,{children:[!!ee&&(0,j.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsxs)("h4",{className:"font-medium text-blue-800",children:["\ud83d\udd0d Debug Info ",ee?"(Admin Mode Active)":"(Development Mode)"]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[!1,(0,j.jsx)("button",{onClick:async()=>{console.log("\ud83d\udd04 Manual Firebase check triggered");try{const e=await fetch("https://hamptown-panel-default-rtdb.firebaseio.com/scheduledPreps.json"),t=await e.json(),n=ve(new Date),r=t?t.filter(e=>e.scheduledDate===n):[];console.log("\ud83d\udd0d Manual Firebase check result:",{firebaseHasData:!!t,firebaseTotalCount:t?t.length:0,firebaseTodayCount:r.length,firebaseTodayCompleted:r.filter(e=>!0===e.completed).length,localTodayCount:o.filter(e=>e.scheduledDate===n).length,firebaseSample:r.slice(0,3)}),alert("Firebase Check:\nTotal: ".concat(t?t.length:0,"\nToday: ").concat(r.length,"\nCompleted: ").concat(r.filter(e=>!0===e.completed).length))}catch(e){console.error("\u274c Manual Firebase check failed:",e),alert("Firebase check failed - see console")}},className:"px-3 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",children:"Check Firebase"}),(0,j.jsx)("button",{onClick:()=>{console.log("\ud83d\udd04 Manual reload triggered"),window.location.reload()},className:"px-3 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600",children:"Force Reload"})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-blue-700",children:"Today's Date"}),(0,j.jsx)("div",{className:"text-blue-600",children:ve(new Date)})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-blue-700",children:"Total Scheduled"}),(0,j.jsx)("div",{className:"text-blue-600",children:o.length})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-blue-700",children:"Today's Preps"}),(0,j.jsx)("div",{className:"text-blue-600",children:o.filter(e=>e.scheduledDate===ve(new Date)).length})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-blue-700",children:"Connection"}),(0,j.jsx)("div",{className:"connected"===r?"text-green-600":"text-red-600",children:r})]})]}),(0,j.jsxs)("div",{className:"mt-3",children:[(0,j.jsx)("div",{className:"font-medium text-blue-700 mb-1",children:"All Scheduled Dates:"}),(0,j.jsx)("div",{className:"text-blue-600 text-xs",children:Array.from(new Set(o.map(e=>e.scheduledDate))).sort().join(", ")||"None"})]}),o.length>0&&(0,j.jsxs)("div",{className:"mt-2",children:[(0,j.jsx)("div",{className:"font-medium text-blue-700 mb-1",children:"Sample Preps:"}),(0,j.jsx)("div",{className:"text-blue-600 text-xs",children:o.slice(0,3).map(e=>"".concat(e.name," (").concat(e.scheduledDate,")").concat(e.completed?" \u2705":" \u23f3")).join(" | ")})]})]}),(0,j.jsx)(ke,{scheduledPreps:o,onToggleCompletion:ne,onShowRecipe:se})]}),"plan"===h&&(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select Date to Plan"}),(0,j.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,j.jsx)("input",{type:"date",value:ve(m),onChange:e=>g(new Date(e.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,j.jsxs)("div",{className:"text-gray-600",children:["Planning for: ",(0,j.jsx)("strong",{children:ye(m)})]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Choose Prep Items"}),(0,j.jsxs)("button",{onClick:()=>A(!T),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat(T?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"),children:[(0,j.jsx)(fe,{className:"w-4 h-4 mr-2"}),"Search"]})]}),T&&(0,j.jsx)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)(fe,{className:"w-5 h-5 text-gray-400"}),(0,j.jsx)("input",{type:"text",placeholder:"Search prep items...",value:O,onChange:e=>I(e.target.value),className:"flex-1 px-3 py-2 border-0 bg-transparent focus:outline-none",autoFocus:!0}),O&&(0,j.jsx)("button",{onClick:()=>I(""),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-4 h-4"})})]})}),(0,j.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:pe.map(e=>(0,j.jsxs)("button",{onClick:()=>E(e.id),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat(C===e.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,j.jsx)("span",{className:"mr-2",children:e.icon}),e.name]},e.id))}),(0,j.jsx)(Me,{currentDate:y,selectedDate:m,prepItems:a,scheduledPreps:o,prepSelections:s,selectedCategory:C,searchQuery:O,onToggleSelection:le,onUpdateSelection:ie,onShowRecipe:se,showPriorityOptions:H,showTimeOptions:q,assignmentStep:Y,onShowPriorityOptions:V,onResetWorkflow:oe}),(0,j.jsx)("div",{className:"space-y-3",children:ce.map(e=>(0,j.jsx)(_e,{prep:e,isSelected:re(e),selection:ae(e),showPriorityOptions:H,showTimeOptions:q,assignmentStep:Y,onToggleSelection:le,onUpdateSelection:ie,onShowPriorityOptions:V,onShowRecipe:se,onSave:(e,t)=>{console.log("Save clicked for prep:",e,t)},context:"main"},e.id))}),(0,j.jsx)("div",{className:"mt-6 pt-6 border-t",children:x?(0,j.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,j.jsx)("h4",{className:"font-medium text-gray-800 mb-4",children:"Add Custom Prep"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prep Name"}),(0,j.jsx)("input",{type:"text",value:N,onChange:e=>_(e.target.value),placeholder:"e.g., Prep special sauce",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,j.jsx)("select",{value:"all"===C?"majoneesit":C,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:pe.slice(1).map(e=>(0,j.jsx)("option",{value:e.id,children:e.name},e.id))})]})]}),(0,j.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,j.jsx)("button",{onClick:()=>{if(!N.trim())return;const e={id:Date.now(),name:N.trim(),category:"all"===C?"majoneesit":C,estimatedTime:"20 min",isCustom:!0,hasRecipe:P,frequency:2,recipe:P?{ingredients:M.ingredients,instructions:M.instructions}:null};l(t=>[...t,e]),_(""),w(!1),D(!1),R({ingredients:"",instructions:""}),E("majoneesit"),le(e)},className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Add Prep"}),(0,j.jsx)("button",{onClick:()=>{w(!1),_(""),D(!1),R({ingredients:"",instructions:""}),E("majoneesit")},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):(0,j.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center px-4 py-2 border border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:text-blue-500 transition-colors",children:[(0,j.jsx)(G,{className:"w-4 h-4 mr-2"}),"Add Custom Prep Item"]})})]})]}),"week"===h&&(0,j.jsx)(Ne,{scheduledPreps:o,currentDate:y,setCurrentDate:b,selectedDate:m,setSelectedDate:g,setActiveView:f,onToggleCompletion:ne,onShowRecipe:se}),(0,j.jsx)(je,{isOpen:L,recipe:U,recipeName:B,onClose:()=>F(!1)})]})},Le=u("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fe=u("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Ue=u("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ze=(e,t)=>{if(!e)return"\u2753";if(t){const n=t.find(t=>t.name===e||t.id===e);if(n)return n.icon}switch(e){case"meat":return"\ud83e\udd69";case"dairy":return"\ud83e\udd5b";case"uncategorized":return"\u2753";default:return"\ud83d\udccb"}},Be=e=>{if("undefined"===typeof window)return;if(!document.getElementById("toastContainer")){const e=document.createElement("div");e.id="toastContainer",e.className="fixed top-4 right-4 z-50 space-y-2",document.body.appendChild(e)}const t=document.getElementById("toastContainer"),n=document.createElement("div");n.className="toast bg-white/90 backdrop-blur-sm text-black p-3 mb-2 rounded-lg shadow-lg border transform transition-all duration-300 translate-x-0 opacity-100",n.textContent=e,t.appendChild(n),requestAnimationFrame(()=>{n.classList.add("animate-slide-in")}),setTimeout(()=>{n.classList.add("opacity-0","translate-x-full"),n.addEventListener("transitionend",()=>{n.parentNode&&n.remove()})},3e3)},We=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});let He=0;const Ve=()=>{He>=1e5&&(He=0);return 1e5*Math.floor(Date.now()/1e3)+ ++He},qe=[{id:"meat",name:"Meat & Fish",icon:"\ud83e\udd69",color:"#EF4444"},{id:"dairy",name:"Dairy",icon:"\ud83e\udd5b",color:"#3B82F6"}],Ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...qe.map(e=>({value:e.id,label:"".concat(e.icon," ").concat(e.name),icon:e.icon,isCustom:!1})),...e.map(e=>({value:e.id,label:"".concat(e.icon," ").concat(e.name),icon:e.icon,isCustom:!0}))]},Ye=function(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(t=>t.id===e);if(t)return t.name;const n=qe.find(t=>t.id===e);return n?n.name:e},Ge="inventory_notifications_enabled",$e=()=>{if("undefined"===typeof window)return{enabled:!1,permission:"denied"};const e=localStorage.getItem(Ge),t="Notification"in window?Notification.permission:"denied",n="true"===e&&"granted"===t;return console.log("\ud83d\udd0d Notification settings:",{stored:e,permission:t,enabled:n,supported:"Notification"in window}),"true"===e&&"granted"!==t?(console.warn("\u26a0\ufe0f Notification settings inconsistent - localStorage says enabled but permission not granted"),localStorage.setItem(Ge,"false"),{enabled:!1,permission:t}):{enabled:n,permission:t}},Xe=()=>{if("undefined"===typeof window)return!1;try{const e=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,t="standalone"in window.navigator&&window.navigator.standalone;return e||t}catch(e){return!1}},Qe=()=>{if("undefined"===typeof window)return!1;try{return/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1}catch(e){return!1}},Je=()=>"undefined"!==typeof window&&"serviceWorker"in navigator,Ze=(e,t)=>0===t?e>0?100:0:e/t*100,et=(e,t)=>{if("undefined"===typeof window)return;const n=$e();if(!n.enabled||"granted"!==n.permission)return;const r=Ze(e.currentStock,e.minLevel),a=Ze(t,e.minLevel);let i=null,o=null,s="/hamptownControlPanel/favicon.ico";if(0===e.currentStock&&t>0)i="Out of Stock Alert!",o="We are out of ".concat(e.name,". Immediate restocking required.");else if(r<=20&&r>0){(a>20||a<=20&&t-e.currentStock>=1)&&(i="Low Stock Alert!",o="Only ".concat(Math.round(r),"% left of ").concat(e.name,". Consider restocking soon."))}if(i&&o){const t={title:i,body:o,icon:s,badge:s,tag:"inventory-".concat(e.id),requireInteraction:!1,silent:!1,data:{itemId:e.id,itemName:e.name,timestamp:Date.now(),type:"inventory"}};(Xe()||Qe())&&Je()?tt(t):nt(t)}},tt=e=>{if(Je())try{navigator.serviceWorker.ready.then(t=>{t.showNotification&&(t.showNotification(e.title,{body:e.body,icon:e.icon,badge:e.badge||e.icon,tag:e.tag,requireInteraction:e.requireInteraction||!1,silent:e.silent||!1,data:e.data,vibrate:Qe()?[200,100,200]:void 0,actions:[{action:"view",title:"View Inventory",icon:e.icon}]}),console.log("\ud83d\udcf1 Service Worker notification sent:",e.title))}).catch(t=>{console.error("\u274c Service Worker notification failed:",t),nt(e)})}catch(t){console.error("\u274c Service Worker notification error:",t),nt(e)}},nt=e=>{if("Notification"in window)try{const t=new Notification(e.title,{body:e.body,icon:e.icon,badge:e.badge,tag:e.tag,requireInteraction:e.requireInteraction,silent:e.silent});setTimeout(()=>{t.close()},1e4),t.onclick=()=>{window.focus(),t.close()},console.log("\ud83d\udcbb Web notification sent:",e.title)}catch(t){console.error("\u274c Web notification failed:",t)}},rt=()=>{if("undefined"===typeof window)return;const e=$e();if(!e.enabled||"granted"!==e.permission)return;const t={title:"Test Notification",body:"Inventory notifications are working correctly! \ud83c\udf89",icon:"/hamptownControlPanel/favicon.ico",tag:"test-notification",requireInteraction:!1,silent:!1,data:{type:"test",timestamp:Date.now()}};(Xe()||Qe())&&Je()?(console.log("\ud83d\udcf1 Sending Service Worker test notification..."),tt(t)):(console.log("\ud83d\udcbb Sending Web API test notification..."),nt(t))},at=(e,t)=>{if(!e||!t)return;const n=new Map(t.map(e=>[e.id.toString(),e]));e.forEach(e=>{const t=n.get(e.id.toString());t&&t.currentStock!==e.currentStock&&et(e,t.currentStock)})};var it=n(402),ot=n(3963);const st=(e,t)=>{if(!e||0===e.length)return[];const n=new Date(t.startDate),r=new Date(t.endDate);return e.filter(e=>{const t=new Date(e.date);return t>=n&&t<=r}).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).map(e=>({date:e.date,totalValue:e.totalValue,totalItems:e.totalItems,dailyItems:e.itemSnapshots.filter(e=>"daily"===e.frequency).reduce((e,t)=>e+t.value,0),weeklyItems:e.itemSnapshots.filter(e=>"weekly"===e.frequency).reduce((e,t)=>e+t.value,0),monthlyItems:e.itemSnapshots.filter(e=>"monthly"===e.frequency).reduce((e,t)=>e+t.value,0)}))},lt=(e,t)=>{if(!e||0===e.length)return[];const n=new Date(t.startDate),r=new Date(t.endDate),a=e.filter(e=>{const t=new Date(e.timestamp);return"manual_add"===e.type&&t>=n&&t<=r}),i={};return a.forEach(e=>{const t=e.item||"";i[t]||(i[t]={quantities:[],dates:[]}),i[t].quantities.push(e.quantity||0),i[t].dates.push(e.timestamp)}),Object.entries(i).map(e=>{let[t,n]=e;return{item:t,frequency:n.quantities.length,lastOrdered:n.dates.sort().pop()||"",avgOrderQuantity:n.quantities.reduce((e,t)=>e+t,0)/n.quantities.length}}).sort((e,t)=>t.frequency-e.frequency)},ct=(e,t,n)=>{if(!e||0===e.length)return[];const r=new Date(t.startDate),a=new Date(t.endDate),i=e.filter(e=>{const t=new Date(e.timestamp);return"waste"===e.type&&t>=r&&t<=a}),o={};return i.forEach(e=>{const t=e.timestamp.split("T")[0];o[t]||(o[t]={items:[],totalWaste:0,totalValue:0}),o[t].items.push(e),o[t].totalWaste+=e.quantity||0;const r=null===n||void 0===n?void 0:n.find(t=>t.name===e.item),a=(null===r||void 0===r?void 0:r.cost)||0;o[t].totalValue+=(e.quantity||0)*a}),Object.entries(o).map(e=>{let[t,n]=e;const r={};return n.items.forEach(e=>{const t=e.category||"uncategorized";r[t]=(r[t]||0)+(e.quantity||0)}),{date:t,totalWaste:n.totalWaste,wasteValue:n.totalValue,wasteByCategory:r}}).sort((e,t)=>e.date.localeCompare(t.date))},ut=(e,t,n)=>{if(!e||0===e.length||!t||0===t.length)return[];const r=new Date(n.startDate),a=new Date(n.endDate),i=t.filter(e=>{const t=new Date(e.timestamp);return"count_update"===e.type&&t>=r&&t<=a}),o={};i.forEach(t=>{const n=t.timestamp.split("T")[0],r=t.item||"";o[n]||(o[n]={}),o[n][r]||(o[n][r]={consumed:0,remaining:0}),o[n][r].consumed+=Math.abs(t.quantity||0);const a=e.find(e=>e.name===r);o[n][r].remaining=(null===a||void 0===a?void 0:a.currentStock)||0});const s=[];return Object.entries(o).forEach(e=>{let[t,n]=e;Object.entries(n).forEach(e=>{let[n,r]=e;s.push({date:t,itemName:n,consumed:r.consumed,remaining:r.remaining})})}),s.sort((e,t)=>e.date.localeCompare(t.date))},dt=(e,t,n)=>{const r=new Date,a=r.toISOString().split("T")[0],i=[...e||[],...t||[],...n||[]],o=i.reduce((e,t)=>e+t.currentStock*(t.cost||0),0),s={critical:i.filter(e=>{const t=e.minLevel||0;return e.currentStock>0&&e.currentStock<=.5*t}).length,low:i.filter(e=>{const t=e.minLevel||0;return e.currentStock>.5*t&&e.currentStock<=t}).length,ok:i.filter(e=>{const t=e.minLevel||0;return e.currentStock>t}).length,out:i.filter(e=>0===e.currentStock).length},l={};return i.forEach(e=>{const t=e.category||"uncategorized";l[t]=(l[t]||0)+e.currentStock}),{id:"snapshot_".concat(a,"_").concat(r.getTime()),date:a,timestamp:r.getTime(),totalItems:i.length,totalValue:o,stockLevels:s,categoryBreakdown:l,itemSnapshots:i.map(e=>{var t;return{itemId:(null===(t=e.id)||void 0===t?void 0:t.toString())||e.name,name:e.name,stock:e.currentStock,value:e.currentStock*(e.cost||0),category:e.category||"uncategorized"}})}},ht=(e,t,n)=>{const r=t.reduce((e,t)=>e+t.currentStock*(t.cost||0),0),a=e.filter(e=>"count_update"===e.type).reduce((e,n)=>{const r=t.find(e=>e.name===n.item),a=(null===r||void 0===r?void 0:r.cost)||0;return e+(n.quantity||0)*a},0);return r>0?a/r:0},ft=(e,t)=>{const n=e.filter(e=>"waste"===e.type).reduce((e,t)=>e+(t.quantity||0),0),r=e.reduce((e,t)=>e+Math.abs(t.quantity||0),0);return r>0?n/r*100:0},pt=(e,t)=>{const n=e.filter(e=>"manual_add"===e.type),r=e.filter(e=>"count_update"===e.type);return n.length>0?Math.max(0,100-r.length/n.length*100):100},mt=(e,t)=>{if(!e||0===e.length)return 0;const n=e.filter(e=>e.stockLevels.out>0).length;return e.length>0?n/e.length*100:0},gt=(0,t.createContext)(void 0),vt=()=>{const e=(0,t.useContext)(gt);if(!e)throw new Error("useInventory must be used within an InventoryProvider");return e},yt=e=>{let{children:r,currentUser:a,employees:o,isAdmin:s,inventoryDailyItems:l,inventoryWeeklyItems:c,inventoryMonthlyItems:u,inventoryDatabaseItems:d,inventoryActivityLog:h,inventoryCustomCategories:f,stockCountSnapshots:p,dailyInventorySnapshots:m,inventoryHistoricalSnapshots:g,setInventoryDailyItems:v,setInventoryWeeklyItems:y,setInventoryMonthlyItems:b,setInventoryDatabaseItems:x,setInventoryActivityLog:w,setInventoryCustomCategories:S,setStockCountSnapshots:k,setDailyInventorySnapshots:N,setInventoryHistoricalSnapshots:_,quickSave:C}=e;const E=l,T=c,A=u,O=d,I=h,P=f,D=p,[M,R]=(0,t.useState)(new Set),[L,F]=(0,t.useState)("daily");(0,t.useEffect)(()=>{try{const e={quickSave:C},t=new ot.dM(e,(0,i.A)((0,i.A)({},ot.WP),{},{enableAutomation:!0,snapshotTime:"23:59",retentionDays:365}));return t.start(),console.log("\u2705 Daily snapshot automation initialized and started"),()=>{t.stop(),console.log("\ud83d\udcf8 Daily snapshot automation stopped on cleanup")}}catch(e){console.error("\u274c Failed to initialize daily snapshot automation:",e)}},[C]);const U=(0,t.useCallback)(e=>{switch(e){case"daily":return E;case"weekly":return T;case"monthly":return A;default:return[]}},[E,T,A]),z=(0,t.useCallback)((e,t)=>{switch(e){case"daily":v(t),C("inventoryDailyItems",t);break;case"weekly":y(t),C("inventoryWeeklyItems",t);break;case"monthly":b(t),C("inventoryMonthlyItems",t)}},[v,y,b,C]),B=(0,t.useCallback)(e=>{const t=[(0,i.A)((0,i.A)({},e),{},{id:Ve(),timestamp:(new Date).toISOString()}),...I];w(t),C("inventoryActivityLog",t)},[I,w,C]),W=(0,t.useCallback)((e,t,r,a,i,o)=>{const s=U(r),l=s.find(t=>t.id.toString()===e.toString());if(!l)return void Be("Item not found!");const c=l.currentStock,{updatedItem:u}=n(1670).c8(l,t,o||0),d=s.map(t=>t.id.toString()===e.toString()?u:t);z(r,d),et(u,c),B({type:"count_update",item:l.name,quantity:t,unit:l.unit,employee:a,notes:i||"Count updated from ".concat(c," to ").concat(t).concat(o?" (".concat(o," delivered)"):"")});const h=Math.max(0,c-t+(o||0)),f=h>0?" (".concat(h," consumed)"):"";Be("Successfully updated ".concat(l.name," count to ").concat(t," ").concat(l.unit,"!").concat(f))},[B,U,z]),H=(0,t.useCallback)((e,t,n,r,a,o)=>{const s=U(r),l=s.find(t=>t.id.toString()===e.toString());if(!l)return void Be("Item not found!");if(t>l.currentStock)return void Be("Waste amount cannot exceed current stock!");const c=l.currentStock,u=l.currentStock-t,d=s.map(t=>t.id.toString()===e.toString()?(0,i.A)((0,i.A)({},t),{},{currentStock:u}):t);z(r,d);const h=(0,i.A)((0,i.A)({},l),{},{currentStock:u});et(h,c),B({type:"waste",item:l.name,quantity:t,unit:l.unit,employee:a,notes:o||"Waste reported: ".concat(n),reason:n}),Be("Successfully reported waste of ".concat(t," ").concat(l.unit," ").concat(l.name,"!"))},[B,U,z]),V=(0,t.useCallback)(e=>{console.log("Importing items:",e.length);const t=new Set(O.map(e=>e.id)),n=new Set,r=e.filter(e=>((t.has(e.id)||n.has(e.id))&&(console.warn("Duplicate ID detected, generating new ID for:",e.name),e.id=Ve()),n.add(e.id),!0));console.log("Filtered unique items:",r.length);const a=[...O,...r];x(a),C("inventoryDatabaseItems",a),Be("Imported ".concat(r.length," items to database")),B({type:"import",item:"Excel Import",quantity:r.length,unit:"items",employee:"System"})},[O,x,C,B]),q=(0,t.useCallback)(e=>{const t=(0,i.A)((0,i.A)({},e),{},{id:Ve(),frequency:"database",isAssigned:!1}),n=[...O,t];x(n),C("inventoryDatabaseItems",n),Be("Item added to database successfully"),B({type:"manual_add",item:e.name,quantity:1,unit:"item",employee:"Current User"})},[O,x,C,B]),K=(0,t.useCallback)(function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=O.filter(t=>e.includes(t.id));if(0===s.length)return void Be("No items found to assign");const l=["daily","weekly","monthly"],c={};l.forEach(e=>{c[e]=U(e)});const u=[];s.forEach(e=>{if(e.isAssigned){if(l.forEach(s=>{c[s].filter(t=>t.databaseId===e.id).length>0&&(c[s]=s===t?c[s].map(t=>t.databaseId===e.id?(0,i.A)((0,i.A)({},t),{},{category:n,minLevel:r,currentStock:a,lastUsed:(new Date).toISOString().split("T")[0],box:o}):t):c[s].filter(t=>t.databaseId!==e.id))}),e.assignedTo!==t){const t={id:Ve(),name:e.name,category:n,currentStock:a,minLevel:r,unit:e.unit||"pieces",lastUsed:(new Date).toISOString().split("T")[0],cost:e.cost||0,ean:e.ean||"",databaseId:e.id,box:o};u.push(t)}}else{const t={id:Ve(),name:e.name,category:n,currentStock:a,minLevel:r,unit:e.unit||"pieces",lastUsed:(new Date).toISOString().split("T")[0],cost:e.cost||0,ean:e.ean||"",databaseId:e.id,box:o};u.push(t)}}),u.length>0&&(c[t]=[...c[t],...u]),l.forEach(e=>{const t=U(e);c[e].length===t.length&&JSON.stringify(c[e])===JSON.stringify(t)||z(e,c[e])});const d=O.map(r=>e.includes(r.id)?(0,i.A)((0,i.A)({},r),{},{isAssigned:!0,assignedTo:t,assignedCategory:n,assignedDate:(new Date).toISOString().split("T")[0],box:o}):r);x(d),C("inventoryDatabaseItems",d),R(new Set),Be("Successfully ".concat(s.some(e=>e.isAssigned)?"updated":"assigned"," ").concat(s.length," items to ").concat(t," - ").concat(n)),B({type:"manual_add",item:"".concat(s.length," items"),quantity:s.length,unit:"items",employee:"Current User",notes:"".concat(s.some(e=>e.isAssigned)?"Updated assignment to":"Assigned to"," ").concat(t," - ").concat(n)})},[O,B,U,z,x,C]),Y=(0,t.useCallback)(e=>{const t=O.find(t=>t.id===e);if(!t)return void Be("Database item not found!");if(!t.isAssigned)return void Be("Item is not currently assigned!");["daily","weekly","monthly"].forEach(t=>{const n=U(t),r=n.filter(t=>t.databaseId!==e);r.length!==n.length&&(z(t,r),console.log("Removed ".concat(n.length-r.length," duplicate(s) from ").concat(t)))});const n=O.map(t=>t.id===e?(0,i.A)((0,i.A)({},t),{},{isAssigned:!1,assignedTo:void 0,assignedCategory:void 0,assignedDate:void 0}):t);x(n),C("inventoryDatabaseItems",n),Be("Successfully unassigned ".concat(t.name," from inventory (removed all duplicates)"))},[O,U,C,x,z]),G=(0,t.useCallback)(e=>{if(0===e.length)return;const t={};["daily","weekly","monthly"].forEach(n=>{const r=U(n).filter(t=>!e.includes(t.databaseId||""));t[n]=r}),t.daily.length!==E.length&&v(t.daily),t.weekly.length!==T.length&&y(t.weekly),t.monthly.length!==A.length&&b(t.monthly);const n=O.filter(t=>!e.includes(t.id));x(n);const r=[];t.daily.length!==E.length&&r.push(C("inventoryDailyItems",t.daily)),t.weekly.length!==T.length&&r.push(C("inventoryWeeklyItems",t.weekly)),t.monthly.length!==A.length&&r.push(C("inventoryMonthlyItems",t.monthly)),r.push(C("inventoryDatabaseItems",n)),Promise.allSettled(r).then(()=>{console.log("\u2705 All delete operations saved successfully")}).catch(e=>{console.warn("\u26a0\ufe0f Some delete operations failed to save:",e)}),R(new Set),Be("Deleted ".concat(e.length," items from database"))},[O,E.length,T.length,A.length,x,v,y,b,C,U]),$=(0,t.useCallback)(e=>{R(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),X=(0,t.useCallback)(e=>{R(t=>{const n=new Set(t);return e.forEach(e=>n.add(e)),n})},[]),Q=(0,t.useCallback)(()=>{R(new Set)},[]),J=(0,t.useCallback)(()=>{let e=0;const t=new Set,n=O.map(n=>{if(t.has(n.id)){console.warn("Duplicate database ID detected:",n.id,"for item:",n.name);const r=Ve();return console.log("Assigned new ID:",r),e++,t.add(r),(0,i.A)((0,i.A)({},n),{},{id:r})}return t.add(n.id),n});e>0&&(x(n),C("inventoryDatabaseItems",n)),["daily","weekly","monthly"].forEach(t=>{const n=U(t),r=new Set,a=n.filter(t=>t.databaseId&&r.has(t.databaseId)?(e++,!1):(t.databaseId&&r.add(t.databaseId),!0));a.length!==n.length&&(z(t,a),console.log("Cleaned ".concat(n.length-a.length," duplicates from ").concat(t)))}),Be(e>0?"Cleaned up ".concat(e," duplicate items from database and inventory"):"No duplicate items found")},[O,x,C,U,z]),Z=(0,t.useCallback)(e=>{F(e),R(new Set)},[]),ee=(0,t.useCallback)(e=>{const t=(0,i.A)((0,i.A)({},e),{},{id:Ve().toString(),createdAt:(new Date).toISOString(),isDefault:!1}),n=[...P,t];S(n),C("inventoryCustomCategories",n),Be('Custom category "'.concat(e.name,'" created successfully')),B({type:"manual_add",item:"Custom Category: ".concat(e.name),quantity:1,unit:"category",employee:"Current User"})},[P,S,C,B]),te=(0,t.useCallback)((e,t)=>{const n=P.map(n=>n.id===e?t:n);S(n),C("inventoryCustomCategories",n),Be('Category "'.concat(t.name,'" updated successfully'))},[P,S,C]),ne=(0,t.useCallback)(e=>{const t=P.find(t=>t.id===e);if(!t)return void Be("Category not found");const n=P.filter(t=>t.id!==e);S(n),C("inventoryCustomCategories",n),Be('Category "'.concat(t.name,'" deleted successfully')),B({type:"manual_add",item:"Deleted Category: ".concat(t.name),quantity:1,unit:"category",employee:"Current User"})},[P,S,C,B]),re=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["daily","weekly","monthly"];try{const n=[];if(t.includes("daily")&&E.length>0){const e=await(0,it.f3)(E,"daily",a.name);e&&n.push(e)}if(t.includes("weekly")&&T.length>0){const e=await(0,it.f3)(T,"weekly",a.name);e&&n.push(e)}if(t.includes("monthly")&&A.length>0){const e=await(0,it.f3)(A,"monthly",a.name);e&&n.push(e)}if(n.length>0){const t=[...D,...n];k(t);const r=e||(new Date).toISOString().split("T")[0];Be("Created ".concat(n.length," stock count snapshot").concat(n.length>1?"s":""," for ").concat(r)),B({type:"manual_add",item:"Stock Count Snapshot: ".concat(n.map(e=>e.frequency).join(", ")),quantity:n.length,unit:"snapshots",employee:a.name})}else Be("No snapshots created - no items found for selected frequencies");return n}catch(n){return console.error("\u274c Error creating stock snapshot:",n),Be("Failed to create stock snapshot"),[]}},[E,T,A,D,k,a.name,B]);(0,t.useEffect)(()=>{console.log("\ud83d\udd04 Initializing daily snapshot automation...");const e=new ot.dM({quickSave:C,loadData:async()=>({inventoryDailyItems:E,inventoryWeeklyItems:T,inventoryMonthlyItems:A,inventoryActivityLog:I,stockCountSnapshots:D,dailyInventorySnapshots:m,employees:o})},{enableAutomation:!0,snapshotTime:"23:59",retentionDays:730,frequencies:["daily","weekly","monthly"]});return e.start(),()=>{e.stop()}},[C,E,T,A,I,D,m,o]);const ae=(0,t.useCallback)((e,t,n)=>{const r=[...U(e)],[a]=r.splice(t,1);r.splice(n,0,a),z(e,r),C("inventory".concat(e.charAt(0).toUpperCase()+e.slice(1),"Items"),r)},[U,z,C]),ie=(0,t.useCallback)(()=>dt(E,T,A),[E,T,A]),oe=(0,t.useCallback)(e=>{const t=[...E,...T,...A];return((e,t,n,r)=>({storageGrowth:st(e,r),orderFrequency:lt(n,r),wasteAnalysis:ct(n,r,t),consumptionTrends:ut(t,n,r),performanceMetrics:{stockTurnoverRate:ht(n,t,r),wastePercentage:ft(n,r),orderAccuracy:pt(n,r),stockoutFrequency:mt(e,r)}}))(g,t,I,e)},[g,E,T,A,I]),se=(0,t.useCallback)((e,t)=>{const n=g.find(t=>t.date===e);if(!n)return null;const r=new Date(e);let a;switch(t){case"day":default:a=new Date(r),a.setDate(r.getDate()-1);break;case"week":a=new Date(r),a.setDate(r.getDate()-7);break;case"month":a=new Date(r),a.setMonth(r.getMonth()-1)}const i=a.toISOString().split("T")[0],o=g.find(e=>e.date===i);return o?((e,t)=>{if(!e||!t)return{valueChange:0,itemCountChange:0,stockLevelChanges:{},percentageChanges:{}};const n=e.totalValue-t.totalValue,r=e.totalItems-t.totalItems,a={critical:e.stockLevels.critical-t.stockLevels.critical,low:e.stockLevels.low-t.stockLevels.low,ok:e.stockLevels.ok-t.stockLevels.ok,out:e.stockLevels.out-t.stockLevels.out};return{valueChange:n,itemCountChange:r,stockLevelChanges:a,percentageChanges:{value:t.totalValue>0?n/t.totalValue*100:0,items:t.totalItems>0?r/t.totalItems*100:0,critical:t.stockLevels.critical>0?a.critical/t.stockLevels.critical*100:0,low:t.stockLevels.low>0?a.low/t.stockLevels.low*100:0,ok:t.stockLevels.ok>0?a.ok/t.stockLevels.ok*100:0,out:t.stockLevels.out>0?a.out/t.stockLevels.out*100:0}}})(n,o):null},[g]);(0,t.useEffect)(()=>{(()=>{const e=(new Date).toISOString().split("T")[0];if(!g.some(t=>t.date===e)&&(E.length>0||T.length>0||A.length>0)){const e=dt(E,T,A),t=[...g,e];_(t),C("inventoryHistoricalSnapshots",t)}})()},[E,T,A,g,_,C]);const le={dailyItems:E,weeklyItems:T,monthlyItems:A,databaseItems:O,activityLog:I,customCategories:P,stockCountSnapshots:D,dailyInventorySnapshots:m,historicalSnapshots:g,employees:o,currentUser:a,selectedItems:M,currentTab:L,isAdmin:s,setDailyItems:v,setWeeklyItems:y,setMonthlyItems:b,setDatabaseItems:x,setActivityLog:w,setCustomCategories:S,setStockCountSnapshots:k,setDailyInventorySnapshots:N,addActivityEntry:B,updateItemStock:W,reportWaste:H,importFromExcel:V,addManualItem:q,assignToCategory:K,unassignFromCategory:Y,cleanupDuplicates:J,deleteItems:G,toggleItemSelection:$,selectMultipleItems:X,clearSelection:Q,switchTab:Z,addCustomCategory:ee,updateCustomCategory:te,deleteCustomCategory:ne,createStockSnapshot:re,createSnapshot:ie,getAnalyticsData:oe,compareWithPreviousPeriod:se,reorderItems:ae,quickSave:C};return(0,j.jsx)(gt.Provider,{value:le,children:r})};var bt=n(1670);const xt=u("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),wt=u("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),St=u("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),kt=e=>{let{onClose:n}=e;const{importFromExcel:r}=vt(),[a,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{if(window.XLSX)d(!0);else{f(!0);try{const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js",e.async=!0,await new Promise((t,n)=>{e.onload=t,e.onerror=n,document.head.appendChild(e)}),d(!0),console.log("SheetJS loaded successfully")}catch(e){console.error("Failed to load SheetJS:",e),Be("Failed to load Excel parser. Please try refreshing the page.")}finally{f(!1)}}})()},[]);const p=()=>{c(!1),s([])};return(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 mx-4 ".concat(l?"max-w-4xl w-full max-h-[90vh] overflow-y-auto":"max-w-md w-full"),children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:l?"Preview Import Data":"Import Items from Excel"}),(0,j.jsx)("button",{onClick:l?p:n,className:"text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),l?(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsx)("div",{className:"flex items-center justify-between",children:(0,j.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,j.jsx)(Ue,{className:"w-5 h-5 mr-2"}),(0,j.jsxs)("span",{className:"font-medium",children:[o.length," items ready to import"]})]})}),(0,j.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:[(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.slice(0,20).map((e,t)=>(0,j.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,j.jsx)("div",{className:"font-medium text-sm text-gray-800 truncate",title:e.name,children:e.name}),(0,j.jsxs)("div",{className:"text-xs text-gray-500 space-y-1 mt-1",children:[e.ean&&(0,j.jsxs)("div",{children:["EAN: ",e.ean]}),e.unit&&(0,j.jsxs)("div",{children:["Unit: ",e.unit]}),e.cost&&e.cost>0&&(0,j.jsxs)("div",{children:["Price: \u20ac",e.cost.toFixed(2)]}),e.costWithTax&&e.costWithTax>0&&(0,j.jsxs)("div",{children:["Price (tax): \u20ac",e.costWithTax.toFixed(2)]})]})]},e.id))}),o.length>20&&(0,j.jsxs)("div",{className:"text-center text-sm text-gray-500 mt-3",children:["... and ",o.length-20," more items"]})]}),(0,j.jsxs)("div",{className:"flex gap-4",children:[(0,j.jsxs)("button",{onClick:()=>{0!==o.length&&(r(o),Be("Successfully imported ".concat(o.length," items!")),n())},className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors",children:["Import ",o.length," Items"]}),(0,j.jsx)("button",{onClick:p,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):(0,j.jsxs)("div",{className:"space-y-4",children:[h&&(0,j.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),(0,j.jsx)("span",{className:"text-blue-700",children:"Loading Excel parser..."})]})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Excel File"}),(0,j.jsx)("input",{type:"file",accept:".xls,.xlsx,.csv",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n)if(u){i(!0);try{console.log("Processing file:",n.name,"Type:",n.type,"Size:",n.size);const e=[".xls",".xlsx",".csv"],t=n.name.toLowerCase().substring(n.name.lastIndexOf("."));if(!e.includes(t))throw new Error("Invalid file type: ".concat(t,". Please use .xls, .xlsx, or .csv files."));if(n.size>10485760)throw new Error("File size too large. Please use files smaller than 10MB.");const r=await n.arrayBuffer();console.log("File loaded, size:",r.byteLength,"bytes");const a=window.XLSX.read(r,{type:"array",cellStyles:!0,cellFormulas:!1,cellDates:!0,cellNF:!1,sheetStubs:!1});if(console.log("Workbook loaded, sheets:",a.SheetNames),0===a.SheetNames.length)throw new Error("No sheets found in the Excel file");const i=a.SheetNames[0],o=a.Sheets[i];console.log("Processing sheet:",i);const l=window.XLSX.utils.sheet_to_json(o,{header:1,defval:null,blankrows:!1,raw:!1});if(console.log("Raw JSON data sample:",l.slice(0,3)),!l||0===l.length)throw new Error("Sheet appears to be empty");const u=(e=>{if(e.length<2)throw new Error("File appears to be empty or invalid");const t=e[0];console.log("Header row:",t);const n=t.findIndex(e=>{if(!e)return!1;const t=e.toString().toLowerCase().trim();return t.includes("tuotenimi")||t.includes("name")||t.includes("nimi")||t.includes("product")||t.includes("catentdesc")}),r=t.findIndex(e=>{if(!e)return!1;const t=e.toString().toLowerCase().trim();return t.includes("ean")||t.includes("barcode")}),a=t.findIndex(e=>{if(!e)return!1;const t=e.toString().toLowerCase().trim();return"pmy"===t||t.includes("unit")||t.includes("yksikk\xf6")||t.includes("baseunit")||"baseunit_size"===t}),i=t.findIndex(e=>{if(!e)return!1;const t=e.toString().toLowerCase().trim();return t.includes("hinta veroton")||t.includes("price")&&!t.includes("tax")||t.includes("veroton")}),o=t.findIndex(e=>{if(!e)return!1;const t=e.toString().toLowerCase().trim();return t.includes("hinta verollinen")||t.includes("pricetax")||t.includes("hinta")&&t.includes("verollinen")});if(console.log("Column mapping:",{nameIdx:n>=0?t[n]:"Not found",eanIdx:r>=0?t[r]:"Not found",unitIdx:a>=0?t[a]:"Not found",priceIdx:i>=0?t[i]:"Not found",priceTaxIdx:o>=0?t[o]:"Not found"}),-1===n)throw new Error('Could not find product name column. Expected columns containing "tuotenimi", "name", "nimi", or "product".');const s=e.slice(1).filter(e=>e&&e[n]&&e[n].toString().trim().length>0);console.log("Found ".concat(s.length," valid data rows out of ").concat(e.length-1," total rows"));const l=s.map((e,t)=>{var s,l,c;return{id:Ve(),name:(null===(s=e[n])||void 0===s?void 0:s.toString().trim())||"",ean:-1!==r&&(null===(l=e[r])||void 0===l?void 0:l.toString().trim())||"",unit:-1!==a&&(null===(c=e[a])||void 0===c?void 0:c.toString().trim())||"",cost:-1!==i&&parseFloat(e[i])||0,costWithTax:-1!==o&&parseFloat(e[o])||0,type:"",frequency:"database"}}).filter(e=>e.name.length>0);return console.log("Successfully parsed ".concat(l.length," items")),l})(l);if(0===u.length)throw new Error("No valid items found in the file. Please check that your file has a header row and product names.");s(u),c(!0),Be("Found ".concat(u.length," items. Review before importing."))}catch(r){console.error("Excel parsing error:",r);const e=r instanceof Error?r.message:"Unknown error occurred";Be("Error reading file: "+e)}finally{i(!1),e.target.value=""}}else Be("Excel parser is still loading. Please wait a moment and try again.")},disabled:a||!u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Supports .xls, .xlsx, and .csv files (max 10MB)"})]}),(0,j.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,j.jsxs)("h4",{className:"font-medium text-blue-800 mb-2 flex items-center",children:[(0,j.jsx)(St,{className:"w-4 h-4 mr-1"}),"Expected Excel Format:"]}),(0,j.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,j.jsxs)("li",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Product Name:"})," tuotenimi, name, nimi, product"]}),(0,j.jsxs)("li",{children:["\u2022 ",(0,j.jsx)("strong",{children:"EAN Code:"})," ean, barcode"]}),(0,j.jsxs)("li",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Unit:"})," PMY, unit, yksikk\xf6, baseunit_size"]}),(0,j.jsxs)("li",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Price (excl. tax):"})," hinta veroton, price"]}),(0,j.jsxs)("li",{children:["\u2022 ",(0,j.jsx)("strong",{children:"Price (incl. tax):"})," hinta verollinen, pricetax"]})]}),(0,j.jsxs)("button",{onClick:()=>{const e=[["tuotenimi","ean","PMY","hinta veroton","hinta verollinen"],["Sample Product 1","1234567890123","kg","10.50","12.60"],["Sample Product 2","2345678901234","pcs","5.25","6.30"],["Sample Product 3","3456789012345","liters","8.75","10.50"]].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="sample_inventory.csv",r.click(),window.URL.revokeObjectURL(n)},className:"mt-2 text-xs text-blue-600 hover:text-blue-800 flex items-center",children:[(0,j.jsx)(de,{className:"w-3 h-3 mr-1"}),"Download sample file"]})]}),a&&(0,j.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,j.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,j.jsx)("span",{className:"ml-2 text-gray-600",children:"Processing file..."})]})]}),!l&&(0,j.jsx)("div",{className:"flex gap-4 mt-6",children:(0,j.jsx)("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})})]})})},Nt=e=>{let{onClose:n}=e;const{addManualItem:r,customCategories:a}=vt(),[o,s]=(0,t.useState)({name:"",ean:"",unit:"",cost:"",costWithTax:"",type:""}),l=Ke(a);return(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Add Manual Item"}),(0,j.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),(0,j.jsx)("input",{type:"text",placeholder:"Enter product name",value:o.name,onChange:e=>s(t=>(0,i.A)((0,i.A)({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"EAN Code (Optional)"}),(0,j.jsx)("input",{type:"text",placeholder:"Enter EAN code",value:o.ean,onChange:e=>s(t=>(0,i.A)((0,i.A)({},t),{},{ean:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),(0,j.jsx)("input",{type:"text",placeholder:"e.g., kg, pieces, bottles",value:o.unit,onChange:e=>s(t=>(0,i.A)((0,i.A)({},t),{},{unit:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (excl. tax)"}),(0,j.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",value:o.cost,onChange:e=>s(t=>(0,i.A)((0,i.A)({},t),{},{cost:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (incl. tax)"}),(0,j.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",value:o.costWithTax,onChange:e=>s(t=>(0,i.A)((0,i.A)({},t),{},{costWithTax:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,j.jsxs)("select",{value:o.type,onChange:e=>s(t=>(0,i.A)((0,i.A)({},t),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"",children:"Select type..."}),l.map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,j.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,j.jsx)("button",{onClick:()=>{if(!o.name.trim())return void Be("Please enter a product name");const e={name:o.name.trim(),ean:o.ean.trim(),unit:o.unit.trim(),cost:parseFloat(o.cost)||0,costWithTax:parseFloat(o.costWithTax)||0,type:o.type};r(e),n()},className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Add to Database"}),(0,j.jsx)("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})},_t=e=>{let{onClose:n,preSelectedFrequency:r}=e;const{databaseItems:a,selectedItems:i,customCategories:o,assignToCategory:s}=vt(),[l,c]=(0,t.useState)(r||"daily"),[u,d]=(0,t.useState)("produce"),[h,f]=(0,t.useState)(5),[p,m]=(0,t.useState)(0),g=a.filter(e=>i.has(e.id)),v=Ke(o);return(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Assign Category and Settings"}),(0,j.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),(0,j.jsxs)("div",{className:"space-y-4",children:[!r&&(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),(0,j.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"daily",children:"\ud83d\udd25 Daily Items"}),(0,j.jsx)("option",{value:"weekly",children:"\ud83d\udcc5 Weekly Items"}),(0,j.jsx)("option",{value:"monthly",children:"\ud83d\udce6 Monthly Items"})]})]}),r&&(0,j.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"Selected Frequency:"}),(0,j.jsxs)("div",{className:"text-lg font-semibold text-blue-700",children:["daily"===r&&"\ud83d\udd25 Daily Items","weekly"===r&&"\ud83d\udcc5 Weekly Items","monthly"===r&&"\ud83d\udce6 Monthly Items"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,j.jsx)("select",{value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:v.map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Stock Level"}),(0,j.jsx)("input",{type:"number",min:"0",value:h,onChange:e=>f(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial Stock"}),(0,j.jsx)("input",{type:"number",min:"0",value:p,onChange:e=>m(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),(0,j.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,j.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Items to assign:"}),(0,j.jsx)("div",{className:"text-sm text-blue-700 max-h-32 overflow-y-auto",children:g.map(e=>(0,j.jsxs)("div",{className:"py-1",children:["\u2022 ",e.name]},e.id))})]})]}),(0,j.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,j.jsx)("button",{onClick:()=>{s(Array.from(i),l,u,h,p),n()},className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Assign Category"}),(0,j.jsx)("button",{onClick:n,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})},jt=e=>{let{onClose:n}=e;const{customCategories:r,addCustomCategory:a,updateCustomCategory:o,deleteCustomCategory:s}=vt(),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)({name:"",icon:"\ud83d\udce6",color:"#3B82F6"}),p=()=>{f({name:"",icon:"\ud83d\udce6",color:"#3B82F6"}),d(null),c(!1)};return(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,j.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[(0,j.jsx)(wt,{className:"w-6 h-6 mr-2 text-blue-600"}),"Category Editor"]}),(0,j.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-6 h-6"})})]}),(0,j.jsxs)("div",{className:"mb-6",children:[(0,j.jsx)("h4",{className:"text-lg font-medium text-gray-700 mb-3",children:"Default Categories"}),(0,j.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:qe.map(e=>(0,j.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-2xl mr-3",children:e.icon}),(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,j.jsx)("div",{className:"text-xs text-gray-500",children:"Built-in"})]})]})},e.id))})]}),(0,j.jsxs)("div",{className:"mb-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,j.jsx)("h4",{className:"text-lg font-medium text-gray-700",children:"Custom Categories"}),(0,j.jsxs)("button",{onClick:()=>c(!0),className:"bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center text-sm",children:[(0,j.jsx)(G,{className:"w-4 h-4 mr-1"}),"Add Category"]})]}),0===r.length?(0,j.jsxs)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:[(0,j.jsx)(wt,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,j.jsx)("p",{className:"font-medium",children:"No custom categories yet"}),(0,j.jsx)("p",{className:"text-sm",children:"Create your first custom category to get started"})]}):(0,j.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:r.map(e=>(0,j.jsxs)("div",{className:"bg-white p-3 rounded-lg border-2 border-gray-200 relative group",children:[(0,j.jsxs)("div",{className:"flex items-center mb-2",children:[(0,j.jsx)("span",{className:"text-2xl mr-3",children:e.icon}),(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,j.jsx)("div",{className:"text-xs text-gray-500",children:"Custom"})]})]}),(0,j.jsx)("div",{className:"w-full h-2 rounded-full mb-2",style:{backgroundColor:e.color}}),(0,j.jsxs)("div",{className:"flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,j.jsx)("button",{onClick:()=>(e=>{d(e),f({name:e.name,icon:e.icon,color:e.color}),c(!0)})(e),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit category",children:(0,j.jsx)(Z,{className:"w-4 h-4"})}),(0,j.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this category? This action cannot be undone.")&&s(t));var t},className:"text-red-600 hover:text-red-800 p-1",title:"Delete category",children:(0,j.jsx)(X,{className:"w-4 h-4"})})]})]},e.id))})]}),l&&(0,j.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,j.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:u?"Edit Category":"Add New Category"}),(0,j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.name.trim()&&(u?o(u.id,(0,i.A)((0,i.A)({},u),{},{name:h.name.trim(),icon:h.icon,color:h.color})):a({name:h.name.trim(),icon:h.icon,color:h.color}),p())},className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),(0,j.jsx)("input",{type:"text",value:h.name,onChange:e=>f((0,i.A)((0,i.A)({},h),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter category name...",required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),(0,j.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,j.jsx)("input",{type:"text",value:h.icon,onChange:e=>f((0,i.A)((0,i.A)({},h),{},{icon:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 w-20 text-center text-lg"}),(0,j.jsx)("span",{className:"text-sm text-gray-500",children:"Or choose from common icons:"})]}),(0,j.jsx)("div",{className:"grid grid-cols-7 gap-2",children:["\ud83d\udce6","\ud83e\udd6c","\ud83e\udd69","\ud83e\udd5b","\ud83c\udf5e","\ud83e\udd64","\ud83e\uddfd","\ud83c\udf7d\ufe0f","\ud83d\udd27","\ud83c\udfa8","\ud83c\udff7\ufe0f","\u2b50","\ud83c\udfaf","\ud83d\udca1"].map(e=>(0,j.jsx)("button",{type:"button",onClick:()=>f((0,i.A)((0,i.A)({},h),{},{icon:e})),className:"p-2 text-xl border rounded-lg hover:bg-gray-100 ".concat(h.icon===e?"border-blue-500 bg-blue-50":"border-gray-300"),children:e},e))})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,j.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,j.jsx)("input",{type:"color",value:h.color,onChange:e=>f((0,i.A)((0,i.A)({},h),{},{color:e.target.value})),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),(0,j.jsx)("input",{type:"text",value:h.color,onChange:e=>f((0,i.A)((0,i.A)({},h),{},{color:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 flex-1",placeholder:"#3B82F6"})]}),(0,j.jsx)("div",{className:"grid grid-cols-5 gap-2",children:["#3B82F6","#10B981","#EF4444","#F59E0B","#8B5CF6","#F97316","#6B7280","#EC4899","#14B8A6","#84CC16"].map(e=>(0,j.jsx)("button",{type:"button",onClick:()=>f((0,i.A)((0,i.A)({},h),{},{color:e})),className:"w-full h-8 rounded-lg border-2 ".concat(h.color===e?"border-gray-800":"border-gray-300"),style:{backgroundColor:e}},e))})]}),(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)("button",{type:"submit",className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:u?"Update Category":"Add Category"}),(0,j.jsx)("button",{type:"button",onClick:p,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]}),(0,j.jsx)("div",{className:"flex justify-end",children:(0,j.jsx)("button",{onClick:n,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})})]})})},Ct=e=>{let{onAssignCategory:t,onDelete:n}=e;const{selectedItems:r,clearSelection:a}=vt();return 0===r.size?null:(0,j.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-1/2 md:right-auto md:transform md:-translate-x-1/2",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border p-4 w-full md:min-w-96 md:w-auto",children:[(0,j.jsxs)("div",{className:"block md:hidden space-y-3",children:[(0,j.jsx)("div",{className:"text-center",children:(0,j.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[r.size," items selected"]})}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,j.jsx)("button",{onClick:()=>t("daily"),className:"bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600 transition-colors flex items-center justify-center",children:"\ud83d\udd25 Daily"}),(0,j.jsx)("button",{onClick:()=>t("weekly"),className:"bg-yellow-500 text-white px-2 py-1 rounded text-xs hover:bg-yellow-600 transition-colors flex items-center justify-center",children:"\ud83d\udcc5 Weekly"}),(0,j.jsx)("button",{onClick:()=>t("monthly"),className:"bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-600 transition-colors flex items-center justify-center",children:"\ud83d\udce6 Monthly"})]}),(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsx)("button",{onClick:a,className:"flex-1 bg-gray-500 text-white px-3 py-2 rounded text-sm hover:bg-gray-600 transition-colors",children:"Clear"}),(0,j.jsx)("button",{onClick:n,className:"flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]}),(0,j.jsxs)("div",{className:"hidden md:flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,j.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[r.size," items selected"]}),(0,j.jsx)("div",{className:"h-4 w-px bg-gray-300"}),(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsx)("button",{onClick:()=>t("daily"),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600 transition-colors",children:"\ud83d\udd25 Daily"}),(0,j.jsx)("button",{onClick:()=>t("weekly"),className:"bg-yellow-500 text-white px-3 py-1 rounded text-sm hover:bg-yellow-600 transition-colors",children:"\ud83d\udcc5 Weekly"}),(0,j.jsx)("button",{onClick:()=>t("monthly"),className:"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600 transition-colors",children:"\ud83d\udce6 Monthly"})]})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("button",{onClick:a,className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600 transition-colors",children:"Clear"}),(0,j.jsx)("button",{onClick:n,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]})]})})},Et=e=>{let{item:n,onClose:r,onSave:a,onUnassign:i}=e;const{customCategories:o}=vt(),[s,l]=(0,t.useState)(n.assignedTo||"daily"),[c,u]=(0,t.useState)(n.assignedCategory||"produce"),[d,h]=(0,t.useState)(5),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(n.box||!1),v=Ke(o);return(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Edit Item Assignment"}),(0,j.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),(0,j.jsx)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-2xl mr-3",children:ze(n.isAssigned&&n.assignedCategory?n.assignedCategory:n.type||"supplies")}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{className:"font-medium text-gray-800",children:n.name}),(0,j.jsxs)("p",{className:"text-sm text-gray-600",children:[n.ean||"No EAN"," \u2022 ",n.unit||"pieces"]}),n.isAssigned&&(0,j.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Currently assigned to ",n.assignedTo," - ",n.assignedCategory]})]})]})}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),(0,j.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"daily",children:"\ud83d\udd25 Daily Items"}),(0,j.jsx)("option",{value:"weekly",children:"\ud83d\udcc5 Weekly Items"}),(0,j.jsx)("option",{value:"monthly",children:"\ud83d\udce6 Monthly Items"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,j.jsx)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:v.map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,j.jsx)("input",{type:"checkbox",checked:m,onChange:e=>g(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Box (allows fractional quantities like 0.5, 1.5, 2.5)"})]}),(0,j.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"When enabled, this item can be counted in fractional quantities (e.g., 0.5 box, 1.5 boxes)"})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Min Level ",m?"(boxes)":""]}),(0,j.jsx)("input",{type:"number",min:"0",step:m?"0.1":"1",value:d,onChange:e=>h(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:m?"e.g., 2.5":"e.g., 5"})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Initial Stock ",m?"(boxes)":""]}),(0,j.jsx)("input",{type:"number",min:"0",step:m?"0.1":"1",value:f,onChange:e=>p(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:m?"e.g., 10.5":"e.g., 20"})]})]})]}),(0,j.jsxs)("div",{className:"flex gap-3 mt-6",children:[n.isAssigned&&(0,j.jsx)("button",{onClick:()=>{i(),r()},className:"flex-1 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Unassign"}),(0,j.jsx)("button",{onClick:()=>{a(s,c,d,f,m),r()},className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:n.isAssigned?"Update Assignment":"Assign to Inventory"}),(0,j.jsx)("button",{onClick:r,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})},Tt=()=>{const{databaseItems:e,selectedItems:n,toggleItemSelection:r,selectMultipleItems:a,clearSelection:i,deleteItems:o,assignToCategory:s,unassignFromCategory:l,cleanupDuplicates:c,customCategories:u}=vt(),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)(void 0),[w,S]=(0,t.useState)(!1),[k,N]=(0,t.useState)(null),[_,C]=(0,t.useState)("all"),[E,T]=(0,t.useState)(""),[A,O]=(0,t.useState)(!1),I=Ke(u),P=e.filter(e=>{const t="all"===_||"assigned"===_&&e.isAssigned||"unassigned"===_&&!e.isAssigned||"uncategorized"===_&&(!e.type||""===e.type)||e.type===_,n=!E||e.name.toLowerCase().includes(E.toLowerCase())||e.ean&&e.ean.toLowerCase().includes(E.toLowerCase());return t&&n});(0,t.useEffect)(()=>{i(),O(!1)},[_,E,i]),(0,t.useEffect)(()=>{if(0===P.length)return void O(!1);const e=P.every(e=>n.has(e.id)),t=P.some(e=>n.has(e.id));O(e&&t)},[n,P]);const D=e.filter(e=>e.isAssigned).length,M=e.filter(e=>!e.isAssigned).length;return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,j.jsx)("span",{className:"mr-2",children:"\ud83d\udcbe"}),"Items Database Management"]}),(0,j.jsx)("p",{className:"text-gray-600 mb-4",children:"Import items from Excel and assign them to inventory categories"}),(0,j.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,j.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:e.length}),(0,j.jsx)("div",{className:"text-sm text-blue-600",children:"Total Items"})]}),(0,j.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-green-700",children:D}),(0,j.jsx)("div",{className:"text-sm text-green-600",children:"Assigned"})]}),(0,j.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg text-center",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-orange-700",children:M}),(0,j.jsx)("div",{className:"text-sm text-orange-600",children:"Unassigned"})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,j.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-500 text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(xt,{className:"w-5 h-5 mr-2"}),"Import from Excel"]}),(0,j.jsxs)("button",{onClick:()=>p(!0),className:"bg-green-500 text-white px-4 py-3 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(G,{className:"w-5 h-5 mr-2"}),"Add Manual Item"]}),(0,j.jsxs)("button",{onClick:()=>y(!0),className:"bg-indigo-500 text-white px-4 py-3 rounded-lg hover:bg-indigo-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(wt,{className:"w-5 h-5 mr-2"}),"Manage Categories"]}),(0,j.jsxs)("button",{onClick:()=>{if(0===e.length)return void alert("No items in database to export");const t=[["Name","EAN","Unit","Price (excl. tax)","Price (incl. tax)","Type","Assigned To","Category"].join(","),...e.map(e=>['"'.concat(e.name||"",'"'),e.ean||"",e.unit||"",e.cost||0,e.costWithTax||0,e.type||"",e.assignedTo||"",e.assignedCategory||""].join(","))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="database_items_".concat((new Date).toISOString().split("T")[0],".csv"),a.click(),window.URL.revokeObjectURL(r)},className:"bg-purple-500 text-white px-4 py-3 rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(de,{className:"w-5 h-5 mr-2"}),"Export Database"]}),(0,j.jsxs)("button",{onClick:c,className:"bg-orange-500 text-white px-4 py-3 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(X,{className:"w-5 h-5 mr-2"}),"Clean Duplicates"]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,j.jsxs)("div",{className:"p-6 border-b",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Database Items"}),(0,j.jsx)("div",{className:"text-sm text-gray-500",children:"Click on items to edit individually, or use checkboxes for bulk actions"})]}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("input",{type:"checkbox",checked:A,onChange:()=>{if(A)i(),O(!1);else{const e=P.map(e=>e.id);i(),a(e),O(!0)}},className:"rounded"}),(0,j.jsx)("label",{className:"text-sm text-gray-600",children:(()=>{const t="all"!==_,n=e.length,r=P.length;return t?"Select All Visible (".concat(r," of ").concat(n,")"):"Select All (".concat(n,")")})()})]}),(0,j.jsxs)("select",{value:_,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[(0,j.jsx)("option",{value:"all",children:"All Items"}),(0,j.jsx)("option",{value:"assigned",children:"\u2705 Assigned Items"}),(0,j.jsx)("option",{value:"unassigned",children:"\u23f3 Unassigned Items"}),I.map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value)),(0,j.jsx)("option",{value:"uncategorized",children:"\u2753 Uncategorized"})]}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(fe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,j.jsx)("input",{type:"text",placeholder:"Search database...",value:E,onChange:e=>T(e.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg text-sm w-full sm:w-48 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,j.jsx)("div",{className:"p-6",children:0===P.length?(0,j.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,j.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc2"}),(0,j.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No items found"}),(0,j.jsx)("p",{className:"text-sm",children:E||"all"!==_?"Try adjusting your search or filter":"Import items from Excel or add them manually to get started"})]}):(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(e=>(0,j.jsxs)("div",{onClick:t=>((e,t)=>{const n=t.target;"INPUT"===n.tagName&&"checkbox"===n.type||N(e)})(e,t),className:"cursor-pointer bg-white border rounded-xl p-4 transition-all hover:shadow-md ".concat(n.has(e.id)?"border-blue-500 bg-blue-50":e.isAssigned?"border-green-300 bg-green-50":"border-gray-200 hover:border-gray-300"),children:[(0,j.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("input",{type:"checkbox",checked:n.has(e.id),onChange:()=>r(e.id),className:"mr-3 rounded",onClick:e=>e.stopPropagation()}),(0,j.jsx)("span",{className:"text-2xl mr-3",children:ze(e.isAssigned&&e.assignedCategory?e.assignedCategory:e.type||"supplies")}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{className:"font-semibold text-gray-800",children:e.name}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:e.ean||"No EAN"})]})]}),(0,j.jsx)("div",{className:"flex items-center space-x-1",children:e.isAssigned?(0,j.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-medium",children:["\u2705 ",e.assignedTo]}):(0,j.jsx)("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-medium",children:"\u23f3 Unassigned"})})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"font-medium",children:"Unit:"})," ",e.unit||"pieces"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"font-medium",children:"Cost:"})," \u20ac",(e.cost||0).toFixed(2)]})]}),e.isAssigned&&(0,j.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,j.jsxs)("div",{children:["Category: ",(0,j.jsx)("span",{className:"font-medium capitalize",children:e.assignedCategory})]}),(0,j.jsxs)("div",{children:["Assigned: ",e.assignedDate]})]}),(0,j.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:["Click to ",e.isAssigned?"edit assignment":"assign to inventory"]}),(0,j.jsx)(Z,{className:"w-4 h-4 text-gray-400"})]})]},e.id))})})]}),(0,j.jsx)(Ct,{onAssignCategory:e=>{x(e),g(!0)},onDelete:()=>{0!==n.size&&S(!0)}}),w&&(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,j.jsxs)("div",{className:"flex items-center mb-4",children:[(0,j.jsx)("div",{className:"p-3 bg-red-100 rounded-lg mr-4",children:(0,j.jsx)(Le,{className:"w-6 h-6 text-red-600"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Confirm Deletion"}),(0,j.jsx)("p",{className:"text-gray-600",children:"This action cannot be undone."})]})]}),(0,j.jsxs)("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",(0,j.jsx)("span",{className:"font-semibold",children:n.size})," selected items? This will permanently remove them from the database and any assigned inventory lists."]}),(0,j.jsxs)("div",{className:"flex gap-3",children:[(0,j.jsx)("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,j.jsx)("button",{onClick:()=>{o(Array.from(n)),S(!1),O(!1)},className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Delete Items"})]})]})}),d&&(0,j.jsx)(kt,{onClose:()=>h(!1)}),f&&(0,j.jsx)(Nt,{onClose:()=>p(!1)}),m&&(0,j.jsx)(_t,{onClose:()=>{g(!1),x(void 0)},preSelectedFrequency:b}),v&&(0,j.jsx)(jt,{onClose:()=>y(!1)}),k&&(0,j.jsx)(Et,{item:k,onClose:()=>N(null),onSave:(e,t,n,r,a)=>{k&&s([k.id],e,t,n,r,a)},onUnassign:()=>{k&&l(k.id)}})]})};var At=n(7119);const Ot="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function It(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Pt(e){return"nodeType"in e}function Dt(e){var t,n;return e?It(e)?e:Pt(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Mt(e){const{Document:t}=Dt(e);return e instanceof t}function Rt(e){return!It(e)&&e instanceof Dt(e).HTMLElement}function Lt(e){return e instanceof Dt(e).SVGElement}function Ft(e){return e?It(e)?e.document:Pt(e)?Mt(e)?e:Rt(e)||Lt(e)?e.ownerDocument:document:document:document}const Ut=Ot?t.useLayoutEffect:t.useEffect;function zt(e){const n=(0,t.useRef)(e);return Ut(()=>{n.current=e}),(0,t.useCallback)(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}function Bt(e,n){void 0===n&&(n=[e]);const r=(0,t.useRef)(e);return Ut(()=>{r.current!==e&&(r.current=e)},n),r}function Wt(e,n){const r=(0,t.useRef)();return(0,t.useMemo)(()=>{const t=e(r.current);return r.current=t,t},[...n])}function Ht(e){const n=zt(e),r=(0,t.useRef)(null),a=(0,t.useCallback)(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,a]}function Vt(e){const n=(0,t.useRef)();return(0,t.useEffect)(()=>{n.current=e},[e]),n.current}let qt={};function Kt(e,n){return(0,t.useMemo)(()=>{if(n)return n;const t=null==qt[e]?0:qt[e]+1;return qt[e]=t,e+"-"+t},[e,n])}function Yt(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[a,i]of r){const n=t[a];null!=n&&(t[a]=n+e*i)}return t},(0,i.A)({},t))}}const Gt=Yt(1),$t=Yt(-1);function Xt(e){if(!e)return!1;const{KeyboardEvent:t}=Dt(e.target);return t&&e instanceof t}function Qt(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Dt(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Jt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Jt.Translate.toString(e),Jt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Zt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function en(e){return e.matches(Zt)?e:e.querySelector(Zt)}const tn={display:"none"};function nn(e){let{id:n,value:r}=e;return t.createElement("div",{id:n,style:tn},r)}function rn(e){let{id:n,announcement:r,ariaLiveType:a="assertive"}=e;return t.createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},r)}const an=["transform"],on=["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"],sn=(0,t.createContext)(null);const ln={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},cn={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function un(e){let{announcements:n=cn,container:r,hiddenTextDescribedById:a,screenReaderInstructions:i=ln}=e;const{announce:o,announcement:s}=function(){const[e,n]=(0,t.useState)(""),r=(0,t.useCallback)(e=>{null!=e&&n(e)},[]);return{announce:r,announcement:e}}(),l=Kt("DndLiveRegion"),[c,u]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{u(!0)},[]),function(e){const n=(0,t.useContext)(sn);(0,t.useEffect)(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}((0,t.useMemo)(()=>({onDragStart(e){let{active:t}=e;o(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&o(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;o(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;o(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;o(n.onDragCancel({active:t,over:r}))}}),[o,n])),!c)return null;const d=t.createElement(t.Fragment,null,t.createElement(nn,{id:a,value:i.draggable}),t.createElement(rn,{id:l,announcement:s}));return r?(0,At.createPortal)(d,r):d}var dn;function hn(){}function fn(e,n){return(0,t.useMemo)(()=>({sensor:e,options:null!=n?n:{}}),[e,n])}function pn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)(()=>[...n].filter(e=>null!=e),[...n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(dn||(dn={}));const mn=Object.freeze({x:0,y:0});function gn(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function yn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function bn(e){let{left:t,top:n,height:r,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+r},{x:t+a,y:n+r}]}function xn(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function wn(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Sn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=wn(t,t.left,t.top),i=[];for(const o of r){const{id:e}=o,t=n.get(e);if(t){const n=gn(wn(t),a);i.push({id:e,data:{droppableContainer:o,value:n}})}}return i.sort(vn)};function kn(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,s=i-n;if(r<a&&n<i){const n=t.width*t.height,r=e.width*e.height,a=o*s;return Number((a/(n+r-a)).toFixed(4))}return 0}const Nn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:e}=i,r=n.get(e);if(r){const n=kn(r,t);n>0&&a.push({id:e,data:{droppableContainer:i,value:n}})}}return a.sort(yn)};function _n(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:mn}function jn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>(0,i.A)((0,i.A)({},t),{},{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),(0,i.A)({},t))}}const Cn=jn(1);function En(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const Tn={ignoreTransform:!1};function An(e,t){void 0===t&&(t=Tn);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Dt(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=En(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:s}=r,l=e.left-o-(1-a)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:a,width:i,height:o,bottom:s,right:l}=n;return{top:r,left:a,width:i,height:o,bottom:s,right:l}}function On(e){return An(e,{ignoreTransform:!0})}function In(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(Mt(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Rt(a)||Lt(a))return n;if(n.includes(a))return n;const i=Dt(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=Dt(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"===typeof r&&n.test(r)})}(a,i)&&n.push(a),function(e,t){return void 0===t&&(t=Dt(e).getComputedStyle(e)),"fixed"===t.position}(a,i)?n:r(a.parentNode)}(e):n}function Pn(e){const[t]=In(e,1);return null!=t?t:null}function Dn(e){return Ot&&e?It(e)?e:Pt(e)?Mt(e)||e===Ft(e).scrollingElement?window:Rt(e)?e:null:null:null}function Mn(e){return It(e)?e.scrollX:e.scrollLeft}function Rn(e){return It(e)?e.scrollY:e.scrollTop}function Ln(e){return{x:Mn(e),y:Rn(e)}}var Fn;function Un(e){return!(!Ot||!e)&&e===document.scrollingElement}function zn(e){const t={x:0,y:0},n=Un(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Fn||(Fn={}));const Bn={x:.2,y:.2};function Wn(e,t,n,r,a){let{top:i,left:o,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===a&&(a=Bn);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=zn(e),f={x:0,y:0},p={x:0,y:0},m=t.height*a.y,g=t.width*a.x;return!c&&i<=t.top+m?(f.y=Fn.Backward,p.y=r*Math.abs((t.top+m-i)/m)):!u&&l>=t.bottom-m&&(f.y=Fn.Forward,p.y=r*Math.abs((t.bottom-m-l)/m)),!h&&s>=t.right-g?(f.x=Fn.Forward,p.x=r*Math.abs((t.right-g-s)/g)):!d&&o<=t.left+g&&(f.x=Fn.Backward,p.x=r*Math.abs((t.left+g-o)/g)),{direction:f,speed:p}}function Hn(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Vn(e){return e.reduce((e,t)=>Gt(e,Ln(t)),mn)}function qn(e,t){if(void 0===t&&(t=An),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);Pn(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Kn=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Mn(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Rn(t),0)}]];class Yn{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=In(t),r=Vn(n);this.rect=(0,i.A)({},e),this.width=e.width,this.height=e.height;for(const[a,i,o]of Kn)for(const e of i)Object.defineProperty(this,e,{get:()=>{const t=o(n),i=r[a]-t;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gn{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function $n(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Xn,Qn;function Jn(e){e.preventDefault()}function Zn(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Xn||(Xn={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(Qn||(Qn={}));const er={start:[Qn.Space,Qn.Enter],cancel:[Qn.Esc],end:[Qn.Space,Qn.Enter,Qn.Tab]},tr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Qn.Right:return(0,i.A)((0,i.A)({},n),{},{x:n.x+25});case Qn.Left:return(0,i.A)((0,i.A)({},n),{},{x:n.x-25});case Qn.Down:return(0,i.A)((0,i.A)({},n),{},{y:n.y+25});case Qn.Up:return(0,i.A)((0,i.A)({},n),{},{y:n.y-25})}};class nr{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Gn(Ft(t)),this.windowListeners=new Gn(Dt(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Xn.Resize,this.handleCancel),this.windowListeners.add(Xn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Xn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&qn(n),t(mn)}handleKeyDown(e){if(Xt(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=er,coordinateGetter:i=tr,scrollBehavior:o="smooth"}=r,{code:s}=e;if(a.end.includes(s))return void this.handleEnd(e);if(a.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:mn;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=$t(u,c),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:d,minScroll:h}=zn(n),f=Hn(n),p={x:Math.min(a===Qn.Right?f.right-f.width/2:f.right,Math.max(a===Qn.Right?f.left:f.left+f.width/2,u.x)),y:Math.min(a===Qn.Down?f.bottom-f.height/2:f.bottom,Math.max(a===Qn.Down?f.top:f.top+f.height/2,u.y))},m=a===Qn.Right&&!s||a===Qn.Left&&!l,g=a===Qn.Down&&!c||a===Qn.Up&&!i;if(m&&p.x!==u.x){const e=n.scrollLeft+t.x,i=a===Qn.Right&&e<=d.x||a===Qn.Left&&e>=h.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:o});r.x=i?n.scrollLeft-e:a===Qn.Right?n.scrollLeft-d.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(g&&p.y!==u.y){const e=n.scrollTop+t.y,i=a===Qn.Down&&e<=d.y||a===Qn.Up&&e>=h.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:o});r.y=i?n.scrollTop-e:a===Qn.Down?n.scrollTop-d.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,Gt($t(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function rr(e){return Boolean(e&&"distance"in e)}function ar(e){return Boolean(e&&"delay"in e)}nr.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=er,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class ir{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Dt(e);return e instanceof t?e:Ft(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:i}=a;this.props=e,this.events=t,this.document=Ft(i),this.documentListeners=new Gn(this.document),this.listeners=new Gn(n),this.windowListeners=new Gn(Dt(i)),this.initialCoordinates=null!=(r=Qt(a))?r:mn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Xn.Resize,this.handleCancel),this.windowListeners.add(Xn.DragStart,Jn),this.windowListeners.add(Xn.VisibilityChange,this.handleCancel),this.windowListeners.add(Xn.ContextMenu,Jn),this.documentListeners.add(Xn.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ar(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(rr(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Xn.Click,Zn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Xn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:i,options:{activationConstraint:o}}=a;if(!r)return;const s=null!=(t=Qt(e))?t:mn,l=$t(r,s);if(!n&&o){if(rr(o)){if(null!=o.tolerance&&$n(l,o.tolerance))return this.handleCancel();if($n(l,o.distance))return this.handleStart()}return ar(o)&&$n(l,o.tolerance)?this.handleCancel():void this.handlePending(o,l)}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Qn.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const or={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class sr extends ir{constructor(e){const{event:t}=e,n=Ft(t.target);super(e,or,n)}}sr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const lr={move:{name:"mousemove"},end:{name:"mouseup"}};var cr;!function(e){e[e.RightClick=2]="RightClick"}(cr||(cr={}));(class extends ir{constructor(e){super(e,lr,Ft(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==cr.RightClick&&(null==r||r({event:n}),!0)}}];const ur={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var dr,hr;function fr(e){let{acceleration:n,activator:r=dr.Pointer,canScroll:a,draggingRect:i,enabled:o,interval:s=5,order:l=hr.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=e;const p=function(e){let{delta:t,disabled:n}=e;const r=Vt(t);return Wt(e=>{if(n||!r||!e)return pr;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Fn.Backward]:e.x[Fn.Backward]||-1===a.x,[Fn.Forward]:e.x[Fn.Forward]||1===a.x},y:{[Fn.Backward]:e.y[Fn.Backward]||-1===a.y,[Fn.Forward]:e.y[Fn.Forward]||1===a.y}}},[n,t,r])}({delta:h,disabled:!o}),[m,g]=function(){const e=(0,t.useRef)(null),n=(0,t.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]);return[n,(0,t.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),v=(0,t.useRef)({x:0,y:0}),y=(0,t.useRef)({x:0,y:0}),b=(0,t.useMemo)(()=>{switch(r){case dr.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case dr.DraggableRect:return i}},[r,i,c]),x=(0,t.useRef)(null),w=(0,t.useCallback)(()=>{const e=x.current;if(!e)return;const t=v.current.x*y.current.x,n=v.current.y*y.current.y;e.scrollBy(t,n)},[]),S=(0,t.useMemo)(()=>l===hr.TreeOrder?[...u].reverse():u,[l,u]);(0,t.useEffect)(()=>{if(o&&u.length&&b){for(const e of S){if(!1===(null==a?void 0:a(e)))continue;const t=u.indexOf(e),r=d[t];if(!r)continue;const{direction:i,speed:o}=Wn(e,r,b,n,f);for(const e of["x","y"])p[e][i[e]]||(o[e]=0,i[e]=0);if(o.x>0||o.y>0)return g(),x.current=e,m(w,s),v.current=o,void(y.current=i)}v.current={x:0,y:0},y.current={x:0,y:0},g()}else g()},[n,w,a,g,o,s,JSON.stringify(b),JSON.stringify(p),m,u,S,d,JSON.stringify(f)])}(class extends ir{constructor(e){super(e,ur)}static setup(){return window.addEventListener(ur.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ur.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(dr||(dr={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(hr||(hr={}));const pr={x:{[Fn.Backward]:!1,[Fn.Forward]:!1},y:{[Fn.Backward]:!1,[Fn.Forward]:!1}};var mr,gr;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(mr||(mr={})),function(e){e.Optimized="optimized"}(gr||(gr={}));const vr=new Map;function yr(e,t){return Wt(n=>e?n||("function"===typeof t?t(e):e):null,[t,e])}function br(e){let{callback:n,disabled:r}=e;const a=zt(n),i=(0,t.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)},[r]);return(0,t.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}function xr(e){return new Yn(An(e),e)}function wr(e,n,r){void 0===n&&(n=xr);const[a,i]=(0,t.useState)(null);function o(){i(t=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=t?t:r)?a:null;const i=n(e);return JSON.stringify(t)===JSON.stringify(i)?t:i})}const s=function(e){let{callback:n,disabled:r}=e;const a=zt(n),i=(0,t.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)},[a,r]);return(0,t.useEffect)(()=>()=>null==i?void 0:i.disconnect(),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),l=br({callback:o});return Ut(()=>{o(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())},[e]),a}const Sr=[];function kr(e,n){void 0===n&&(n=[]);const r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r.current=null},n),(0,t.useEffect)(()=>{const t=e!==mn;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?$t(e,r.current):mn}function Nr(e){return(0,t.useMemo)(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const _r=[];function jr(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Rt(t)?t:e}const Cr=[{sensor:sr,options:{}},{sensor:nr,options:{}}],Er={current:{}},Tr={draggable:{measure:On},droppable:{measure:On,strategy:mr.WhileDragging,frequency:gr.Optimized},dragOverlay:{measure:An}};class Ar extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Or={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ar,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tr,measureDroppableContainers:hn,windowRect:null,measuringScheduled:!1},Ir={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hn,draggableNodes:new Map,over:null,measureDroppableContainers:hn},Pr=(0,t.createContext)(Ir),Dr=(0,t.createContext)(Or);function Mr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ar}}}function Rr(e,t){switch(t.type){case dn.DragStart:return(0,i.A)((0,i.A)({},e),{},{draggable:(0,i.A)((0,i.A)({},e.draggable),{},{initialCoordinates:t.initialCoordinates,active:t.active})});case dn.DragMove:return null==e.draggable.active?e:(0,i.A)((0,i.A)({},e),{},{draggable:(0,i.A)((0,i.A)({},e.draggable),{},{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case dn.DragEnd:case dn.DragCancel:return(0,i.A)((0,i.A)({},e),{},{draggable:(0,i.A)((0,i.A)({},e.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case dn.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Ar(e.droppable.containers);return a.set(r,n),(0,i.A)((0,i.A)({},e),{},{droppable:(0,i.A)((0,i.A)({},e.droppable),{},{containers:a})})}case dn.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Ar(e.droppable.containers);return s.set(n,(0,i.A)((0,i.A)({},o),{},{disabled:a})),(0,i.A)((0,i.A)({},e),{},{droppable:(0,i.A)((0,i.A)({},e.droppable),{},{containers:s})})}case dn.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Ar(e.droppable.containers);return o.delete(n),(0,i.A)((0,i.A)({},e),{},{droppable:(0,i.A)((0,i.A)({},e.droppable),{},{containers:o})})}default:return e}}function Lr(e){let{disabled:n}=e;const{active:r,activatorEvent:a,draggableNodes:i}=(0,t.useContext)(Pr),o=Vt(a),s=Vt(null==r?void 0:r.id);return(0,t.useEffect)(()=>{if(!n&&!a&&o&&null!=s){if(!Xt(o))return;if(document.activeElement===o.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=en(e);if(t){t.focus();break}}})}},[a,n,i,s,o]),null}function Fr(e,t){let{transform:n}=t,r=o(t,an);return null!=e&&e.length?e.reduce((e,t)=>t((0,i.A)({transform:e},r)),n):n}const Ur=(0,t.createContext)((0,i.A)((0,i.A)({},mn),{},{scaleX:1,scaleY:1}));var zr;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(zr||(zr={}));const Br=(0,t.memo)(function(e){var n,r,a,s;let{id:l,accessibility:c,autoScroll:u=!0,children:d,sensors:h=Cr,collisionDetection:f=Nn,measuring:p,modifiers:m}=e,g=o(e,on);const v=(0,t.useReducer)(Rr,void 0,Mr),[y,b]=v,[x,w]=function(){const[e]=(0,t.useState)(()=>new Set),n=(0,t.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]),r=(0,t.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]);return[r,n]}(),[S,k]=(0,t.useState)(zr.Uninitialized),N=S===zr.Initialized,{draggable:{active:_,nodes:j,translate:C},droppable:{containers:E}}=y,T=null!=_?j.get(_):null,A=(0,t.useRef)({initial:null,translated:null}),O=(0,t.useMemo)(()=>{var e;return null!=_?{id:_,data:null!=(e=null==T?void 0:T.data)?e:Er,rect:A}:null},[_,T]),I=(0,t.useRef)(null),[P,D]=(0,t.useState)(null),[M,R]=(0,t.useState)(null),L=Bt(g,Object.values(g)),F=Kt("DndDescribedBy",l),U=(0,t.useMemo)(()=>E.getEnabled(),[E]),z=(B=p,(0,t.useMemo)(()=>({draggable:(0,i.A)((0,i.A)({},Tr.draggable),null==B?void 0:B.draggable),droppable:(0,i.A)((0,i.A)({},Tr.droppable),null==B?void 0:B.droppable),dragOverlay:(0,i.A)((0,i.A)({},Tr.dragOverlay),null==B?void 0:B.dragOverlay)}),[null==B?void 0:B.draggable,null==B?void 0:B.droppable,null==B?void 0:B.dragOverlay]));var B;const{droppableRects:W,measureDroppableContainers:H,measuringScheduled:V}=function(e,n){let{dragging:r,dependencies:a,config:i}=n;const[o,s]=(0,t.useState)(null),{frequency:l,measure:c,strategy:u}=i,d=(0,t.useRef)(e),h=function(){switch(u){case mr.Always:return!1;case mr.BeforeDragging:return r;default:return!r}}(),f=Bt(h),p=(0,t.useCallback)(function(e){void 0===e&&(e=[]),f.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,t.useRef)(null),g=Wt(t=>{if(h&&!r)return vr;if(!t||t===vr||d.current!==e||null!=o){const t=new Map;for(let n of e){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Yn(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,o,r,h,c]);return(0,t.useEffect)(()=>{d.current=e},[e]),(0,t.useEffect)(()=>{h||p()},[r,h]),(0,t.useEffect)(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),(0,t.useEffect)(()=>{h||"number"!==typeof l||null!==m.current||(m.current=setTimeout(()=>{p(),m.current=null},l))},[l,h,p,...a]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:null!=o}}(U,{dragging:N,dependencies:[C.x,C.y],config:z.droppable}),q=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return Wt(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(j,_),K=(0,t.useMemo)(()=>M?Qt(M):null,[M]),Y=function(){const e=!1===(null==P?void 0:P.autoScrollEnabled),t="object"===typeof u?!1===u.enabled:!1===u,n=N&&!e&&!t;if("object"===typeof u)return(0,i.A)((0,i.A)({},u),{},{enabled:n});return{enabled:n}}(),G=function(e,t){return yr(e,t)}(q,z.draggable.measure);!function(e){let{activeNode:n,measure:r,initialRect:a,config:i=!0}=e;const o=(0,t.useRef)(!1),{x:s,y:l}="boolean"===typeof i?{x:i,y:i}:i;Ut(()=>{if(!s&&!l||!n)return void(o.current=!1);if(o.current||!a)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=_n(r(e),a);if(s||(t.x=0),l||(t.y=0),o.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=Pn(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,s,l,a,r])}({activeNode:null!=_?j.get(_):null,config:Y.layoutShiftCompensation,initialRect:G,measure:z.draggable.measure});const $=wr(q,z.draggable.measure,G),X=wr(q?q.parentElement:null),Q=(0,t.useRef)({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),J=E.getNodeFor(null==(n=Q.current.over)?void 0:n.id),Z=function(e){let{measure:n}=e;const[r,a]=(0,t.useState)(null),o=br({callback:(0,t.useCallback)(e=>{for(const{target:t}of e)if(Rt(t)){a(e=>{const r=n(t);return e?(0,i.A)((0,i.A)({},e),{},{width:r.width,height:r.height}):r});break}},[n])}),s=(0,t.useCallback)(e=>{const t=jr(e);null==o||o.disconnect(),t&&(null==o||o.observe(t)),a(t?n(t):null)},[n,o]),[l,c]=Ht(s);return(0,t.useMemo)(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}({measure:z.dragOverlay.measure}),ee=null!=(r=Z.nodeRef.current)?r:q,te=N?null!=(a=Z.rect)?a:$:null,ne=Boolean(Z.nodeRef.current&&Z.rect),re=_n(ae=ne?null:$,yr(ae));var ae;const ie=Nr(ee?Dt(ee):null),oe=function(e){const n=(0,t.useRef)(e),r=Wt(t=>e?t&&t!==Sr&&e&&n.current&&e.parentNode===n.current.parentNode?t:In(e):Sr,[e]);return(0,t.useEffect)(()=>{n.current=e},[e]),r}(N?null!=J?J:q:null),se=function(e,n){void 0===n&&(n=An);const[r]=e,a=Nr(r?Dt(r):null),[i,o]=(0,t.useState)(_r);function s(){o(()=>e.length?e.map(e=>Un(e)?a:new Yn(n(e),e)):_r)}const l=br({callback:s});return Ut(()=>{null==l||l.disconnect(),s(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),i}(oe),le=Fr(m,{transform:{x:C.x-re.x,y:C.y-re.y,scaleX:1,scaleY:1},activatorEvent:M,active:O,activeNodeRect:$,containerNodeRect:X,draggingNodeRect:te,over:Q.current.over,overlayNodeRect:Z.rect,scrollableAncestors:oe,scrollableAncestorRects:se,windowRect:ie}),ce=K?Gt(K,C):null,ue=function(e){const[n,r]=(0,t.useState)(null),a=(0,t.useRef)(e),i=(0,t.useCallback)(e=>{const t=Dn(e.target);t&&r(e=>e?(e.set(t,Ln(t)),new Map(e)):null)},[]);return(0,t.useEffect)(()=>{const t=a.current;if(e!==t){n(t);const o=e.map(e=>{const t=Dn(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,Ln(t)]):null}).filter(e=>null!=e);r(o.length?new Map(o):null),a.current=e}return()=>{n(e),n(t)};function n(e){e.forEach(e=>{const t=Dn(e);null==t||t.removeEventListener("scroll",i)})}},[i,e]),(0,t.useMemo)(()=>e.length?n?Array.from(n.values()).reduce((e,t)=>Gt(e,t),mn):Vn(e):mn,[e,n])}(oe),de=kr(ue),he=kr(ue,[$]),fe=Gt(le,de),pe=te?Cn(te,le):null,me=O&&pe?f({active:O,collisionRect:pe,droppableRects:W,droppableContainers:U,pointerCoordinates:ce}):null,ge=xn(me,"id"),[ve,ye]=(0,t.useState)(null),be=function(e,t,n){return(0,i.A)((0,i.A)({},e),{},{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(ne?le:Gt(le,he),null!=(s=null==ve?void 0:ve.rect)?s:null,$),xe=(0,t.useRef)(null),we=(0,t.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==I.current)return;const a=j.get(I.current);if(!a)return;const i=e.nativeEvent,o=new n({active:I.current,activeNode:a,event:i,options:r,context:Q,onAbort(e){if(!j.get(e))return;const{onDragAbort:t}=L.current,n={id:e};null==t||t(n),x({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!j.get(e))return;const{onDragPending:a}=L.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(i),x({type:"onDragPending",event:i})},onStart(e){const t=I.current;if(null==t)return;const n=j.get(t);if(!n)return;const{onDragStart:r}=L.current,a={activatorEvent:i,active:{id:t,data:n.data,rect:A}};(0,At.unstable_batchedUpdates)(()=>{null==r||r(a),k(zr.Initializing),b({type:dn.DragStart,initialCoordinates:e,active:t}),x({type:"onDragStart",event:a}),D(xe.current),R(i)})},onMove(e){b({type:dn.DragMove,coordinates:e})},onEnd:s(dn.DragEnd),onCancel:s(dn.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=Q.current;let o=null;if(t&&a){const{cancelDrop:s}=L.current;if(o={activatorEvent:i,active:t,collisions:n,delta:a,over:r},e===dn.DragEnd&&"function"===typeof s){await Promise.resolve(s(o))&&(e=dn.DragCancel)}}I.current=null,(0,At.unstable_batchedUpdates)(()=>{b({type:e}),k(zr.Uninitialized),ye(null),D(null),R(null),xe.current=null;const t=e===dn.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=L.current[t];null==e||e(o),x({type:t,event:o})}})}}xe.current=o},[j]),Se=(0,t.useCallback)((e,t)=>(n,r)=>{const a=n.nativeEvent,i=j.get(r);if(null!==I.current||!i||a.dndKit||a.defaultPrevented)return;const o={active:i};!0===e(n,t.options,o)&&(a.dndKit={capturedBy:t.sensor},I.current=r,we(n,t))},[j,we]),ke=function(e,n){return(0,t.useMemo)(()=>e.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[e,n])}(h,Se);!function(e){(0,t.useEffect)(()=>{if(!Ot)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(h),Ut(()=>{$&&S===zr.Initializing&&k(zr.Initialized)},[$,S]),(0,t.useEffect)(()=>{const{onDragMove:e}=L.current,{active:t,activatorEvent:n,collisions:r,over:a}=Q.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:fe.x,y:fe.y},over:a};(0,At.unstable_batchedUpdates)(()=>{null==e||e(i),x({type:"onDragMove",event:i})})},[fe.x,fe.y]),(0,t.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=Q.current;if(!e||null==I.current||!t||!a)return;const{onDragOver:i}=L.current,o=r.get(ge),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:s};(0,At.unstable_batchedUpdates)(()=>{ye(s),null==i||i(l),x({type:"onDragOver",event:l})})},[ge]),Ut(()=>{Q.current={activatorEvent:M,active:O,activeNode:q,collisionRect:pe,collisions:me,droppableRects:W,draggableNodes:j,draggingNode:ee,draggingNodeRect:te,droppableContainers:E,over:ve,scrollableAncestors:oe,scrollAdjustedTranslate:fe},A.current={initial:te,translated:pe}},[O,q,me,pe,j,ee,te,W,E,ve,oe,fe]),fr((0,i.A)((0,i.A)({},Y),{},{delta:C,draggingRect:pe,pointerCoordinates:ce,scrollableAncestors:oe,scrollableAncestorRects:se}));const Ne=(0,t.useMemo)(()=>({active:O,activeNode:q,activeNodeRect:$,activatorEvent:M,collisions:me,containerNodeRect:X,dragOverlay:Z,draggableNodes:j,droppableContainers:E,droppableRects:W,over:ve,measureDroppableContainers:H,scrollableAncestors:oe,scrollableAncestorRects:se,measuringConfiguration:z,measuringScheduled:V,windowRect:ie}),[O,q,$,M,me,X,Z,j,E,W,ve,H,oe,se,z,V,ie]),_e=(0,t.useMemo)(()=>({activatorEvent:M,activators:ke,active:O,activeNodeRect:$,ariaDescribedById:{draggable:F},dispatch:b,draggableNodes:j,over:ve,measureDroppableContainers:H}),[M,ke,O,$,b,F,j,ve,H]);return t.createElement(sn.Provider,{value:w},t.createElement(Pr.Provider,{value:_e},t.createElement(Dr.Provider,{value:Ne},t.createElement(Ur.Provider,{value:be},d)),t.createElement(Lr,{disabled:!1===(null==c?void 0:c.restoreFocus)})),t.createElement(un,(0,i.A)((0,i.A)({},c),{},{hiddenTextDescribedById:F})))}),Wr=(0,t.createContext)(null),Hr="button";function Vr(e){let{id:n,data:r,disabled:a=!1,attributes:i}=e;const o=Kt("Draggable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=(0,t.useContext)(Pr),{role:p=Hr,roleDescription:m="draggable",tabIndex:g=0}=null!=i?i:{},v=(null==c?void 0:c.id)===n,y=(0,t.useContext)(v?Ur:Wr),[b,x]=Ht(),[w,S]=Ht(),k=function(e,n){return(0,t.useMemo)(()=>e.reduce((e,t)=>{let{eventName:r,handler:a}=t;return e[r]=e=>{a(e,n)},e},{}),[e,n])}(s,n),N=Bt(r);Ut(()=>(h.set(n,{id:n,key:o,node:b,activatorNode:w,data:N}),()=>{const e=h.get(n);e&&e.key===o&&h.delete(n)}),[h,n]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,t.useMemo)(()=>({role:p,tabIndex:g,"aria-disabled":a,"aria-pressed":!(!v||p!==Hr)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[a,p,g,v,m,d.draggable]),isDragging:v,listeners:a?void 0:k,node:b,over:f,setNodeRef:x,setActivatorNodeRef:S,transform:y}}function qr(){return(0,t.useContext)(Dr)}const Kr={timeout:25};function Yr(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Gr(e,t){return e.reduce((e,n,r)=>{const a=t.get(n);return a&&(e[r]=a),e},Array(e.length))}function $r(e){return null!==e&&e>=0}const Xr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=Yr(t,r,n),o=t[a],s=i[a];return s&&o?{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}:null},Qr={scaleX:1,scaleY:1},Jr=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:o,overIndex:s}=e;const l=null!=(t=o[n])?t:r;if(!l)return null;if(a===n){const e=o[s];return e?(0,i.A)({x:0,y:n<s?e.top+e.height-(l.top+l.height):e.top-l.top},Qr):null}const c=function(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];if(!r)return 0;if(n<t)return a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0;return i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0}(o,a,n);return a>n&&a<=s?(0,i.A)({x:0,y:-l.height-c},Qr):a<n&&a>=s?(0,i.A)({x:0,y:l.height+c},Qr):(0,i.A)({x:0,y:0},Qr)};const Zr="Sortable",ea=t.createContext({activeIndex:-1,containerId:Zr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Xr,disabled:{draggable:!1,droppable:!1}});function ta(e){let{children:n,id:r,items:a,strategy:i=Xr,disabled:o=!1}=e;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=qr(),h=Kt(Zr,r),f=Boolean(null!==l.rect),p=(0,t.useMemo)(()=>a.map(e=>"object"===typeof e&&"id"in e?e.id:e),[a]),m=null!=s,g=s?p.indexOf(s.id):-1,v=u?p.indexOf(u.id):-1,y=(0,t.useRef)(p),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,y.current),x=-1!==v&&-1===g||b,w=function(e){return"boolean"===typeof e?{draggable:e,droppable:e}:e}(o);Ut(()=>{b&&m&&d(p)},[b,p,m,d]),(0,t.useEffect)(()=>{y.current=p},[p]);const S=(0,t.useMemo)(()=>({activeIndex:g,containerId:h,disabled:w,disableTransforms:x,items:p,overIndex:v,useDragOverlay:f,sortedRects:Gr(p,c),strategy:i}),[g,h,w.draggable,w.droppable,x,p,v,c,f,i]);return t.createElement(ea.Provider,{value:S},n)}const na=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Yr(n,r,a).indexOf(t)},ra=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r)&&((s===i||a!==o)&&(!!n||o!==a&&t===l))},aa={duration:200,easing:"ease"},ia="transform",oa=Jt.Transition.toString({property:ia,duration:0,easing:"linear"}),sa={roleDescription:"sortable"};function la(e){let{animateLayoutChanges:n=ra,attributes:r,disabled:a,data:o,getNewIndex:s=na,id:l,strategy:c,resizeObserverConfig:u,transition:d=aa}=e;const{items:h,containerId:f,activeIndex:p,disabled:m,disableTransforms:g,sortedRects:v,overIndex:y,useDragOverlay:b,strategy:x}=(0,t.useContext)(ea),w=function(e,t){var n,r;if("boolean"===typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(a,m),S=h.indexOf(l),k=(0,t.useMemo)(()=>(0,i.A)({sortable:{containerId:f,index:S,items:h}},o),[f,o,S,h]),N=(0,t.useMemo)(()=>h.slice(h.indexOf(l)),[h,l]),{rect:_,node:j,isOver:C,setNodeRef:E}=function(e){let{data:n,disabled:r=!1,id:a,resizeObserverConfig:o}=e;const s=Kt("Droppable"),{active:l,dispatch:c,over:u,measureDroppableContainers:d}=(0,t.useContext)(Pr),h=(0,t.useRef)({disabled:r}),f=(0,t.useRef)(!1),p=(0,t.useRef)(null),m=(0,t.useRef)(null),{disabled:g,updateMeasurementsFor:v,timeout:y}=(0,i.A)((0,i.A)({},Kr),o),b=Bt(null!=v?v:a),x=br({callback:(0,t.useCallback)(()=>{f.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),m.current=null},y)):f.current=!0},[y]),disabled:g||!l}),w=(0,t.useCallback)((e,t)=>{x&&(t&&(x.unobserve(t),f.current=!1),e&&x.observe(e))},[x]),[S,k]=Ht(w),N=Bt(n);return(0,t.useEffect)(()=>{x&&S.current&&(x.disconnect(),f.current=!1,x.observe(S.current))},[S,x]),(0,t.useEffect)(()=>(c({type:dn.RegisterDroppable,element:{id:a,key:s,disabled:r,node:S,rect:p,data:N}}),()=>c({type:dn.UnregisterDroppable,key:s,id:a})),[a]),(0,t.useEffect)(()=>{r!==h.current.disabled&&(c({type:dn.SetDroppableDisabled,id:a,key:s,disabled:r}),h.current.disabled=r)},[a,s,r,c]),{active:l,rect:p,isOver:(null==u?void 0:u.id)===a,node:S,over:u,setNodeRef:k}}({id:l,data:k,disabled:w.droppable,resizeObserverConfig:(0,i.A)({updateMeasurementsFor:N},u)}),{active:T,activatorEvent:A,activeNodeRect:O,attributes:I,setNodeRef:P,listeners:D,isDragging:M,over:R,setActivatorNodeRef:L,transform:F}=Vr({id:l,data:k,attributes:(0,i.A)((0,i.A)({},sa),r),disabled:w.draggable}),U=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)(()=>e=>{n.forEach(t=>t(e))},n)}(E,P),z=Boolean(T),B=z&&!g&&$r(p)&&$r(y),W=!b&&M,H=W&&B?F:null,V=B?null!=H?H:(null!=c?c:x)({rects:v,activeNodeRect:O,activeIndex:p,overIndex:y,index:S}):null,q=$r(p)&&$r(y)?s({id:l,items:h,activeIndex:p,overIndex:y}):S,K=null==T?void 0:T.id,Y=(0,t.useRef)({activeId:K,items:h,newIndex:q,containerId:f}),G=h!==Y.current.items,$=n({active:T,containerId:f,isDragging:M,isSorting:z,id:l,index:S,items:h,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:d,wasDragging:null!=Y.current.activeId}),X=function(e){let{disabled:n,index:r,node:a,rect:i}=e;const[o,s]=(0,t.useState)(null),l=(0,t.useRef)(r);return Ut(()=>{if(!n&&r!==l.current&&a.current){const e=i.current;if(e){const t=An(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)},[n,r,a,i]),(0,t.useEffect)(()=>{o&&s(null)},[o]),o}({disabled:!$,index:S,node:j,rect:_});return(0,t.useEffect)(()=>{z&&Y.current.newIndex!==q&&(Y.current.newIndex=q),f!==Y.current.containerId&&(Y.current.containerId=f),h!==Y.current.items&&(Y.current.items=h)},[z,q,f,h]),(0,t.useEffect)(()=>{if(K===Y.current.activeId)return;if(null!=K&&null==Y.current.activeId)return void(Y.current.activeId=K);const e=setTimeout(()=>{Y.current.activeId=K},50);return()=>clearTimeout(e)},[K]),{active:T,activeIndex:p,attributes:I,data:k,rect:_,index:S,newIndex:q,items:h,isOver:C,isSorting:z,isDragging:M,listeners:D,node:j,overIndex:y,over:R,setNodeRef:U,setActivatorNodeRef:L,setDroppableNodeRef:E,setDraggableNodeRef:P,transform:null!=X?X:V,transition:function(){if(X||G&&Y.current.newIndex===S)return oa;if(W&&!Xt(A)||!d)return;if(z||$)return Jt.Transition.toString((0,i.A)((0,i.A)({},d),{},{property:ia}));return}()}}function ca(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"===typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const ua=[Qn.Down,Qn.Right,Qn.Up,Qn.Left],da=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:i,over:o,scrollableAncestors:s}}=t;if(ua.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];i.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;const i=a.get(n.id);if(i)switch(e.code){case Qn.Down:r.top<i.top&&t.push(n);break;case Qn.Up:r.top>i.top&&t.push(n);break;case Qn.Left:r.left>i.left&&t.push(n);break;case Qn.Right:r.left<i.left&&t.push(n)}});const l=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=bn(t),i=[];for(const o of r){const{id:e}=o,t=n.get(e);if(t){const n=bn(t),r=a.reduce((e,t,r)=>e+gn(n[r],t),0),s=Number((r/4).toFixed(4));i.push({id:e,data:{droppableContainer:o,value:s}})}}return i.sort(vn)})({active:n,collisionRect:r,droppableRects:a,droppableContainers:t,pointerCoordinates:null});let c=xn(l,"id");if(c===(null==o?void 0:o.id)&&l.length>1&&(c=l[1].id),null!=c){const e=i.get(n.id),t=i.get(c),o=t?a.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&o&&e&&t){const n=In(l).some((e,t)=>s[t]!==e),a=ha(e,t),i=function(e,t){if(!ca(e)||!ca(t))return!1;if(!ha(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!a?{x:0,y:0}:{x:i?r.width-o.width:0,y:i?r.height-o.height:0},u={x:o.left,y:o.top};return c.x&&c.y?u:$t(u,c)}}}};function ha(e,t){return!(!ca(e)||!ca(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const fa=e=>{let{item:t,onUpdateCount:n,onReportWaste:r,showQuickActions:a=!0,customCategories:o=[],dragListeners:s}=e;const l=(0,bt.V0)(t.currentStock,t.minLevel);return(0,j.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm transition-all hover:shadow-md hover:-translate-y-1 ".concat((()=>{switch(l){case"out":return"bg-gradient-to-br from-red-50 to-red-100 border-l-4 border-red-600";case"critical":return"bg-gradient-to-br from-orange-50 to-orange-100 border-l-4 border-orange-500";case"low":return"bg-gradient-to-br from-yellow-50 to-yellow-100 border-l-4 border-yellow-500";default:return"bg-gradient-to-br from-green-50 to-green-100 border-l-4 border-green-500"}})()),children:[(0,j.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-2xl mr-3",children:ze(t.category,o)}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",(0,i.A)((0,i.A)({className:"font-semibold text-gray-800 cursor-move select-none"},s||{}),{},{children:t.name})),(0,j.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:Ye(t.category,o)})]})]}),(()=>{switch(l){case"out":return(0,j.jsx)("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-medium animate-pulse",children:"\ud83d\uded1 Out of Stock"});case"critical":return(0,j.jsx)("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-medium animate-pulse",children:"\ud83d\udea8 Critical"});case"low":return(0,j.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full text-xs font-medium",children:"\u26a0\ufe0f Low Stock"});default:return(0,j.jsx)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-medium",children:"\u2705 Good Stock"})}})()]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Current Count"}),(0,j.jsxs)("div",{className:"text-lg font-bold ".concat((()=>{switch(l){case"out":return"text-red-700";case"critical":return"text-orange-600";case"low":return"text-yellow-600";default:return"text-green-600"}})()),children:[t.currentStock," ",t.unit]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Min Level"}),(0,j.jsxs)("div",{className:"text-lg font-medium text-gray-700",children:[t.minLevel," ",t.unit]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-xs text-gray-600",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"font-medium",children:"Cost:"})," \u20ac",t.cost.toFixed(2)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"font-medium",children:"Last Used:"})," ",t.lastUsed]})]}),t.ean&&(0,j.jsxs)("div",{className:"mb-4 text-xs text-gray-500",children:[(0,j.jsx)("span",{className:"font-medium",children:"EAN:"})," ",t.ean]}),a&&(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsxs)("button",{onClick:()=>n(t.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:[(0,j.jsx)(Z,{className:"w-4 h-4 mr-1"}),"Update Count"]}),(0,j.jsxs)("button",{onClick:()=>r(t.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[(0,j.jsx)(X,{className:"w-4 h-4 mr-1"}),"Report Waste"]})]})]})},pa=e=>{let{item:n,onUpdateCount:r,onReportWaste:a,showQuickActions:o=!0,customCategories:s=[]}=e;const{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:h,isDragging:f}=la({id:n.id.toString()}),[p,m]=(0,t.useState)(!1),g=(0,t.useRef)(null),v=(0,t.useRef)(null),y=(0,t.useCallback)(e=>{if(1!==e.touches.length)return;const t=e.touches[0];v.current={x:t.clientX,y:t.clientY},g.current=setTimeout(()=>{m(!0),e.currentTarget&&(e.currentTarget.style.touchAction="none")},500)},[]),b=(0,t.useCallback)(e=>{if(1!==e.touches.length)return g.current&&(clearTimeout(g.current),g.current=null),void m(!1);const t=e.touches[0],n=v.current;if(n){const e=Math.abs(t.clientX-n.x),r=Math.abs(t.clientY-n.y);if(!p&&(e>10||r>10)&&(g.current&&(clearTimeout(g.current),g.current=null),r>1.5*e))return}p&&(e.preventDefault(),e.stopPropagation())},[p]),x=(0,t.useCallback)(e=>{g.current&&(clearTimeout(g.current),g.current=null),m(!1),v.current=null,e.currentTarget&&(e.currentTarget.style.touchAction="")},[]),w=(0,i.A)((0,i.A)({},c),{},{onTouchStart:y,onTouchMove:b,onTouchEnd:x}),S={transform:Jt.Transform.toString(d),transition:h,opacity:f?.5:1,touchAction:p?"none":"pan-y"};return(0,j.jsx)("div",(0,i.A)((0,i.A)({ref:u,style:S},l),{},{children:(0,j.jsx)(fa,{item:n,onUpdateCount:r,onReportWaste:a,showQuickActions:o,customCategories:s,dragListeners:w})}))},ma=e=>{let{value:n,onChange:r,min:a=0,max:i=100,step:o=1}=e;const s=(0,t.useRef)(null),l=(0,t.useRef)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(0),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(""),[b,x]=(0,t.useState)(0),w=(0,t.useRef)(null),{values:S,decimalPlaces:k}=(0,t.useMemo)(()=>{const e=(e=>{if(Math.floor(e)===e)return 0;const t=e.toString();if(-1!==t.indexOf(".")&&-1===t.indexOf("e-"))return t.split(".")[1].length;if(-1!==t.indexOf("e-")){const e=t.split("e-");return parseInt(e[1],10)}return 0})(o),t=[],n=Math.round((i-a)/o);for(let r=0;r<=n;r++){const n=a+r*o,s=Math.round(n*Math.pow(10,e))/Math.pow(10,e);s<=i&&t.push(s)}return{values:t,decimalPlaces:e}},[a,i,o]),N=48,_=192,C=(0,t.useCallback)(e=>{const t=S.indexOf(e);if(-1===t)return 0;return 72-t*N},[S,_,N]),E=(0,t.useCallback)(e=>{const t=Math.round((72-e)/N);return S[Math.max(0,Math.min(t,S.length-1))]},[S,_,N]),T=(0,t.useCallback)(e=>{const t=72-N*(S.length-1);return Math.max(t,Math.min(72,e))},[S.length,_,N]);(0,t.useEffect)(()=>{m&&w.current&&(w.current.focus(),w.current.select())},[m]),(0,t.useEffect)(()=>{if(l.current&&!c){const e=C(n);l.current.style.transform="translateY(".concat(e,"px)")}},[n,c,C]);const A=(0,t.useCallback)((e,t)=>{if(t&&(t.preventDefault(),t.stopPropagation()),u(!0),h(e),l.current){const e=window.getComputedStyle(l.current),t=new DOMMatrix(e.transform);p(t.m42),l.current.style.transition="none"}},[]),O=(0,t.useCallback)((e,t)=>{if(!c||!l.current)return;t&&(t.preventDefault(),t.stopPropagation());const n=T(f+(e-d));l.current.style.transform="translateY(".concat(n,"px)")},[c,d,f,T]),I=(0,t.useCallback)(e=>{if(!c||!l.current)return;e&&(e.preventDefault(),e.stopPropagation()),u(!1),l.current.style.transition="transform 0.3s ease-in-out";const t=window.getComputedStyle(l.current),n=new DOMMatrix(t.transform).m42,a=E(n),i=C(a);l.current.style.transform="translateY(".concat(i,"px)"),r(a)},[c,E,C,r]),P=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),y(n.toString()),g(!0)},[n]),D=(0,t.useCallback)(e=>{const t=Date.now(),r=t-b;r<300&&r>0&&(e.preventDefault(),e.stopPropagation(),y(n.toString()),g(!0)),x(t)},[b,n]),M=(0,t.useCallback)(e=>{const t=parseFloat(e);if(isNaN(t))return!1;const n=Math.max(a,Math.min(i,t)),s=Math.round((n-a)/o),l=a+s*o,c=Math.round(l*Math.pow(10,k))/Math.pow(10,k);return!!S.includes(c)&&(r(c),!0)},[a,i,o,S,r,k]),R=(0,t.useCallback)(()=>{M(v)&&g(!1)},[v,M]),L=(0,t.useCallback)(()=>{g(!1),y("")},[]),F=(0,t.useCallback)(e=>{"Enter"===e.key?(e.preventDefault(),R()):"Escape"===e.key&&(e.preventDefault(),L())},[R,L]),U=(0,t.useCallback)(()=>{R()},[R]),z=(0,t.useCallback)(e=>{m||(e.preventDefault(),e.stopPropagation(),A(e.clientY,e.nativeEvent))},[A,m]);(0,t.useEffect)(()=>{const e=e=>{O(e.clientY,e)},t=e=>{I(e)};return c&&(document.addEventListener("mousemove",e,{passive:!1}),document.addEventListener("mouseup",t,{passive:!1})),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[c,O,I]);const B=(0,t.useCallback)(e=>{m||(e.preventDefault(),e.stopPropagation(),1===e.touches.length&&(D(e),A(e.touches[0].clientY,e.nativeEvent)))},[A,D,m]),W=(0,t.useCallback)(e=>{m||(e.preventDefault(),e.stopPropagation(),1===e.touches.length&&c&&O(e.touches[0].clientY,e.nativeEvent))},[c,O,m]),H=(0,t.useCallback)(e=>{m||(e.preventDefault(),e.stopPropagation(),I(e.nativeEvent))},[I,m]),V=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]);return(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsxs)("div",{ref:s,className:"relative h-48 overflow-hidden bg-white border-2 border-gray-200 rounded-xl touch-none select-none",style:{height:"".concat(_,"px"),touchAction:"none",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none"},onMouseDown:z,onDoubleClick:P,onTouchStart:B,onTouchMove:W,onTouchEnd:H,onContextMenu:V,children:[(0,j.jsx)("div",{className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-white to-transparent pointer-events-none z-10"}),(0,j.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-white to-transparent pointer-events-none z-10"}),(0,j.jsx)("div",{className:"absolute left-0 right-0 border-t border-b border-gray-300 pointer-events-none z-10",style:{top:"".concat(72,"px"),height:"".concat(N,"px")}}),m&&(0,j.jsx)("div",{className:"absolute left-0 right-0 z-20 flex items-center justify-center",style:{top:"".concat(72,"px"),height:"".concat(N,"px")},children:(0,j.jsx)("input",{ref:w,type:"number",value:v,onChange:e=>y(e.target.value),onKeyDown:F,onBlur:U,min:a,max:i,step:o,className:"w-20 h-8 text-center text-lg font-semibold border-2 border-blue-500 rounded bg-white text-black focus:outline-none focus:ring-2 focus:ring-blue-300"})}),(0,j.jsx)("div",{ref:l,className:"absolute left-0 right-0 transition-transform duration-300 ease-in-out touch-none select-none",style:{transform:"translateY(".concat(C(n),"px)"),touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:S.map((e,t)=>{const r=e===n;return(0,j.jsx)("div",{className:"flex items-center justify-center transition-all duration-200 touch-none select-none ".concat(r?"text-black font-semibold text-xl":"text-gray-400 text-lg"),style:{height:"".concat(N,"px"),touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:k>0?e.toFixed(k):e},e)})})]}),(0,j.jsxs)("div",{className:"mt-2 text-center",children:[(0,j.jsx)("span",{className:"text-sm text-gray-600",children:"Selected: "}),(0,j.jsx)("span",{className:"font-semibold text-gray-800",children:k>0?n.toFixed(k):n}),(0,j.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Double-click or double-tap to enter value manually"})]})]})};var ga=n(5067);const va=e=>{let{frequency:n,selectedItemId:r,onClose:a}=e;const{dailyItems:i,weeklyItems:o,monthlyItems:s,employees:l,currentUser:c,updateItemStock:u}=vt(),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(0),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(""),[k,N]=(0,t.useState)(!1),_=(()=>{switch(n){case"daily":return i;case"weekly":return o;case"monthly":return s;default:return[]}})();(0,t.useEffect)(()=>{const e=(0,ga.initializeEmployeeSelection)(c,l);e&&(v(e.id),b(e.name),(0,ga.saveSelectedEmployee)(e.id,e.name))},[c,l]),(0,t.useEffect)(()=>{if(r){const e=_.find(e=>e.id===r);e&&(f(r.toString()),m(e.currentStock))}},[r,_]);const C=_.find(e=>e.id.toString()===h);return(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Update Current Count"}),(0,j.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Item"}),(0,j.jsxs)("select",{value:h,onChange:e=>{f(e.target.value);const t=_.find(t=>t.id.toString()===e.target.value);t&&m(t.currentStock)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"",children:"Choose an item..."}),_.map(e=>(0,j.jsxs)("option",{value:e.id,children:[e.name," (Currently: ",e.currentStock," ",e.unit,")"]},e.id))]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Count ",null!==C&&void 0!==C&&C.box?"(boxes)":""]}),(0,j.jsx)(ma,{value:p,onChange:m,min:0,max:Math.max(100,((null===C||void 0===C?void 0:C.currentStock)||0)+20),step:null!==C&&void 0!==C&&C.box?.1:1}),(null===C||void 0===C?void 0:C.box)&&(0,j.jsx)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"This item uses fractional quantities (e.g., 0.5, 1.5, 2.5 boxes)"})]}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee"}),(0,j.jsxs)("button",{type:"button",onClick:()=>N(!k),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 flex items-center justify-between text-left",children:[(0,j.jsx)("span",{children:y||"Select Employee"}),(0,j.jsx)(d,{className:"w-4 h-4 text-gray-400"})]}),(0,j.jsx)(ga.default,{employees:l,selectedEmployeeId:g,onEmployeeSelect:(e,t)=>{v(e),b(t)},isOpen:k,onClose:()=>N(!1)})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),(0,j.jsx)("textarea",{rows:2,placeholder:"Any notes about the count...",value:x,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,j.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,j.jsx)("button",{onClick:()=>{!h||p<0?alert("Please select an item and enter a valid count!"):y?(u(h,p,n,y,x),a()):alert("Please select an employee!")},className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Update Count"}),(0,j.jsx)("button",{onClick:a,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})},ya=e=>{let{frequency:n,selectedItemId:r,onClose:a}=e;const{dailyItems:i,weeklyItems:o,monthlyItems:s,employees:l,currentUser:c,reportWaste:u}=vt(),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)("expired"),[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(""),[k,N]=(0,t.useState)(""),[_,C]=(0,t.useState)(!1),E=(()=>{switch(n){case"daily":return i;case"weekly":return o;case"monthly":return s;default:return[]}})();(0,t.useEffect)(()=>{const e=(0,ga.initializeEmployeeSelection)(c,l);e&&(b(e.id),w(e.name),(0,ga.saveSelectedEmployee)(e.id,e.name))},[c,l]),(0,t.useEffect)(()=>{r&&f(r.toString())},[r]);const T=E.find(e=>e.id.toString()===h);return(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Report Waste"}),(0,j.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Item"}),(0,j.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"",children:"Choose an item..."}),E.map(e=>(0,j.jsxs)("option",{value:e.id,children:[e.name," (Available: ",e.currentStock," ",e.unit,")"]},e.id))]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Waste Amount ",null!==T&&void 0!==T&&T.box?"(boxes)":""]}),(0,j.jsx)("input",{type:"number",min:"0",step:null!==T&&void 0!==T&&T.box?"0.1":"1",placeholder:null!==T&&void 0!==T&&T.box?"e.g., 0.5":"Enter waste amount",value:p,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),(null===T||void 0===T?void 0:T.box)&&(0,j.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:"This item uses fractional quantities (e.g., 0.5, 1.5, 2.5 boxes)"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waste Reason"}),(0,j.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"expired",children:"Expired/Spoiled"}),(0,j.jsx)("option",{value:"overcooked",children:"Overcooked"}),(0,j.jsx)("option",{value:"dropped",children:"Dropped/Contaminated"}),(0,j.jsx)("option",{value:"overordered",children:"Over-ordered"}),(0,j.jsx)("option",{value:"customer-return",children:"Customer Return"}),(0,j.jsx)("option",{value:"other",children:"Other"})]})]}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee"}),(0,j.jsxs)("button",{type:"button",onClick:()=>C(!_),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 flex items-center justify-between text-left",children:[(0,j.jsx)("span",{children:x||"Select Employee"}),(0,j.jsx)(d,{className:"w-4 h-4 text-gray-400"})]}),(0,j.jsx)(ga.default,{employees:l,selectedEmployeeId:y,onEmployeeSelect:(e,t)=>{b(e),w(t)},isOpen:_,onClose:()=>C(!1)})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),(0,j.jsx)("textarea",{rows:2,placeholder:"Details about the waste...",value:k,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,j.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,j.jsx)("button",{onClick:()=>{const e=parseFloat(p);if(!h||!p||e<=0)return void alert("Please select an item and enter a valid waste amount!");if(!x)return void alert("Please select an employee!");const t=E.find(e=>e.id.toString()===h);t?e>t.currentStock?alert("Waste amount cannot exceed current stock!"):(u(h,e,g,n,x,k),a()):alert("Item not found!")},className:"flex-1 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Report Waste"}),(0,j.jsx)("button",{onClick:a,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})},ba=()=>{const{dailyItems:e,activityLog:n,customCategories:r,reorderItems:a}=vt(),[i,o]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)("all"),[f,p]=(0,t.useState)(""),m=pn(fn(sr),fn(nr,{coordinateGetter:da})),g=Ke(r),v=e.filter(e=>{const t="all"===d||e.category===d,n=!f||e.name.toLowerCase().includes(f.toLowerCase());return t&&n}),y=e=>{u(e),o(!0)},b=e=>{u(e),l(!0)},x=n.filter(e=>new Date(e.timestamp).toDateString()===(new Date).toDateString()).slice(0,10);return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,j.jsx)("span",{className:"mr-2",children:"\ud83d\udd25"}),"Daily High-Usage Items - ",(0,j.jsx)("span",{className:"text-red-600",children:We(new Date)})]}),(0,j.jsx)("p",{className:"text-gray-600 mb-4",children:"At the end of each day, count and update current quantities for high-usage items"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,j.jsxs)("button",{onClick:()=>o(!0),className:"bg-blue-500 text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(Z,{className:"w-5 h-5 mr-2"}),"Update Current Count"]}),(0,j.jsxs)("button",{onClick:()=>l(!0),className:"bg-orange-500 text-white px-4 py-3 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(X,{className:"w-5 h-5 mr-2"}),"Report Waste"]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,j.jsxs)("div",{className:"p-6 border-b",children:[(0,j.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Daily Usage Items"}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,j.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"all",children:"All Types"}),g.map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(fe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,j.jsx)("input",{type:"text",placeholder:"Search daily items...",value:f,onChange:e=>p(e.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg text-sm w-full sm:w-48 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(f||"all"!==d)&&(0,j.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",v.length," of ",e.length," daily items",f&&' matching "'.concat(f,'"'),"all"!==d&&" in ".concat(d," category")]})]}),(0,j.jsx)("div",{className:"p-6",children:(0,j.jsx)(Br,{sensors:m,collisionDetection:Sn,onDragEnd:t=>{const{active:n,over:r}=t;if(n.id!==(null===r||void 0===r?void 0:r.id)){const t=v.findIndex(e=>e.id.toString()===n.id),i=v.findIndex(e=>e.id.toString()===(null===r||void 0===r?void 0:r.id));if(v.length===e.length)a("daily",t,i);else{const t=e.find(e=>e.id.toString()===n.id),i=e.find(e=>e.id.toString()===(null===r||void 0===r?void 0:r.id));if(t&&i){const n=e.findIndex(e=>e.id===t.id),r=e.findIndex(e=>e.id===i.id);a("daily",n,r)}}}},children:(0,j.jsx)(ta,{items:v.map(e=>e.id.toString()),strategy:Jr,children:(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(e=>(0,j.jsx)(pa,{item:e,onUpdateCount:y,onReportWaste:b,customCategories:r},e.id))})})})})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,j.jsx)("div",{className:"p-6 border-b",children:(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Today's Activity"})}),(0,j.jsx)("div",{className:"p-6",children:(0,j.jsx)("div",{className:"space-y-3",children:0===x.length?(0,j.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,j.jsx)("div",{className:"text-3xl mb-2",children:"\ud83d\udccb"}),(0,j.jsx)("p",{children:"No activity recorded for today"})]}):x.map(e=>{let t,n,r;switch(e.type){case"count_update":t="\ud83d\udcdd",n="blue",r="Count Updated";break;case"waste":t="\ud83d\uddd1\ufe0f",n="red",r="Waste";break;default:t="\ud83d\udce6",n="gray",r="Activity"}return(0,j.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"bg-".concat(n,"-100 p-2 rounded-lg mr-3"),children:(0,j.jsx)("span",{className:"text-".concat(n,"-600"),children:t})}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"font-medium text-gray-800",children:[r,": ",e.item]}),(0,j.jsxs)("div",{className:"text-sm text-gray-600",children:[e.employee," \u2022 ",new Date(e.timestamp).toLocaleString(),e.notes&&" \u2022 ".concat(e.notes),e.reason&&" (".concat(e.reason,")")]})]})]}),(0,j.jsxs)("div",{className:"text-right",children:[(0,j.jsxs)("div",{className:"font-bold text-gray-700",children:[e.quantity," ",e.unit]}),(0,j.jsx)("div",{className:"text-xs text-gray-500",children:e.type})]})]},e.id)})})})]}),i&&(0,j.jsx)(va,{frequency:"daily",selectedItemId:c,onClose:()=>{o(!1),u(null)}}),s&&(0,j.jsx)(ya,{frequency:"daily",selectedItemId:c,onClose:()=>{l(!1),u(null)}})]})},xa=()=>{const{weeklyItems:e,customCategories:n,reorderItems:r}=vt(),[a,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("all"),p=pn(fn(sr),fn(nr,{coordinateGetter:da})),g=e.filter(e=>{const t=!u||e.name.toLowerCase().includes(u.toLowerCase()),n="all"===h||e.category===h;return t&&n}),v=[...new Set(e.map(e=>e.category))],y=e=>{c(e),i(!0)},b=e=>{c(e),s(!0)},x=e.length,w=e.filter(e=>0===e.currentStock).length,S=e.filter(e=>e.currentStock>0&&e.currentStock<=e.minLevel).length,k=e.reduce((e,t)=>e+t.cost*t.currentStock,0),N=new Date,_=(8-N.getDay())%7,C=new Date(N);return C.setDate(N.getDate()+_),(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center",children:[(0,j.jsx)(ue,{className:"w-6 h-6 mr-2 text-yellow-600"}),"Weekly Reorder Items"]}),(0,j.jsx)("p",{className:"text-gray-600",children:"Items counted and updated weekly for regular restocking"})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,j.jsx)(z,{className:"w-4 h-4"}),(0,j.jsxs)("span",{children:["Next count: ",C.toLocaleDateString()]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,j.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-yellow-600 font-medium",children:"Total Items"}),(0,j.jsx)("div",{className:"text-2xl font-bold text-yellow-800",children:x})]}),(0,j.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-red-600 font-medium",children:"Critical"}),(0,j.jsx)("div",{className:"text-2xl font-bold text-red-800",children:w})]}),(0,j.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:"Low Stock"}),(0,j.jsx)("div",{className:"text-2xl font-bold text-orange-800",children:S})]}),(0,j.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"Total Value"}),(0,j.jsxs)("div",{className:"text-2xl font-bold text-blue-800",children:["\u20ac",k.toFixed(2)]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,j.jsxs)("button",{onClick:()=>i(!0),className:"bg-blue-500 text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(Z,{className:"w-5 h-5 mr-2"}),"Weekly Count Update"]}),(0,j.jsxs)("button",{onClick:()=>s(!0),className:"bg-orange-500 text-white px-4 py-3 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(X,{className:"w-5 h-5 mr-2"}),"Report Waste"]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,j.jsxs)("div",{className:"p-6 border-b",children:[(0,j.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Weekly Items Status"}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,j.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"all",children:"All Categories"}),v.map(e=>(0,j.jsx)("option",{value:e,className:"capitalize",children:e},e))]}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(fe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,j.jsx)("input",{type:"text",placeholder:"Search weekly items...",value:u,onChange:e=>d(e.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg text-sm w-full sm:w-48 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(u||"all"!==h)&&(0,j.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",g.length," of ",x," weekly items",u&&' matching "'.concat(u,'"'),"all"!==h&&" in ".concat(h," category")]})]}),(0,j.jsx)("div",{className:"p-6",children:0===g.length?(0,j.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,j.jsx)(ue,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,j.jsx)("h3",{className:"text-lg font-medium mb-2",children:u||"all"!==h?"No items match your filters":"No weekly items yet"}),(0,j.jsx)("p",{className:"text-sm",children:u||"all"!==h?"Try adjusting your search or filter criteria":"Add items from the database to start tracking weekly inventory"})]}):(0,j.jsx)(Br,{sensors:p,collisionDetection:Sn,onDragEnd:t=>{const{active:n,over:a}=t;if(n.id!==(null===a||void 0===a?void 0:a.id)){const t=g.findIndex(e=>e.id.toString()===n.id),i=g.findIndex(e=>e.id.toString()===(null===a||void 0===a?void 0:a.id));if(g.length===e.length)r("weekly",t,i);else{const t=e.find(e=>e.id.toString()===n.id),i=e.find(e=>e.id.toString()===(null===a||void 0===a?void 0:a.id));if(t&&i){const n=e.findIndex(e=>e.id===t.id),a=e.findIndex(e=>e.id===i.id);r("weekly",n,a)}}}},children:(0,j.jsx)(ta,{items:g.map(e=>e.id.toString()),strategy:Jr,children:(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(e=>(0,j.jsx)(pa,{item:e,onUpdateCount:y,onReportWaste:b,customCategories:n},e.id))})})})})]}),(0,j.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-6 border border-yellow-200",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[(0,j.jsx)(m,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Weekly Inventory Insights"]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"\ud83d\udcc5 Weekly Patterns"}),(0,j.jsxs)("ul",{className:"text-gray-600 space-y-1",children:[(0,j.jsx)("li",{children:"\u2022 Monitor weekend vs weekday usage"}),(0,j.jsx)("li",{children:"\u2022 Track seasonal demand changes"}),(0,j.jsx)("li",{children:"\u2022 Identify peak consumption days"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"\ud83d\udd04 Reorder Strategy"}),(0,j.jsxs)("ul",{className:"text-gray-600 space-y-1",children:[(0,j.jsx)("li",{children:"\u2022 Set reorder points based on lead times"}),(0,j.jsx)("li",{children:"\u2022 Consider supplier delivery schedules"}),(0,j.jsx)("li",{children:"\u2022 Account for weekend availability"})]})]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"This Week's Turnover"}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Fast Moving:"}),(0,j.jsx)("span",{className:"font-medium",children:e.filter(e=>e.currentStock<.5*e.minLevel).length})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Normal:"}),(0,j.jsx)("span",{className:"font-medium",children:e.filter(e=>e.currentStock>=.5*e.minLevel&&e.currentStock<=e.minLevel).length})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Slow Moving:"}),(0,j.jsx)("span",{className:"font-medium",children:e.filter(e=>e.currentStock>e.minLevel).length})]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Reorder Recommendations"}),(0,j.jsxs)("div",{className:"space-y-2",children:[e.filter(e=>e.currentStock<=e.minLevel).slice(0,3).map(e=>(0,j.jsxs)("div",{className:"text-sm",children:[(0,j.jsx)("div",{className:"font-medium text-gray-700",children:e.name}),(0,j.jsxs)("div",{className:"text-gray-500",children:["Order: ",2*e.minLevel," ",e.unit]})]},e.id)),0===e.filter(e=>e.currentStock<=e.minLevel).length&&(0,j.jsx)("p",{className:"text-gray-500 text-sm",children:"All items adequately stocked"})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Cost Analysis"}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Avg. Cost/Item:"}),(0,j.jsxs)("span",{className:"font-medium",children:["\u20ac",x>0?(k/x).toFixed(2):"0.00"]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Weekly Budget:"}),(0,j.jsxs)("span",{className:"font-medium",children:["\u20ac",(.25*k).toFixed(2)]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Reorder Value:"}),(0,j.jsxs)("span",{className:"font-medium text-orange-600",children:["\u20ac",e.filter(e=>e.currentStock<=e.minLevel).reduce((e,t)=>e+t.cost*t.minLevel,0).toFixed(2)]})]})]})]})]}),a&&(0,j.jsx)(va,{frequency:"weekly",selectedItemId:l,onClose:()=>{i(!1),c(null)}}),o&&(0,j.jsx)(ya,{frequency:"weekly",selectedItemId:l,onClose:()=>{s(!1),c(null)}})]})},wa=()=>{const{monthlyItems:e,customCategories:n,reorderItems:r}=vt(),[a,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("all"),p=pn(fn(sr),fn(nr,{coordinateGetter:da})),m=Ke(n),g=e.filter(e=>{const t=!u||e.name.toLowerCase().includes(u.toLowerCase()),n="all"===h||e.category===h;return t&&n}),v=e=>{c(e),i(!0)},y=e=>{c(e),s(!0)},b=e.length,x=e.filter(e=>0===e.currentStock).length,w=e.filter(e=>e.currentStock>0&&e.currentStock<=e.minLevel).length,S=e.reduce((e,t)=>e+t.cost*t.currentStock,0);return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center",children:[(0,j.jsx)(Q,{className:"w-6 h-6 mr-2 text-green-600"}),"Monthly Bulk Items"]}),(0,j.jsx)("p",{className:"text-gray-600",children:"Items counted and updated monthly for bulk ordering and storage"})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,j.jsx)(ue,{className:"w-4 h-4"}),(0,j.jsxs)("span",{children:["Last monthly count: ",(new Date).toLocaleDateString()]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,j.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"Total Items"}),(0,j.jsx)("div",{className:"text-2xl font-bold text-green-800",children:b})]}),(0,j.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-red-600 font-medium",children:"Critical"}),(0,j.jsx)("div",{className:"text-2xl font-bold text-red-800",children:x})]}),(0,j.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-yellow-600 font-medium",children:"Low Stock"}),(0,j.jsx)("div",{className:"text-2xl font-bold text-yellow-800",children:w})]}),(0,j.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,j.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"Total Value"}),(0,j.jsxs)("div",{className:"text-2xl font-bold text-blue-800",children:["\u20ac",S.toFixed(2)]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,j.jsxs)("button",{onClick:()=>i(!0),className:"bg-blue-500 text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(Z,{className:"w-5 h-5 mr-2"}),"Monthly Count Update"]}),(0,j.jsxs)("button",{onClick:()=>s(!0),className:"bg-orange-500 text-white px-4 py-3 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center",children:[(0,j.jsx)(X,{className:"w-5 h-5 mr-2"}),"Report Waste/Damage"]})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,j.jsxs)("div",{className:"p-6 border-b",children:[(0,j.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Monthly Items Inventory"}),(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,j.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"all",children:"All Categories"}),m.map(e=>(0,j.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(fe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,j.jsx)("input",{type:"text",placeholder:"Search monthly items...",value:u,onChange:e=>d(e.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg text-sm w-full sm:w-48 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(u||"all"!==h)&&(0,j.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",g.length," of ",b," monthly items",u&&' matching "'.concat(u,'"'),"all"!==h&&" in ".concat(h," category")]})]}),(0,j.jsx)("div",{className:"p-6",children:0===g.length?(0,j.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,j.jsx)(Q,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,j.jsx)("h3",{className:"text-lg font-medium mb-2",children:u||"all"!==h?"No items match your filters":"No monthly items yet"}),(0,j.jsx)("p",{className:"text-sm",children:u||"all"!==h?"Try adjusting your search or filter criteria":"Add items from the database to start tracking monthly inventory"})]}):(0,j.jsx)(Br,{sensors:p,collisionDetection:Sn,onDragEnd:t=>{const{active:n,over:a}=t;if(n.id!==(null===a||void 0===a?void 0:a.id)){const t=g.findIndex(e=>e.id.toString()===n.id),i=g.findIndex(e=>e.id.toString()===(null===a||void 0===a?void 0:a.id));if(g.length===e.length)r("monthly",t,i);else{const t=e.find(e=>e.id.toString()===n.id),i=e.find(e=>e.id.toString()===(null===a||void 0===a?void 0:a.id));if(t&&i){const n=e.findIndex(e=>e.id===t.id),a=e.findIndex(e=>e.id===i.id);r("monthly",n,a)}}}},children:(0,j.jsx)(ta,{items:g.map(e=>e.id.toString()),strategy:Jr,children:(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(e=>(0,j.jsx)(pa,{item:e,onUpdateCount:v,onReportWaste:y,customCategories:n},e.id))})})})})]}),(0,j.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 border border-green-200",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[(0,j.jsx)(Q,{className:"w-5 h-5 mr-2 text-green-600"}),"Monthly Inventory Tips"]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"\ud83d\udce6 Bulk Items Management"}),(0,j.jsxs)("ul",{className:"text-gray-600 space-y-1",children:[(0,j.jsx)("li",{children:"\u2022 Review monthly consumption patterns"}),(0,j.jsx)("li",{children:"\u2022 Check expiration dates on bulk items"}),(0,j.jsx)("li",{children:"\u2022 Plan storage space for large orders"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"\ud83d\udcca Cost Optimization"}),(0,j.jsxs)("ul",{className:"text-gray-600 space-y-1",children:[(0,j.jsx)("li",{children:"\u2022 Compare supplier prices monthly"}),(0,j.jsx)("li",{children:"\u2022 Track seasonal price variations"}),(0,j.jsx)("li",{children:"\u2022 Identify bulk discount opportunities"})]})]})]})]}),x>0&&(0,j.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[(0,j.jsxs)("div",{className:"flex items-center mb-3",children:[(0,j.jsx)("div",{className:"p-2 bg-red-100 rounded-lg mr-3",children:(0,j.jsx)(X,{className:"w-5 h-5 text-red-600"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:"Monthly Items Need Attention"}),(0,j.jsxs)("p",{className:"text-red-600 text-sm",children:[x," monthly items are out of stock and may need immediate ordering"]})]})]}),(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.filter(e=>0===e.currentStock).map(e=>(0,j.jsxs)("div",{className:"bg-white p-3 rounded-lg border-l-4 border-red-500",children:[(0,j.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,j.jsxs)("div",{className:"text-sm text-red-600",children:["Out of stock - Min required: ",e.minLevel," ",e.unit]}),(0,j.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:e.category})]},e.id))})]}),a&&(0,j.jsx)(va,{frequency:"monthly",selectedItemId:l,onClose:()=>{i(!1),c(null)}}),o&&(0,j.jsx)(ya,{frequency:"monthly",selectedItemId:l,onClose:()=>{s(!1),c(null)}})]})},Sa=u("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),ka=u("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Na=u("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),_a=(e,t)=>{const n=e.filter((e,t)=>t>0&&e.received>0).map(e=>e.previousStock/t*100);return n.length>0?n.reduce((e,t)=>e+t)/n.length:20},ja=(e,t)=>{const n=[],r=new Date,a="daily"===t?14:"weekly"===t?56:180,i="daily"===t?.2:"weekly"===t?.05:.015;let o=e.currentStock;for(let s=a;s>=0;s--){const t=new Date(r.getTime()-24*s*60*60*1e3),a=.7+.6*Math.random(),l=Math.max(0,e.minLevel*i*a),c=o<=.3*e.minLevel&&Math.random()<.3?e.minLevel*(1.5+Math.random()):0,u=o;o=Math.max(0,o+c-l),n.push({itemId:e.id.toString(),date:t,previousStock:u,currentStock:o,received:c,consumed:l})}return n},Ca=(e,t,n)=>[...e.map(e=>(0,i.A)((0,i.A)({},e),{},{frequency:"daily"})),...t.map(e=>(0,i.A)((0,i.A)({},e),{},{frequency:"weekly"})),...n.map(e=>(0,i.A)((0,i.A)({},e),{},{frequency:"monthly"}))].map(e=>((e,t)=>{const n=e.consumptionHistory||ja(e,t),r=(0,bt.ex)(n,t),a=(0,bt.ch)(e.currentStock,r),o=e.optimalLevel||2*e.minLevel,s=(0,bt.cw)(e.currentStock,e.minLevel,o,r,3),l={itemId:e.id.toString(),averageDailyConsumption:r,daysRemaining:a,recommendedOrderQty:s,usualOrderThreshold:_a(n,e.minLevel)},c=(0,bt.V0)(e.currentStock,e.minLevel);return(0,i.A)((0,i.A)({},e),{},{minimumLevel:e.minLevel,optimalLevel:o,consumptionHistory:n,forecast:l,frequency:t,status:c,daysRemaining:l.daysRemaining,recommendedOrder:l.recommendedOrderQty})})(e,e.frequency)).filter(e=>{const t=(0,bt.V0)(e.currentStock,e.minimumLevel);return["out","critical","low"].includes(t)}).sort((e,t)=>"out"===e.status&&"out"!==t.status?-1:"out"===t.status&&"out"!==e.status?1:(e.daysRemaining||0)-(t.daysRemaining||0)),Ea={NEW_YEAR:{date:"01-01",name:"New Year",floating:!1},EPIPHANY:{date:"01-06",name:"Epiphany",floating:!1},VALENTINES:{date:"02-14",name:"Valentine's Day",floating:!1},EASTER:{date:null,name:"Easter",floating:!0},MAY_DAY:{date:"05-01",name:"Vappu",floating:!1},MIDSUMMER:{date:null,name:"Juhannus",floating:!0},INDEPENDENCE:{date:"12-06",name:"Independence Day",floating:!1},CHRISTMAS:{date:"12-24",name:"Christmas Eve",floating:!1}};var Ta={version:"0.18.5"},Aa=1200,Oa=1252,Ia=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Pa={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Da=function(e){-1!=Ia.indexOf(e)&&(Oa=Pa[0]=e)};var Ma=function(e){Aa=e,Da(e)};function Ra(){Ma(1200),Da(1252)}function La(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Fa,Ua=function(e){return String.fromCharCode(e)},za=function(e){return String.fromCharCode(e)};var Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Wa(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0,c=0;c<e.length;)i=(n=e.charCodeAt(c++))>>2,o=(3&n)<<4|(r=e.charCodeAt(c++))>>4,s=(15&r)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=Ba.charAt(i)+Ba.charAt(o)+Ba.charAt(s)+Ba.charAt(l);return t}function Ha(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=Ba.indexOf(e.charAt(l++))<<2|(i=Ba.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&i)<<4|(o=Ba.indexOf(e.charAt(l++)))>>2,64!==o&&(t+=String.fromCharCode(r)),a=(3&o)<<6|(s=Ba.indexOf(e.charAt(l++))),64!==s&&(t+=String.fromCharCode(a));return t}var Va=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),qa=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ka(e){return Va?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function Ya(e){return Va?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var Ga=function(e){return Va?qa(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function $a(e){if("undefined"===typeof ArrayBuffer)return Ga(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function Xa(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var Qa=Va?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:qa(e)}))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var Ja=/\u0000/g,Za=/[\u0001-\u0006]/g;function ei(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function ti(e,t){var n=""+e;return n.length>=t?n:po("0",t-n.length)+n}function ni(e,t){var n=""+e;return n.length>=t?n:po(" ",t-n.length)+n}function ri(e,t){var n=""+e;return n.length>=t?n:n+po(" ",t-n.length)}var ai=Math.pow(2,32);function ii(e,t){return e>ai||e<-ai?function(e,t){var n=""+Math.round(e);return n.length>=t?n:po("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:po("0",t-n.length)+n}(Math.round(e),t)}function oi(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var si=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],li=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var ci={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},ui={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},di={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hi(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(s=(d=Math.floor(a))*o+i,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=o,o=s,l=c,c=u;if(u>t&&(c>t?(u=l,s=i):(u=c,s=o)),!n)return[0,r*s,u];var h=Math.floor(r*s/u);return[h,r*s-h*u,u]}function fi(e,t,n){if(e>2958465||e<0)return null;var r=0|e,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++a&&(s.T=a=0,++r,++s.D)),60===r)o=n?[1317,10,29]:[1900,2,29],i=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var pi=new Date(1899,11,31,0,0,0),mi=pi.getTime(),gi=new Date(1900,2,1,0,0,0);function vi(e,t){var n=e.getTime();return t?n-=1262304e5:e>=gi&&(n+=864e5),(n-(mi+6e4*(e.getTimezoneOffset()-pi.getTimezoneOffset())))/864e5}function yi(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bi(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=yi(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=yi(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),yi(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function xi(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):bi(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Bi(14,vi(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function wi(e,t,n,r){var a,i="",o=0,s=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=n.m,c=t.length;break;case 3:return li[n.m-1][1];case 5:return li[n.m-1][0];default:return li[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=n.d,c=t.length;break;case 3:return si[n.q][0];default:return si[n.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(s=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(s*(n.S+n.u)))>=60*s&&(o=0),"s"===t?0===o?"0":""+o/s:(i=ti(o,2+r),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):ti(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*n.D+n.H;break;case"[m]":case"[mm]":a=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":a=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?ti(a,c):""}function Si(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var ki=/%/g;function Ni(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Ni(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),-1===(n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(a+i)%a)+"."+r.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var _i=/# (\?+)( ?)\/( ?)(\d+)/;var ji=/^#*0*\.([0#]+)/,Ci=/\).*[0#]/,Ei=/\(###\) ###\\?-####/;function Ti(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function Ai(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Oi(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Ii(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Ci)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ii("n",r,n):"("+Ii("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Mi(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(ki,""),a=t.length-r.length;return Mi(e,r,n*Math.pow(10,2*a))+po("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return Ni(t,n);if(36===t.charCodeAt(0))return"$"+Ii(e,t.substr(" "==t.charAt(1)?2:1),n);var a,i,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+ii(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=ii(n,0))&&(a=""),a.length>t.length?a:Ti(t.substr(0,t.length-a.length))+a;if(i=t.match(_i))return function(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(0===i?"":""+i)+" "+(0===o?po(" ",e[1].length+1+e[4].length):ni(o,e[1].length)+e[2]+"/"+e[3]+ti(s,e[4].length))}(i,l,c);if(t.match(/^#+0+$/))return c+ii(l,t.length-t.indexOf("0"));if(i=t.match(ji))return a=Ai(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Ti(i[1])).replace(/\.$/,"."+Ti(i[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+po("0",Ti(i[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+Ai(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Si(ii(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ii(e,t,-n):Si(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,i[1].length)))+"."+ti(Oi(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ii(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ei(Ii(e,t.replace(/[\\-]/g,""),n)),o=0,ei(ei(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return o<a.length?a.charAt(o++):"0"===e?"0":""}));if(t.match(Ei))return"("+(a=Ii(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=hi(l,Math.pow(10,o)-1,!1),a=""+c," "==(u=Mi("n",i[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=ri(s[2],o)).length<i[4].length&&(u=Ti(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c+((s=hi(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?ni(s[1],o)+i[2]+"/"+i[3]+ri(s[2],o):po(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=ii(n,0),t.length<=a.length?a:Ti(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,h=t.length-a.length-d;return Ti(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Oi(n,i[1].length),n<0?"-"+Ii(e,t,-n):Si(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?ti(0,3-e.length):"")+e})+"."+ti(o,i[1].length);switch(t){case"###,##0.00":return Ii(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=Si(ii(l,0));return"0"!==f?c+f:"";case"###,###.00":return Ii(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ii(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Pi(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Pi(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),!(n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(a+i)%a)+"."+r.substr(i)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Di(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Ci)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Di("n",r,n):"("+Di("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Mi(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(ki,""),a=t.length-r.length;return Mi(e,r,n*Math.pow(10,2*a))+po("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return Pi(t,n);if(36===t.charCodeAt(0))return"$"+Di(e,t.substr(" "==t.charAt(1)?2:1),n);var a,i,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+ti(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,0===n&&(a=""),a.length>t.length?a:Ti(t.substr(0,t.length-a.length))+a;if(i=t.match(_i))return function(e,t,n){return n+(0===t?"":""+t)+po(" ",e[1].length+2+e[4].length)}(i,l,c);if(t.match(/^#+0+$/))return c+ti(l,t.length-t.indexOf("0"));if(i=t.match(ji))return a=(a=(""+n).replace(/^([^\.]+)$/,"$1."+Ti(i[1])).replace(/\.$/,"."+Ti(i[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+po("0",Ti(i[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Si(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Di(e,t,-n):Si(""+n)+"."+po("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Di(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ei(Di(e,t.replace(/[\\-]/g,""),n)),o=0,ei(ei(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return o<a.length?a.charAt(o++):"0"===e?"0":""}));if(t.match(Ei))return"("+(a=Di(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=hi(l,Math.pow(10,o)-1,!1),a=""+c," "==(u=Mi("n",i[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],(u=ri(s[2],o)).length<i[4].length&&(u=Ti(i[4].substr(i[4].length-u.length))+u),a+=u;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c+((s=hi(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?ni(s[1],o)+i[2]+"/"+i[3]+ri(s[2],o):po(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Ti(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,h=t.length-a.length-d;return Ti(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Di(e,t,-n):Si(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?ti(0,3-e.length):"")+e})+"."+ti(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=Si(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return Di(e,t.slice(0,t.lastIndexOf(".")),n)+Ti(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Mi(e,t,n){return(0|n)===n?Di(e,t,n):Ii(e,t,n)}var Ri=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Li(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":oi(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(Ri))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var Fi=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Ui(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function zi(e,t){var n=function(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var i=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,i];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var o=n[0].match(Fi),s=n[1].match(Fi);return Ui(t,o)?[r,n[0]]:Ui(t,s)?[r,n[1]]:[r,n[null!=o&&null!=s?2:1]]}return[r,i]}function Bi(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:ci)[e])&&(r=n.table&&n.table[ui[e]]||ci[ui[e]]),null==r&&(r=di[e]||"General")}if(oi(r,0))return xi(t,n);t instanceof Date&&(t=vi(t,n.date1904));var a=zi(r,t);if(oi(a[1]))return xi(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var a,i,o,s=[],l="",c=0,u="",d="t",h="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!oi(e,c))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(o=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(o);s[s.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";s[s.length]={t:p,v:f},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=fi(t,n,"2"===e.charAt(c+1))))return"";s[s.length]={t:"X",v:e.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=fi(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===d.toLowerCase()&&(u="M"),"h"===u&&(u=h),s[s.length]={t:u,v:l},d=u;break;case"A":case"a":case"\u4e0a":var m={t:u,v:u};if(null==a&&(a=fi(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(m.v=a.H>=12?"P":"A"),m.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"PM":"AM"),m.t="T",c+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",c+=5,h="h"):(m.t="t",++c),null==a&&"T"===m.t)return"";s[s.length]=m,d=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(Ri)){if(null==a&&null==(a=fi(t,n)))return"";s[s.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",Li(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;s[s.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;s[s.length]={t:u,v:l},d=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":s[s.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:u,v:u},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=s.length-1,d="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=h,d="h",v<1&&(v=1);break;case"s":(g=s[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":d=s[c].t;break;case"m":"s"===d&&(s[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[c].v.match(/[Hh]/)&&(v=1),v<2&&s[c].v.match(/[Mm]/)&&(v=2),v<3&&s[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var b,x="";for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=wi(s[c].t.charCodeAt(0),s[c].v,a,y),s[c].t="t";break;case"n":case"?":for(b=c+1;null!=s[b]&&("?"===(u=s[b].t)||"D"===u||(" "===u||"t"===u)&&null!=s[b+1]&&("?"===s[b+1].t||"t"===s[b+1].t&&"/"===s[b+1].v)||"("===s[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[b].v||" "===s[b].v&&null!=s[b+1]&&"?"==s[b+1].t));)s[c].v+=s[b].v,s[b]={v:"",t:";"},++b;x+=s[c].v,c=b-1;break;case"G":s[c].t="t",s[c].v=xi(t,n)}var w,S,k="";if(x.length>0){40==x.charCodeAt(0)?(w=t<0&&45===x.charCodeAt(0)?-t:t,S=Mi("n",x,w)):(S=Mi("n",x,w=t<0&&r>1?-t:t),w<0&&s[0]&&"t"==s[0].t&&(S=S.substr(1),s[0].v="-"+s[0].v)),b=S.length-1;var N=s.length;for(c=0;c<s.length;++c)if(null!=s[c]&&"t"!=s[c].t&&s[c].v.indexOf(".")>-1){N=c;break}var _=s.length;if(N===s.length&&-1===S.indexOf("E")){for(c=s.length-1;c>=0;--c)null!=s[c]&&-1!=="n?".indexOf(s[c].t)&&(b>=s[c].v.length-1?(b-=s[c].v.length,s[c].v=S.substr(b+1,s[c].v.length)):b<0?s[c].v="":(s[c].v=S.substr(0,b+1),b=-1),s[c].t="t",_=c);b>=0&&_<s.length&&(s[_].v=S.substr(0,b+1)+s[_].v)}else if(N!==s.length&&-1===S.indexOf("E")){for(b=S.indexOf(".")-1,c=N;c>=0;--c)if(null!=s[c]&&-1!=="n?".indexOf(s[c].t)){for(i=s[c].v.indexOf(".")>-1&&c===N?s[c].v.indexOf(".")-1:s[c].v.length-1,k=s[c].v.substr(i+1);i>=0;--i)b>=0&&("0"===s[c].v.charAt(i)||"#"===s[c].v.charAt(i))&&(k=S.charAt(b--)+k);s[c].v=k,s[c].t="t",_=c}for(b>=0&&_<s.length&&(s[_].v=S.substr(0,b+1)+s[_].v),b=S.indexOf(".")+1,c=N;c<s.length;++c)if(null!=s[c]&&(-1!=="n?(".indexOf(s[c].t)||c===N)){for(i=s[c].v.indexOf(".")>-1&&c===N?s[c].v.indexOf(".")+1:0,k=s[c].v.substr(0,i);i<s[c].v.length;++i)b<S.length&&(k+=S.charAt(b++));s[c].v=k,s[c].t="t",_=c}}}for(c=0;c<s.length;++c)null!=s[c]&&"n?".indexOf(s[c].t)>-1&&(w=r>1&&t<0&&c>0&&"-"===s[c-1].v?-t:t,s[c].v=Mi(s[c].t,s[c].v,w),s[c].t="t");var j="";for(c=0;c!==s.length;++c)null!=s[c]&&(j+=s[c].v);return j}(a[1],t,n,a[0])}function Wi(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=ci[n]){if(ci[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return ci[t]=e,t}function Hi(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Wi(e[t],t)}function Vi(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',ci=e}var qi=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var Ki=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)a[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=a[t]=n>>>8^e[255&n];var i=[];for(r=1;16!=r;++r)i[r-1]="undefined"!==typeof Int32Array?a.subarray(256*r,256*r+256):a.slice(256*r,256*r+256);return i}(t),r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,a=0,i=e.length;a<i;)r=r>>>8^t[255&(r^e.charCodeAt(a++))];return~r},e.buf=function(e,n){for(var y=-1^n,b=e.length-15,x=0;x<b;)y=v[e[x++]^255&y]^g[e[x++]^y>>8&255]^m[e[x++]^y>>16&255]^p[e[x++]^y>>>24]^f[e[x++]]^h[e[x++]]^d[e[x++]]^u[e[x++]]^c[e[x++]]^l[e[x++]]^s[e[x++]]^o[e[x++]]^i[e[x++]]^a[e[x++]]^r[e[x++]]^t[e[x++]];for(b+=15;x<b;)y=y>>>8^t[255&(y^e[x++])];return~y},e.str=function(e,n){for(var r=-1^n,a=0,i=e.length,o=0,s=0;a<i;)(o=e.charCodeAt(a++))<128?r=r>>>8^t[255&(r^o)]:o<2048?r=(r=r>>>8^t[255&(r^(192|o>>6&31))])>>>8^t[255&(r^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),s=1023&e.charCodeAt(a++),r=(r=(r=(r=r>>>8^t[255&(r^(240|o>>8&7))])>>>8^t[255&(r^(128|o>>2&63))])>>>8^t[255&(r^(128|s>>6&15|(3&o)<<4))])>>>8^t[255&(r^(128|63&s))]):r=(r=(r=r>>>8^t[255&(r^(224|o>>12&15))])>>>8^t[255&(r^(128|o>>6&63))])>>>8^t[255&(r^(128|63&o))];return~r},e}(),Yi=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function i(e){Hs(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),a=e.read_shift(2),i=e.l+a,o={};if(21589===r)1&(n=e.read_shift(1))&&(o.mtime=e.read_shift(4)),a>5&&(2&n&&(o.atime=e.read_shift(4)),4&n&&(o.ctime=e.read_shift(4))),o.mtime&&(o.mt=new Date(1e3*o.mtime));e.l=i,t[r]=o}return t}function o(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=S(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(Va&&Buffer.isBuffer(e)?e.toString("binary"):S(e)).split("\r\n"),a=0,i="";for(a=0;a<r.length;++a)if(i=r[a],/^Content-Location:/i.test(i)&&(i=i.slice(i.indexOf("file")),n||(n=i.slice(0,i.lastIndexOf("/")+1)),i.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),i.slice(0,n.length)!=n););var o=(r[1]||"").match(/boundary="(.*?)"/);if(!o)throw new Error("MAD cannot find boundary");var s="--"+(o[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};h(u);var d,f=0;for(a=0;a<r.length;++a){var p=r[a];p!==s&&p!==s+"--"||(f++&&ce(u,r.slice(d,a),n),d=a)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,a,i,o,s,f=512,p=[],m=e.slice(0,512);Hs(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&Hs(m=e.slice(0,f),28);var b=e.slice(0,f);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var x=m.read_shift(4,"i");if(3===n&&0!==x)throw new Error("# Directory Sectors: Expected 0 saw "+x);m.l+=4,i=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),o=m.read_shift(4,"i"),r=m.read_shift(4,"i"),s=m.read_shift(4,"i"),a=m.read_shift(4,"i");for(var w=-1,k=0;k<109&&!((w=m.read_shift(4,"i"))<0);++k)p[k]=w;var N=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],a=1;a<n;++a)r[a-1]=e.slice(a*t,(a+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);c(s,a,N,f,p);var _=function(e,t,n,r){var a=e.length,i=[],o=[],s=[],l=[],c=r-1,u=0,d=0,h=0,f=0;for(u=0;u<a;++u)if(s=[],(h=u+t)>=a&&(h-=a),!o[h]){l=[];var p=[];for(d=h;d>=0;){p[d]=!0,o[d]=!0,s[s.length]=d,l.push(e[d]);var m=n[Math.floor(4*d/r)];if(r<4+(f=4*d&c))throw new Error("FAT boundary crossed: "+d+" 4 "+r);if(!e[m])break;if(p[d=Ms(e[m],f)])break}i[h]={nodes:s,data:us([l])}}return i}(N,i,p,f);_[i].name="!Directory",r>0&&o!==v&&(_[o].name="!MiniFAT"),_[p[0]].name="!FAT",_.fat_addrs=p,_.ssz=f;var j=[],C=[],E=[];!function(e,t,n,r,a,i,o,s){for(var c,h=0,f=r.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);Hs(y,64),g=y.read_shift(2),c=hs(y,0,g-f),r.push(c);var b={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.ct=d(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.mt=d(y,y.l-8)),b.start=y.read_shift(4,"i"),b.size=y.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=v,b.name=""),5===b.type?(h=b.start,a>0&&h!==v&&(t[h].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=u(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:h!==v&&b.start!==v&&t[h]&&(b.content=l(b,t[h].data,(t[s]||{}).data))),b.content&&Hs(b.content,0),i[c]=b,o.push(b)}}(i,_,N,j,r,{},C,o),function(e,t,n){for(var r=0,a=0,i=0,o=0,s=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;s<u.length;++s)a=e[r=u[s]].L,i=e[r].R,o=e[r].C,c[r]===r&&(-1!==a&&c[a]!==a&&(c[r]=c[a]),-1!==i&&c[i]!==i&&(c[r]=c[i])),-1!==o&&(c[o]=r),-1!==a&&r!=c[r]&&(c[a]=c[r],u.lastIndexOf(a)<s&&u.push(a)),-1!==i&&r!=c[r]&&(c[i]=c[r],u.lastIndexOf(i)<s&&u.push(i));for(r=1;r<l;++r)c[r]===r&&(-1!==i&&c[i]!==i?c[r]=c[i]:-1!==a&&c[a]!==a&&(c[r]=c[a]));for(r=1;r<l;++r)if(0!==e[r].type){if((s=r)!=c[s])do{s=c[s],t[r]=t[s]+"/"+t[r]}while(0!==s&&-1!==c[s]&&s!=c[s]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(C,E,j),j.shift();var T={FileIndex:C,FullPaths:E};return t&&t.raw&&(T.raw={header:b,sectors:N}),T}function l(e,t,n){for(var r=e.start,a=e.size,i=[],o=r;n&&a>0&&o>=0;)i.push(t.slice(o*g,o*g+g)),a-=g,o=Ms(n,4*o);return 0===i.length?qs(0):Qa(i).slice(0,e.size)}function c(e,t,n,r,a){var i=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var o=n[e],s=(r>>>2)-1;if(!o)return;for(var l=0;l<s&&(i=Ms(o,4*l))!==v;++l)a.push(i);c(Ms(o,r-4),t-1,n,r,a)}}function u(e,t,n,r,a){var i=[],o=[];a||(a=[]);var s=r-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,i[i.length]=l,o.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&s))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=Ms(e[u],c)}return{nodes:i,data:us([o])}}function d(e,t){return new Date(1e3*(Ds(e,t+4)/1e7*Math.pow(2,32)+Ds(e,t)/1e7-11644473600))}function h(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(Yi.find(e,"/"+t))return;var n=qs(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){h(e);for(var a=!1,i=!1,o=e.FullPaths.length-1;o>=0;--o){var s=e.FileIndex[o];switch(s.type){case 0:i?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(s.R*s.L*s.C)&&(a=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},d=[];for(o=0;o<e.FullPaths.length;++o)u[e.FullPaths[o]]=!0,0!==e.FileIndex[o].type&&d.push([e.FullPaths[o],e.FileIndex[o]]);for(o=0;o<d.length;++o){var f=n(d[o][0]);(i=u[f])||(d.push([f,{name:r(f).replace("/",""),type:1,clsid:x,ct:l,mt:l,content:null}]),u[f]=!0)}for(d.sort(function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0,i=0,o=Math.min(n.length,r.length);a<o;++a){if(i=n[a].length-r[a].length)return i;if(n[a]!=r[a])return n[a]<r[a]?-1:1}return n.length-r.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],o=0;o<d.length;++o)e.FullPaths[o]=d[o][0],e.FileIndex[o]=d[o][1];for(o=0;o<d.length;++o){var p=e.FileIndex[o],m=e.FullPaths[o];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||x,0===o)p.C=d.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=o+1;c<d.length&&n(e.FullPaths[c])!=m;++c);for(p.C=c>=d.length?-1:c,c=o+1;c<d.length&&n(e.FullPaths[c])!=n(m);++c);p.R=c>=d.length?-1:c,p.type=1}else n(e.FullPaths[o+1]||"")==n(m)&&(p.R=o+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],i=e.FullPaths[0],o=i,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(o=e.FullPaths[l].slice(i.length),(s=e.FileIndex[l]).size&&s.content&&"\x01Sh33tJ5"!=o){o=o.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=s.content,u=Va&&Buffer.isBuffer(c)?c.toString("binary"):S(c),d=0,h=Math.min(1024,u.length),f=0,p=0;p<=h;++p)(f=u.charCodeAt(p))>=32&&f<128&&++d;var m=d>=4*h/5;a.push(r),a.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+o),a.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),a.push("Content-Type: "+oe(s,o)),a.push(""),a.push(m?le(u):se(u))}return a.push(r+"--\r\n"),a.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],i=[],o=qs(1),s=n.compression?8:0,l=0;0;var c=0,u=0,d=0,h=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(m=e.FileIndex[c]).size&&m.content&&"\x01Sh33tJ5"!=p){var y=d,b=qs(p.length);for(u=0;u<p.length;++u)b.write_shift(1,127&p.charCodeAt(u));b=b.slice(0,b.l),g[h]=Ki.buf(m.content,0);var x=m.content;8==s&&(x=k(x)),(o=qs(30)).write_shift(4,67324752),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),m.mt?a(o,m.mt):o.write_shift(4,0),o.write_shift(-4,8&l?0:g[h]),o.write_shift(4,8&l?0:x.length),o.write_shift(4,8&l?0:m.content.length),o.write_shift(2,b.length),o.write_shift(2,0),d+=o.length,r.push(o),d+=b.length,r.push(b),d+=x.length,r.push(x),8&l&&((o=qs(12)).write_shift(-4,g[h]),o.write_shift(4,x.length),o.write_shift(4,m.content.length),d+=o.l,r.push(o)),(o=qs(46)).write_shift(4,33639248),o.write_shift(2,0),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),o.write_shift(4,0),o.write_shift(-4,g[h]),o.write_shift(4,x.length),o.write_shift(4,m.content.length),o.write_shift(2,b.length),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(4,0),o.write_shift(4,y),v+=o.l,i.push(o),v+=b.length,i.push(b),++h}return o=qs(22),o.write_shift(4,101010256),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,h),o.write_shift(2,h),o.write_shift(4,v),o.write_shift(4,d),o.write_shift(2,0),Qa([Qa(r),Qa(i),o])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var a=e.FileIndex[r];if(a.content){var i=a.content.length;i>0&&(i<4096?t+=i+63>>6:n+=i+511>>9)}}for(var o=e.FullPaths.length+3>>2,s=t+127>>7,l=(t+7>>3)+n+o+s,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var d=[1,u,c,s,o,n,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),i=qs(r[7]<<9),o=0,s=0;for(o=0;o<8;++o)i.write_shift(1,b[o]);for(o=0;o<8;++o)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),o=0;o<3;++o)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,r[2]),i.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),i.write_shift(4,r[3]),i.write_shift(-4,r[1]?r[0]-1:v),i.write_shift(4,r[1]),o=0;o<109;++o)i.write_shift(-4,o<r[2]?r[1]+o:-1);if(r[1])for(s=0;s<r[1];++s){for(;o<236+127*s;++o)i.write_shift(-4,o<r[2]?r[1]+o:-1);i.write_shift(-4,s===r[1]-1?v:s+1)}var l=function(e){for(s+=e;o<s-1;++o)i.write_shift(-4,o+1);e&&(++o,i.write_shift(-4,v))};for(s=o=0,s+=r[1];o<s;++o)i.write_shift(-4,w.DIFSECT);for(s+=r[2];o<s;++o)i.write_shift(-4,w.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,d=e.FileIndex[0];c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&((u=d.content.length)<4096||(d.start=s,l(u+511>>9)));for(l(r[6]+7>>3);511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(s=o=0,c=0;c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&(!(u=d.content.length)||u>=4096||(d.start=s,l(u+63>>6)));for(;511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(o=0;o<r[4]<<2;++o){var h=e.FullPaths[o];if(h&&0!==h.length){d=e.FileIndex[o],0===o&&(d.start=d.size?d.start-1:v);var p=0===o&&n.root||d.name;if(u=2*(p.length+1),i.write_shift(64,p,"utf16le"),i.write_shift(2,u),i.write_shift(1,d.type),i.write_shift(1,d.color),i.write_shift(-4,d.L),i.write_shift(-4,d.R),i.write_shift(-4,d.C),d.clsid)i.write_shift(16,d.clsid,"hex");else for(c=0;c<4;++c)i.write_shift(4,0);i.write_shift(4,d.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,d.start),i.write_shift(4,d.size),i.write_shift(4,0)}else{for(c=0;c<17;++c)i.write_shift(4,0);for(c=0;c<3;++c)i.write_shift(4,-1);for(c=0;c<12;++c)i.write_shift(4,0)}}for(o=1;o<e.FileIndex.length;++o)if((d=e.FileIndex[o]).size>=4096)if(i.l=d.start+1<<9,Va&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+511&-512;else{for(c=0;c<d.size;++c)i.write_shift(1,d.content[c]);for(;511&c;++c)i.write_shift(1,0)}for(o=1;o<e.FileIndex.length;++o)if((d=e.FileIndex[o]).size>0&&d.size<4096)if(Va&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+63&-64;else{for(c=0;c<d.size;++c)i.write_shift(1,d.content[c]);for(;63&c;++c)i.write_shift(1,0)}if(Va)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],x="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:x,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function S(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function k(e){return m?m.deflateRawSync(e):G(e)}var N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function C(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var E="undefined"!==typeof Uint8Array,T=E?new Uint8Array(256):[],A=0;A<256;++A)T[A]=C(A);function O(e,t){var n=T[255&e];return t<=8?n>>>8-t:(n=n<<8|T[e>>8&255],t<=16?n>>>16-t:(n=n<<8|T[e>>16&255])>>>24-t)}function I(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function M(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function R(e,t,n){var r=7&t,a=t>>>3,i=(1<<n)-1,o=e[a]>>>r;return n<8-r?o&i:(o|=e[a+1]<<8-r,n<16-r?o&i:(o|=e[a+2]<<16-r,n<24-r?o&i:(o|=e[a+3]<<24-r)&i))}function L(e,t,n){var r=7&t,a=t>>>3;return r<=5?e[a]|=(7&n)<<r:(e[a]|=n<<r&255,e[a+1]=(7&n)>>8-r),t+3}function F(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function U(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function z(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function B(e,t){var n=e.length,r=2*n>t?2*n:t+5,a=0;if(n>=t)return e;if(Va){var i=Ya(r);if(e.copy)e.copy(i);else for(;a<e.length;++a)i[a]=e[a];return i}if(E){var o=new Uint8Array(r);if(o.set)o.set(e);else for(;a<n;++a)o[a]=e[a];return o}return e.length=r,e}function W(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function H(e,t,n){var r=1,a=0,i=0,o=0,s=0,l=e.length,c=E?new Uint16Array(32):W(32);for(i=0;i<32;++i)c[i]=0;for(i=l;i<n;++i)e[i]=0;l=e.length;var u=E?new Uint16Array(l):W(l);for(i=0;i<l;++i)c[a=e[i]]++,r<a&&(r=a),u[i]=0;for(c[0]=0,i=1;i<=r;++i)c[i+16]=s=s+c[i-1]<<1;for(i=0;i<l;++i)0!=(s=e[i])&&(u[i]=c[s+16]++);var d=0;for(i=0;i<l;++i)if(0!=(d=e[i]))for(s=O(u[i],r)>>r-d,o=(1<<r+4-d)-1;o>=0;--o)t[s|o<<d]=15&d|i<<4;return r}var V=E?new Uint16Array(512):W(512),q=E?new Uint16Array(32):W(32);if(!E){for(var K=0;K<512;++K)V[K]=0;for(K=0;K<32;++K)q[K]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);H(e,q,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);H(n,V,288)}();var Y=function(){for(var e=E?new Uint8Array(32768):[],t=0,n=0;t<j.length-1;++t)for(;n<j[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=E?new Uint8Array(259):[];for(t=0,n=0;t<_.length-1;++t)for(;n<_[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),a=n+r==e.length;for(t.write_shift(1,+a),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var a=0,i=0,o=E?new Uint16Array(32768):[];i<t.length;){var s=Math.min(65535,t.length-i);if(s<10){for(7&(a=L(n,a,+!(i+s!=t.length)))&&(a+=8-(7&a)),n.l=a/8|0,n.write_shift(2,s),n.write_shift(2,65535&~s);s-- >0;)n[n.l++]=t[i++];a=8*n.l}else{a=L(n,a,+!(i+s!=t.length)+2);for(var l=0;s-- >0;){var c=t[i],u=-1,d=0;if((u=o[l=32767&(l<<5^c)])&&((u|=-32768&i)>i&&(u-=32768),u<i))for(;t[u+d]==t[i+d]&&d<250;)++d;if(d>2){(c=r[d])<=22?a=U(n,a,T[c+1]>>1)-1:(U(n,a,3),U(n,a+=5,T[c-23]>>5),a+=3);var h=c<8?0:c-4>>2;h>0&&(z(n,a,d-_[c]),a+=h),c=e[i-u],a=U(n,a,T[c]>>3),a-=3;var f=c<4?0:c-2>>1;f>0&&(z(n,a,i-u-j[c]),a+=f);for(var p=0;p<d;++p)o[l]=32767&i,l=32767&(l<<5^t[i]),++i;s-=d-1}else c<=143?c+=48:a=F(n,a,1),a=U(n,a,T[c]),o[l]=32767&i,++i}a=U(n,a,0)-1}}return n.l=(a+7)/8|0,n.l}(t,n)}}();function G(e){var t=qs(50+Math.floor(1.1*e.length)),n=Y(e,t);return t.slice(0,n)}var $=E?new Uint16Array(32768):W(32768),X=E?new Uint16Array(32768):W(32768),Q=E?new Uint16Array(128):W(128),J=1,Z=1;function ee(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,a=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var i=0,o=E?new Uint8Array(19):W(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=E?new Uint8Array(8):W(8),u=E?new Uint8Array(8):W(8),d=o.length,h=0;h<a;++h)o[N[h]]=i=P(e,t),l<i&&(l=i),c[i]++,t+=3;var f=0;for(c[0]=0,h=1;h<=l;++h)u[h]=f=f+c[h-1]<<1;for(h=0;h<d;++h)0!=(f=o[h])&&(s[h]=u[f]++);var p=0;for(h=0;h<d;++h)if(0!=(p=o[h])){f=T[s[h]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)Q[f|m<<p]=7&p|h<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(f=Q[M(e,t)]),f>>>=3){case 16:for(i=3+I(e,t),t+=2,f=g[g.length-1];i-- >0;)g.push(f);break;case 17:for(i=3+P(e,t),t+=3;i-- >0;)g.push(0);break;case 18:for(i=11+M(e,t),t+=7;i-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var v=g.slice(0,n),y=g.slice(n);for(h=n;h<286;++h)v[h]=0;for(h=r;h<30;++h)y[h]=0;return J=H(v,$,286),Z=H(y,X,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[Ka(t),2];for(var n=0,r=0,a=Ya(t||1<<18),i=0,o=a.length>>>0,s=0,l=0;0==(1&r);)if(r=P(e,n),n+=3,r>>>1!=0)for(r>>1==1?(s=9,l=5):(n=ee(e,n),s=J,l=Z);;){!t&&o<i+32767&&(o=(a=B(a,i+32767)).length);var c=R(e,n,s),u=r>>>1==1?V[c]:$[c];if(n+=15&u,0===((u>>>=4)>>>8&255))a[i++]=u;else{if(256==u)break;var d=(u-=257)<8?0:u-4>>2;d>5&&(d=0);var h=i+_[u];d>0&&(h+=R(e,n,d),n+=d),c=R(e,n,l),n+=15&(u=r>>>1==1?q[c]:X[c]);var f=(u>>>=4)<4?0:u-2>>1,p=j[u];for(f>0&&(p+=R(e,n,f),n+=f),!t&&o<h&&(o=(a=B(a,h+100)).length);i<h;)a[i]=a[i-p],++i}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,m>0)for(!t&&o<i+m&&(o=(a=B(a,i+m)).length);m-- >0;)a[i++]=e[n>>>3],n+=8}return t?[a,n+7>>>3]:[a.slice(0,i),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;Hs(n,0);var r={FileIndex:[],FullPaths:[]};h(r,{root:t.root});for(var a=n.length-4;(80!=n[a]||75!=n[a+1]||5!=n[a+2]||6!=n[a+3])&&a>=0;)--a;n.l=a+4,n.l+=4;var o=n.read_shift(2);n.l+=6;var s=n.read_shift(4);for(n.l=s,a=0;a<o;++a){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),d=n.read_shift(2),f=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=i(n.slice(n.l+u,n.l+u+d));n.l+=u+d+f;var g=n.l;n.l=p+4,ae(n,l,c,r,m),n.l=g}return r}function ae(e,t,n,r,a){e.l+=2;var o=e.read_shift(2),s=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,a=31&n,i=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(i-1),r.setDate(a);var o=31&t,s=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(s),r.setSeconds(o<<1),r}(e);if(8257&o)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),d=e.read_shift(2),h=e.read_shift(2),f="",p=0;p<d;++p)f+=String.fromCharCode(e[e.l++]);if(h){var g=i(e.slice(e.l,e.l+h));(g[21589]||{}).mt&&(l=g[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=h;var v=e.slice(e.l,e.l+c);switch(s){case 8:v=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var y=!1;8&o&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&ne(y,"Bad compressed size: "+t+" != "+c),u!=n&&ne(y,"Bad uncompressed size: "+n+" != "+u),ue(r,f,v,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oe(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&ie[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&ie[r[1]]?ie[r[1]]:"application/octet-stream"}function se(e){for(var t=Wa(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<r.length;++a){var i=r[a];if(0!=i.length)for(var o=0;o<i.length;){var s=76,l=i.slice(o,o+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=i.slice(o,o+s),(o+=s)<i.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,a="",i="",o="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":o=c[2].trim();break;case"content-transfer-encoding":i=c[2].trim()}}switch(++s,i.toLowerCase()){case"base64":r=Ga(Ha(t.slice(s).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return Ga(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+i)}var u=ue(e,a.slice(n.length),r,{unsafe:!0});o&&(u.ctype=o)}function ue(e,t,n,a){var i=a&&a.unsafe;i||h(e);var o=!i&&Yi.find(e,t);if(!o){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),o={name:r(t),type:2},e.FileIndex.push(o),e.FullPaths.push(s),i||Yi.utils.cfb_gc(e)}return o.content=n,o.size=n?n.length:0,a&&(a.CLSID&&(o.clsid=a.CLSID),a.mt&&(o.mt=a.mt),a.ct&&(o.ct=a.ct)),o}return t.find=function(e,t){var n=e.FullPaths.map(function(e){return e.toUpperCase()}),r=n.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),a=!1;47===t.charCodeAt(0)?(a=!0,t=n[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var i=t.toUpperCase(),o=!0===a?n.indexOf(i):r.indexOf(i);if(-1!==o)return e.FileIndex[o];var s=!i.match(Za);for(i=i.replace(Ja,""),s&&(i=i.replace(Za,"!")),o=0;o<n.length;++o){if((s?n[o].replace(Za,"!"):n[o]).replace(Ja,"")==i)return e.FileIndex[o];if((s?r[o].replace(Za,"!"):r[o]).replace(Ja,"")==i)return e.FileIndex[o]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||Va&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return o(),s(e.readFileSync(t),n)}(t,n);case"base64":return s(Ga(Ha(t)),n);case"binary":return s(Ga(t),n)}return s(t,n)},t.parse=s,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return o(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:S(r);case"base64":return Wa("string"==typeof r?r:S(r));case"buffer":if(Va)return Buffer.isBuffer(r)?r:qa(r);case"array":return"string"==typeof r?Ga(r):r}return r},t.writeFile=function(t,n,r){o();var a=p(t,r);e.writeFileSync(n,a)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:ue,cfb_del:function(e,t){h(e);var n=Yi.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){h(e);var a=Yi.find(e,t);if(a)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==a)return e.FileIndex[i].name=r(n),e.FullPaths[i]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:Ls,CheckField:Ws,prep_blob:Hs,bconcat:Qa,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(n){console.error("cannot use native zlib: "+(n.message||n))}},_deflateRaw:G,_inflateRaw:te,consts:w},t}();let Gi;function $i(e){return"string"===typeof e?$a(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function Xi(e,t,n){if("undefined"!==typeof Gi&&Gi.writeFileSync)return n?Gi.writeFileSync(e,t,n):Gi.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=$a(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?Mo(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var a=new Blob([$i(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=Xa(t)),s.write(t),s.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Qi(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Ji(e,t){for(var n=[],r=Qi(e),a=0;a!==r.length;++a)null==n[e[r[a]][t]]&&(n[e[r[a]][t]]=r[a]);return n}function Zi(e){for(var t=[],n=Qi(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function eo(e){for(var t=[],n=Qi(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var to=new Date(1899,11,30,0,0,0);function no(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(to.getTime()+6e4*(e.getTimezoneOffset()-to.getTimezoneOffset())))/864e5}var ro=new Date,ao=to.getTime()+6e4*(ro.getTimezoneOffset()-to.getTimezoneOffset()),io=ro.getTimezoneOffset();function oo(e){var t=new Date;return t.setTime(24*e*60*60*1e3+ao),t.getTimezoneOffset()!==io&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-io)),t}var so=new Date("2017-02-19T19:06:09.000Z"),lo=isNaN(so.getFullYear())?new Date("2/19/17"):so,co=2017==lo.getFullYear();function uo(e,t){var n=new Date(e);if(co)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==lo.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)),i}function ho(e,t){if(Va&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return Mo(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Mo(La(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return Mo(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Mo(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(e){return n[e]||e})}catch(i){}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function fo(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=fo(e[n]));return t}function po(e,t){for(var n="";n.length<t;)n+=e;return n}function mo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),isNaN(t=Number(r))?t:t/n):t/n}var go=["january","february","march","april","may","june","july","august","september","october","november","december"];function vo(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==go.indexOf(o))return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function yo(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=Va?qa(n):function(e){for(var t=[],n=0,r=e.length+250,a=Ka(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var s=1023&e.charCodeAt(++i);a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(3&o)<<4,a[n++]=128|63&s}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|63&o;n>r&&(t.push(a.slice(0,n)),n=0,a=Ka(65535),r=65530)}return t.push(a.slice(0,n)),Qa(t)}(n),Yi.utils.cfb_add(e,t,r);Yi.utils.cfb_add(e,t,n)}else e.file(t,n)}function bo(){return Yi.utils.cfb_new()}var xo='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var wo={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},So=Zi(wo),ko=/[&<>'"]/g,No=/[\u0000-\u0008\u000b-\u001f]/g;function _o(e){return(e+"").replace(ko,function(e){return So[e]}).replace(No,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function jo(e){return _o(e).replace(/ /g,"_x0020_")}var Co=/[\u0000-\u001f]/g;function Eo(e){return(e+"").replace(ko,function(e){return So[e]}).replace(/\n/g,"<br/>").replace(Co,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function To(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ao(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(a=e.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&a,t+=String.fromCharCode(o)):(i=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i):(s=((7&r)<<18|(63&a)<<12|(63&i)<<6|63&(o=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function Oo(e){var t,n,r,a=Ka(2*e.length),i=1,o=0,s=0;for(n=0;n<e.length;n+=i)i=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),i=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),i=3):(i=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(a[o++]=255&s,a[o++]=s>>>8,s=0),a[o++]=t%256,a[o++]=t>>>8;return a.slice(0,o).toString("ucs2")}function Io(e){return qa(e,"binary").toString("utf8")}var Po="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Do=Va&&(Io(Po)==Ao(Po)&&Io||Oo(Po)==Ao(Po)&&Oo)||Ao,Mo=Va?function(e){return qa(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},Ro=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}();var Lo=/(^\s|\s$|\n)/;function Fo(e,t){return"<"+e+(t.match(Lo)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Uo(e){return Qi(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function zo(e,t,n){return"<"+e+(null!=n?Uo(n):"")+(null!=t?(t.match(Lo)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Bo(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}var Wo="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Ho="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Vo="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",qo="http://schemas.openxmlformats.org/package/2006/content-types",Ko="http://schemas.openxmlformats.org/package/2006/relationships",Yo="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Go="http://purl.org/dc/elements/1.1/",$o="http://purl.org/dc/terms/",Xo="http://purl.org/dc/dcmitype/",Qo="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Jo="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Zo="http://www.w3.org/2001/XMLSchema-instance",es="http://www.w3.org/2001/XMLSchema",ts=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ns="urn:schemas-microsoft-com:office:office",rs="urn:schemas-microsoft-com:office:excel",as="urn:schemas-microsoft-com:office:spreadsheet",is="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",os="http://macVmlSchemaUri",ss="urn:schemas-microsoft-com:vml",ls="http://www.w3.org/TR/REC-html40";var cs=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,a=e[0][n].length;r<a;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},us=Va?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:qa(e)})):cs(e)}:cs,ds=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Is(e,a)));return r.join("").replace(Ja,"")},hs=Va?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ja,""):ds(e,t,n)}:ds,fs=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},ps=Va?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):fs(e,t,n)}:fs,ms=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(Os(e,a)));return r.join("")},gs=Va?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):ms(e,t,n)}:ms,vs=function(e,t){var n=Ds(e,t);return n>0?gs(e,t+4,t+4+n-1):""},ys=vs,bs=function(e,t){var n=Ds(e,t);return n>0?gs(e,t+4,t+4+n-1):""},xs=bs,ws=function(e,t){var n=2*Ds(e,t);return n>0?gs(e,t+4,t+4+n-1):""},Ss=ws,ks=function(e,t){var n=Ds(e,t);return n>0?hs(e,t+4,t+4+n):""},Ns=ks,_s=function(e,t){var n=Ds(e,t);return n>0?gs(e,t+4,t+4+n):""},js=_s,Cs=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],i=5;i>=0;--i)a=256*a+e[t+i];return 2047==r?0==a?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}(e,t)},Es=Cs,Ts=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function As(){hs=function(e,t,n){return Fa.utils.decode(1200,e.slice(t,n)).replace(Ja,"")},gs=function(e,t,n){return Fa.utils.decode(65001,e.slice(t,n))},ys=function(e,t){var n=Ds(e,t);return n>0?Fa.utils.decode(Oa,e.slice(t+4,t+4+n-1)):""},xs=function(e,t){var n=Ds(e,t);return n>0?Fa.utils.decode(Aa,e.slice(t+4,t+4+n-1)):""},Ss=function(e,t){var n=2*Ds(e,t);return n>0?Fa.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},Ns=function(e,t){var n=Ds(e,t);return n>0?Fa.utils.decode(1200,e.slice(t+4,t+4+n)):""},js=function(e,t){var n=Ds(e,t);return n>0?Fa.utils.decode(65001,e.slice(t+4,t+4+n)):""}}Va&&(ys=function(e,t){if(!Buffer.isBuffer(e))return vs(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},xs=function(e,t){if(!Buffer.isBuffer(e))return bs(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Ss=function(e,t){if(!Buffer.isBuffer(e))return ws(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},Ns=function(e,t){if(!Buffer.isBuffer(e))return ks(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},js=function(e,t){if(!Buffer.isBuffer(e))return _s(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Es=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Cs(e,t)},Ts=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof Fa&&As();var Os=function(e,t){return e[t]},Is=function(e,t){return 256*e[t+1]+e[t]},Ps=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},Ds=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ms=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Rs=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ls(e,t){var n,r,a,i,o,s,l="",c=[];switch(t){case"dbcs":if(s=this.l,Va&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(o=0;o<e;++o)l+=String.fromCharCode(Is(this,s)),s+=2;e*=2;break;case"utf8":l=gs(this,this.l,this.l+e);break;case"utf16le":e*=2,l=hs(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof Fa)return Ls.call(this,e,"dbcs");l=Fa.utils.decode(Aa,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=ys(this,this.l),e=4+Ds(this,this.l);break;case"lpstr-cp":l=xs(this,this.l),e=4+Ds(this,this.l);break;case"lpwstr":l=Ss(this,this.l),e=4+2*Ds(this,this.l);break;case"lpp4":e=4+Ds(this,this.l),l=Ns(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Ds(this,this.l),l=js(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=Os(this,this.l+e++));)c.push(Ua(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=Is(this,this.l+e));)c.push(Ua(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",s=this.l,o=0;o<e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return a=Os(this,s),this.l=s+1,i=Ls.call(this,e-o,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(Ua(Is(this,s))),s+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof Fa){l=Fa.utils.decode(Aa,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",s=this.l,o=0;o!=e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return a=Os(this,s),this.l=s+1,i=Ls.call(this,e-o,a?"dbcs-cont":"sbcs-cont"),c.join("")+i;c.push(Ua(Os(this,s))),s+=1}l=c.join("");break;default:switch(e){case 1:return n=Os(this,this.l),this.l++,n;case 2:return n=("i"===t?Ps:Is)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?Ms:Rs)(this,this.l),this.l+=4,n):(r=Ds(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?Es(this,this.l):Es([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=ps(this,this.l,e)}}return this.l+=e,l}var Fs=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Us=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},zs=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function Bs(e,t,n){var r=0,a=0;if("dbcs"===n){for(a=0;a!=t.length;++a)zs(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof Fa&&874==Oa)for(a=0;a!=t.length;++a){var i=Fa.utils.encode(Oa,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);r=t.length}else{if("hex"===n){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,Fs(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?0==o?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=255&i;e[n+6]=(15&a)<<4|15&i,e[n+7]=a>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,Us(this,t,this.l)}}return this.l+=r,this}function Ws(e,t){var n=ps(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Hs(e,t){e.l=t,e.read_shift=Ls,e.chk=Ws,e.write_shift=Bs}function Vs(e,t){e.l+=t}function qs(e){var t=Ka(e);return Hs(t,0),t}function Ks(){var e=[],t=Va?256:2048,n=function(e){var t=qs(e);return Hs(t,0),t},r=n(t),a=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},i=function(e){return r&&e<r.length-r.l?r:(a(),r=n(Math.max(e+1,t)))};return{next:i,push:function(e){a(),null==(r=e).l&&(r.l=r.length),i(t)},end:function(){return a(),Qa(e)},_bufs:e}}function Ys(e,t,n,r){var a,i=+t;if(!isNaN(i)){r||(r=lh[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,128+(127&i)),o.write_shift(1,i>>7));for(var s=0;4!=s;++s){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,128+(127&r)),r>>=7}r>0&&Ts(n)&&e.push(n)}}function Gs(e,t,n){var r=fo(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function $s(e,t,n){var r=fo(e);return r.s=Gs(r.s,t.s,n),r.e=Gs(r.e,t.s,n),r}function Xs(e,t){if(e.cRel&&e.c<0)for(e=fo(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fo(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=rl(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function Qs(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?Xs(e.s,t.biff)+":"+Xs(e.e,t.biff):(e.s.rRel?"":"$")+Zs(e.s.r)+":"+(e.e.rRel?"":"$")+Zs(e.e.r):(e.s.cRel?"":"$")+tl(e.s.c)+":"+(e.e.cRel?"":"$")+tl(e.e.c)}function Js(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Zs(e){return""+(e+1)}function el(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function tl(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function nl(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function rl(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function al(e){var t=e.indexOf(":");return-1==t?{s:nl(e),e:nl(e)}:{s:nl(e.slice(0,t)),e:nl(e.slice(t+1))}}function il(e,t){return"undefined"===typeof t||"number"===typeof t?il(e.s,e.e):("string"!==typeof e&&(e=rl(e)),"string"!==typeof t&&(t=rl(t)),e==t?e:e+":"+t)}function ol(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function sl(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Bi(e.z,n?no(t):t)}catch(r){}try{return e.w=Bi((e.XF||{}).numFmtId||(n?14:0),n?no(t):t)}catch(r){return""+t}}function ll(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?Hl[e.v]||e.v:sl(e,void 0==t?e.v:t))}function cl(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function ul(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense;var i=e||(a?[]:{}),o=0,s=0;if(i&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var l="string"==typeof r.origin?nl(r.origin):r.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ol(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==o&&(c.e.r=o=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var f={v:t[d][h]},p=o+d,m=s+h;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||ci[14],r.cellDates?(f.t="d",f.w=Bi(f.z,no(f.v))):(f.t="n",f.v=no(f.v),f.w=Bi(f.z,f.v))):f.t="s";else f=t[d][h];if(a)i[p]||(i[p]=[]),i[p][m]&&i[p][m].z&&(f.z=i[p][m].z),i[p][m]=f;else{var g=rl({c:m,r:p});i[g]&&i[g].z&&(f.z=i[g].z),i[g]=f}}}return c.s.c<1e7&&(i["!ref"]=il(c)),i}function dl(e,t){return ul(null,e,t)}function hl(e,t){return t||(t=qs(4)),t.write_shift(4,e),t}function fl(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function pl(e,t){var n=!1;return null==t&&(n=!0,t=qs(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function ml(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function gl(e,t){var n=e.l,r=e.read_shift(1),a=fl(e),i=[],o={t:a,h:a};if(0!==(1&r)){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(ml(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var vl=gl;function yl(e,t){var n=!1;return null==t&&(n=!0,t=qs(23+4*e.t.length)),t.write_shift(1,1),pl(e.t,t),t.write_shift(4,1),function(e,t){t||(t=qs(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function bl(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function xl(e,t){return null==t&&(t=qs(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function wl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Sl(e,t){return null==t&&(t=qs(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var kl=fl,Nl=pl;function _l(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function jl(e,t){var n=!1;return null==t&&(n=!0,t=qs(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var Cl=fl,El=_l,Tl=jl;function Al(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var a=0===r?Es([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Ms(t,0)>>2;return n?a/100:a}function Ol(e,t){null==t&&(t=qs(4));var n=0,r=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?a:e)<<2)+(n+2))}function Il(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Pl=Il,Dl=function(e,t){return t||(t=qs(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Ml(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Rl(e,t){return(t||qs(8)).write_shift(8,e,"f")}function Ll(e,t){if(t||(t=qs(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var Fl=80,Ul={1:{n:"CodePage",t:2},2:{n:"Category",t:Fl},3:{n:"PresentationFormat",t:Fl},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:Fl},15:{n:"Company",t:Fl},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:Fl},27:{n:"ContentStatus",t:Fl},28:{n:"Language",t:Fl},29:{n:"Version",t:Fl},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},zl={1:{n:"CodePage",t:2},2:{n:"Title",t:Fl},3:{n:"Subject",t:Fl},4:{n:"Author",t:Fl},5:{n:"Keywords",t:Fl},6:{n:"Comments",t:Fl},7:{n:"Template",t:Fl},8:{n:"LastAuthor",t:Fl},9:{n:"RevNumber",t:Fl},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:Fl},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Bl(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var Wl=fo(Bl([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Hl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Vl={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ql={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Kl(e,t){var n,r=function(e){for(var t=[],n=Qi(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(Vl),a=[];a[a.length]=xo,a[a.length]=zo("Types",null,{xmlns:qo,"xmlns:xsd":es,"xmlns:xsi":Zo}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return zo("Default",null,{Extension:e[0],ContentType:e[1]})}));var i=function(r){e[r]&&e[r].length>0&&(n=e[r][0],a[a.length]=zo("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:ql[r][t.bookType]||ql[r].xlsx}))},o=function(n){(e[n]||[]).forEach(function(e){a[a.length]=zo("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:ql[n][t.bookType]||ql[n].xlsx})})},s=function(t){(e[t]||[]).forEach(function(e){a[a.length]=zo("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})})};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Yl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Gl(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function $l(e){var t=[xo,zo("Relationships",null,{xmlns:Ko})];return Qi(e["!id"]).forEach(function(n){t[t.length]=zo("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Xl(e,t,n,r,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,i?a.TargetMode=i:[Yl.HLINK,Yl.XPATH,Yl.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Ql(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Jl(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Zl(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ta.version+"</meta:generator></office:meta></office:document-meta>"}var ec=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tc(e,t,n,r,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=_o(t),r[r.length]=n?zo(e,t,n):Fo(e,t))}function nc(e,t){var n=t||{},r=[xo,zo("cp:coreProperties",null,{"xmlns:cp":Wo,"xmlns:dc":Go,"xmlns:dcterms":$o,"xmlns:dcmitype":Xo,"xmlns:xsi":Zo})],a={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&tc("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:Bo(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),null!=e.ModifiedDate&&tc("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:Bo(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var i=0;i!=ec.length;++i){var o=ec[i],s=n.Props&&null!=n.Props[o[1]]?n.Props[o[1]]:e?e[o[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&tc(o[0],s,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var rc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ac=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ic(e){var t=[],n=zo;return e||(e={}),e.Application="SheetJS",t[t.length]=xo,t[t.length]=zo("Properties",null,{xmlns:Vo,"xmlns:vt":Jo}),rc.forEach(function(r){if(void 0!==e[r[1]]){var a;switch(r[2]){case"string":a=_o(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false"}void 0!==a&&(t[t.length]=n(r[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+_o(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function oc(e){var t=[xo,zo("Properties",null,{xmlns:Ho,"xmlns:vt":Jo})];if(!e)return t.join("");var n=1;return Qi(e).forEach(function(r){++n,t[t.length]=zo("property",function(e,t){switch(typeof e){case"string":var n=zo("vt:lpwstr",_o(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return zo((0|e)==e?"vt:i4":"vt:r8",_o(String(e)));case"boolean":return zo("vt:bool",e?"true":"false")}if(e instanceof Date)return zo("vt:filetime",Bo(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:_o(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var sc={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function lc(e,t){var n=qs(4),r=qs(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=qs(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var a=(n*=1e7)/Math.pow(2,32)|0;a>0&&(n%=Math.pow(2,32),r+=a);var i=qs(8);return i.write_shift(4,n),i.write_shift(4,r),i}(t);break;case 31:case 80:for((r=qs(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Qa([n,r])}var cc=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function uc(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function dc(e,t,n){var r=qs(8),a=[],i=[],o=8,s=0,l=qs(8),c=qs(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),o+=8+l.length,!t){(c=qs(8)).write_shift(4,0),a.unshift(c);var u=[qs(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];for((l=qs(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,s+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Qa(u),i.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(cc.indexOf(e[s][0])>-1||ac.indexOf(e[s][0])>-1)&&null!=e[s][1]){var h=e[s][1],f=0;if(t){var p=n[f=+t[e[s][0]]];if("version"==p.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=lc(p.t,h)}else{var g=uc(h);-1==g&&(g=31,h=String(h)),l=lc(g,h)}i.push(l),(c=qs(8)).write_shift(4,t?f:2+s),a.push(c),o+=8+l.length}var v=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,v),v+=i[s].length;return r.write_shift(4,o),r.write_shift(4,i.length),Qa([r].concat(a).concat(i))}function hc(e,t,n,r,a,i){var o=qs(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Yi.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var l=dc(e,n,r);if(s.push(l),a){var c=dc(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),s.push(c)}return Qa(s)}function fc(e,t){return 1===e.read_shift(t)}function pc(e,t){return t||(t=qs(2)),t.write_shift(2,+!!e),t}function mc(e){return e.read_shift(2,"u")}function gc(e,t){return t||(t=qs(2)),t.write_shift(2,e),t}function vc(e,t,n){return n||(n=qs(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function yc(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont",i=Aa;(n&&n.biff>=8&&(Aa=1200),n&&8!=n.biff)?12==n.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return Aa=i,o}function bc(e){var t=e.t||"",n=qs(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=qs(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),Qa([n,r])}function xc(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function wc(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):xc(e,r,n)}function Sc(e,t,n){if(n.biff>5)return wc(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function kc(e,t,n){return n||(n=qs(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function Nc(e,t){t||(t=qs(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function _c(e){var t=qs(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var a=r.indexOf("#"),i=a>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(28==i)Nc(r=r.slice(1),t);else if(2&i){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var s=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),8&i&&Nc(a>-1?r.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function jc(e,t,n,r){return r||(r=qs(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function Cc(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function Ec(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function Tc(e,t){return t||(t=qs(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ac(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;default:throw new Error("unsupported BIFF version")}var i=qs(a);return i.write_shift(2,r),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Oc(e,t){var n=!t||t.biff>=8?2:1,r=qs(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function Ic(e,t,n,r){var a=n&&5==n.biff;r||(r=qs(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return null==i.l&&(i.l=i.length),i}function Pc(e,t,n,r){var a=n&&5==n.biff;r||(r=qs(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function Dc(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=yc(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);0!==i--;)r.push(Cc(e,n.biff,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function Mc(e){var t=qs(24),n=nl(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return Qa([t,_c(e[1])])}function Rc(e){var t=e[1].Tooltip,n=qs(10+2*(t.length+1));n.write_shift(2,2048);var r=nl(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function Lc(e,t,n){if(!n.cellStyles)return Vs(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:a,e:i,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var Fc=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Zi({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var a=dl(function(t,n){var r=[],a=Ka(1);switch(n.type){case"base64":a=Ga(Ha(t));break;case"binary":a=Ga(t);break;case"buffer":case"array":a=t}Hs(a,0);var i=a.read_shift(1),o=!!(136&i),s=!1,l=!1;switch(i){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,o=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+i.toString(16))}var c=0,u=521;2==i&&(c=a.read_shift(2)),a.l+=3,2!=i&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=i&&(u=a.read_shift(2));var d=a.read_shift(2),h=n.codepage||1252;2!=i&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(h=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var f=[],p={},m=Math.min(a.length,2==i?521:u-10-(s?264:0)),g=l?32:11;a.l<m&&13!=a[a.l];)switch((p={}).name=Fa.utils.decode(h,a.slice(a.l,a.l+g)).replace(/[\u0000\r\n].*$/g,""),a.l+=g,p.type=String.fromCharCode(a.read_shift(1)),2==i||l||(p.offset=a.read_shift(4)),p.len=a.read_shift(1),2==i&&(p.offset=a.read_shift(2)),p.dec=a.read_shift(1),p.name.length&&f.push(p),2!=i&&(a.l+=l?13:14),p.type){case"B":s&&8==p.len||!n.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==a[a.l]&&(a.l=u-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=f.length;++y)r[0][y]=f[y].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,r[++v]=[],y=0,y=0;y!=f.length;++y){var b=a.slice(a.l,a.l+f[y].len);a.l+=f[y].len,Hs(b,0);var x=Fa.utils.decode(h,b);switch(f[y].type){case"C":x.trim().length&&(r[v][y]=x.replace(/\s+$/,""));break;case"D":8===x.length?r[v][y]=new Date(+x.slice(0,4),+x.slice(4,6)-1,+x.slice(6,8)):r[v][y]=x;break;case"F":r[v][y]=parseFloat(x.trim());break;case"+":case"I":r[v][y]=l?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(x.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+x+"|")}break;case"M":if(!o)throw new Error("DBF Unexpected MEMO for type "+i.toString(16));r[v][y]="##MEMO##"+(l?parseInt(x.trim(),10):b.read_shift(4));break;case"N":(x=x.replace(/\u0000/g,"").trim())&&"."!=x&&(r[v][y]=+x||0);break;case"@":r[v][y]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[v][y]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-b.read_shift(-8,"f");break;case"B":if(s&&8==f[y].len){r[v][y]=b.read_shift(8,"f");break}case"G":case"P":b.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else a.l+=d;if(2!=i&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return a["!cols"]=r.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete r.DBF,a}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return cl(n(e,t),t)}catch(r){if(t&&t.WTF)throw r}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var a=n||{};if(+a.codepage>=0&&Ma(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var i=Ks(),o=of(e,{header:1,raw:!0,cellDates:!0}),s=o[0],l=o.slice(1),c=e["!cols"]||[],u=0,d=0,h=0,f=1;for(u=0;u<s.length;++u)if(((c[u]||{}).DBF||{}).name)s[u]=c[u].DBF.name,++h;else if(null!=s[u]){if(++h,"number"===typeof s[u]&&(s[u]=s[u].toString(10)),"string"!==typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(d=0;d<1024;++d)if(-1==s.indexOf(s[u]+"_"+d)){s[u]+="_"+d;break}}var p=ol(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",b="",x=0,w=[];for(d=0;d<l.length;++d)null!=l[d][u]&&w.push(l[d][u]);if(0!=w.length&&null!=s[u]){for(d=0;d<w.length;++d){switch(typeof w[d]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=w[d]instanceof Date?"D":"C"}x=Math.max(x,String(w[d]).length),y=y&&y!=b?"C":b}x>250&&(x=250),"C"==(b=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>x&&(x=c[u].DBF.len),"B"==y&&"N"==b&&(y="N",v[u]=c[u].DBF.dec,x=c[u].DBF.len),g[u]="C"==y||"N"==b?x:r[y]||0,f+=g[u],m[u]=y}else m[u]="?"}var S=i.next(32);for(S.write_shift(4,318902576),S.write_shift(4,l.length),S.write_shift(2,296+32*h),S.write_shift(2,f),u=0;u<4;++u)S.write_shift(4,0);for(S.write_shift(4,(+t[Oa]||3)<<8),u=0,d=0;u<s.length;++u)if(null!=s[u]){var k=i.next(32),N=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,N,"sbcs"),k.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),k.write_shift(4,d),k.write_shift(1,g[u]||r[m[u]]||0),k.write_shift(1,v[u]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),d+=g[u]||r[m[u]]||0}var _=i.next(264);for(_.write_shift(4,13),u=0;u<65;++u)_.write_shift(4,0);for(u=0;u<l.length;++u){var j=i.next(f);for(j.write_shift(1,0),d=0;d<s.length;++d)if(null!=s[d])switch(m[d]){case"L":j.write_shift(1,null==l[u][d]?63:l[u][d]?84:70);break;case"B":j.write_shift(8,l[u][d]||0,"f");break;case"N":var C="0";for("number"==typeof l[u][d]&&(C=l[u][d].toFixed(v[d]||0)),h=0;h<g[d]-C.length;++h)j.write_shift(1,32);j.write_shift(1,C,"sbcs");break;case"D":l[u][d]?(j.write_shift(4,("0000"+l[u][d].getFullYear()).slice(-4),"sbcs"),j.write_shift(2,("00"+(l[u][d].getMonth()+1)).slice(-2),"sbcs"),j.write_shift(2,("00"+l[u][d].getDate()).slice(-2),"sbcs")):j.write_shift(8,"00000000","sbcs");break;case"C":var E=String(null!=l[u][d]?l[u][d]:"").slice(0,g[d]);for(j.write_shift(1,E,"sbcs"),h=0;h<g[d]-E.length;++h)j.write_shift(1,32)}}return i.next(1).write_shift(1,26),i.end()}}}(),Uc=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Qi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?za(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:za(r)};function a(e,a){var i,o=e.split(/[\n\r]+/),s=-1,l=-1,c=0,u=0,d=[],h=[],f=null,p={},m=[],g=[],v=[],y=0;for(+a.codepage>=0&&Ma(+a.codepage);c!==o.length;++c){y=0;var b,x=o[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=x.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),S=w[0];if(x.length>0)switch(S){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&h.push(x.slice(3).replace(/;;/g,";"));break;case"C":var k=!1,N=!1,_=!1,j=!1,C=-1,E=-1;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[u].slice(1))-1,N=!0;break;case"Y":for(s=parseInt(w[u].slice(1))-1,N||(l=0),i=d.length;i<=s;++i)d[i]=[];break;case"K":'"'===(b=w[u].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(mo(b))?isNaN(vo(b).getDate())||(b=uo(b)):(b=mo(b),null!==f&&Li(f)&&(b=oo(b))),"undefined"!==typeof Fa&&"string"==typeof b&&"string"!=(a||{}).type&&(a||{}).codepage&&(b=Fa.utils.decode(a.codepage,b)),k=!0;break;case"E":j=!0;var T=Au(w[u].slice(1),{r:s,c:l});d[s][l]=[d[s][l],T];break;case"S":_=!0,d[s][l]=[d[s][l],"S5S"];break;case"R":C=parseInt(w[u].slice(1))-1;break;case"C":E=parseInt(w[u].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}if(k&&(d[s][l]&&2==d[s][l].length?d[s][l][0]=b:d[s][l]=b,f=null),_){if(j)throw new Error("SYLK shared formula cannot have own formula");var A=C>-1&&d[C][E];if(!A||!A[1])throw new Error("SYLK shared formula cannot find base");d[s][l][1]=Pu(A[1],{r:s-C,c:l-E})}break;case"F":var O=0;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"X":l=parseInt(w[u].slice(1))-1,++O;break;case"Y":for(s=parseInt(w[u].slice(1))-1,i=d.length;i<=s;++i)d[i]=[];break;case"M":y=parseInt(w[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=h[parseInt(w[u].slice(1))];break;case"W":for(v=w[u].slice(1).split(" "),i=parseInt(v[0],10);i<=parseInt(v[1],10);++i)y=parseInt(v[2],10),g[i-1]=0===y?{hidden:!0}:{wch:y},nu(g[i-1]);break;case"C":g[l=parseInt(w[u].slice(1))-1]||(g[l]={});break;case"R":m[s=parseInt(w[u].slice(1))-1]||(m[s]={}),y>0?(m[s].hpt=y,m[s].hpx=iu(y)):0===y&&(m[s].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}O<1&&(f=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),[d,p]}function i(e,t){var n=function(e,t){switch(t.type){case"base64":return a(Ha(e),t);case"binary":return a(e,t);case"buffer":return a(Va&&Buffer.isBuffer(e)?e.toString("binary"):Xa(e),t);case"array":return a(ho(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],i=n[1],o=dl(r,t);return Qi(i).forEach(function(e){o[e]=i[e]}),o}function o(e,t,n,r){var a="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+Iu(e.f,{r:n,c:r}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return cl(i(e,t),t)},to_sheet:i,from_sheet:function(e,t){var n,r,a=["ID;PWXL;N;E"],i=[],s=ol(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=a,e["!cols"].forEach(function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=Zc(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=eu(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)})),e["!rows"]&&function(e,t){t.forEach(function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*au(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))})}(a,e["!rows"]),a.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var d=s.s.c;d<=s.e.c;++d){var h=rl({r:u,c:d});(n=l?(e[u]||[])[d]:e[h])&&(null!=n.v||n.f&&!n.F)&&i.push(o(n,0,u,d))}return a.join(c)+c+i.join(c)+c+"E"+c}}}(),zc=function(){function e(e,t){for(var n=e.split("\n"),r=-1,a=-1,i=0,o=[];i!==n.length;++i)if("BOT"!==n[i].trim()){if(!(r<0)){for(var s=n[i].trim().split(","),l=s[0],c=s[1],u=n[++i]||"";1&(u.match(/["]/g)||[]).length&&i<n.length-1;)u+="\n"+n[++i];switch(u=u.trim(),+l){case-1:if("BOT"===u){o[++r]=[],a=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?o[r][a]=!0:"FALSE"===u?o[r][a]=!1:isNaN(mo(c))?isNaN(vo(c).getDate())?o[r][a]=c:o[r][a]=uo(c):o[r][a]=mo(c),++a;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),o[r][a++]=""!==u?u:null}if("EOD"===u)break}}else o[++r]=[],a=0;return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}function t(t,n){return dl(function(t,n){switch(n.type){case"base64":return e(Ha(t),n);case"binary":return e(t,n);case"buffer":return e(Va&&Buffer.isBuffer(t)?t.toString("binary"):Xa(t),n);case"array":return e(ho(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,a){e.push(t),e.push(n+","+r),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,a=[],i=ol(n["!ref"]),o=Array.isArray(n);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,i.e.r-i.s.r+1,""),e(a,"TUPLES",0,i.e.c-i.s.c+1,""),e(a,"DATA",0,0,"");for(var s=i.s.r;s<=i.e.r;++s){t(a,-1,0,"BOT");for(var l=i.s.c;l<=i.e.c;++l){var c=rl({r:s,c:l});if(r=o?(n[s]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(a,1,0,"="+r.f):t(a,1,0,""):t(a,0,u,"V");break;case"b":t(a,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=Bi(r.z||ci[14],no(uo(r.v)))),t(a,0,r.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}();return{to_workbook:function(e,n){return cl(t(e,n),n)},to_sheet:t,from_sheet:n}}(),Bc=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return dl(function(t,n){for(var r=t.split("\n"),a=-1,i=-1,o=0,s=[];o!==r.length;++o){var l=r[o].trim().split(":");if("cell"===l[0]){var c=nl(l[1]);if(s.length<=c.r)for(a=s.length;a<=c.r;++a)s[a]||(s[a]=[]);switch(a=c.r,i=c.c,l[2]){case"t":s[a][i]=e(l[3]);break;case"v":s[a][i]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":"nl"===l[3]?s[a][i]=!!+l[4]:s[a][i]=+l[4],"vtf"==l[2]&&(s[a][i]=[s[a][i],u])}}}return n&&n.sheetRows&&(s=s.slice(0,n.sheetRows)),s}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),o="--SocialCalcSpreadsheetControlSave--";function s(e){if(!e||!e["!ref"])return"";for(var n,r=[],a=[],i="",o=al(e["!ref"]),s=Array.isArray(e),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c)if(i=rl({r:l,c:c}),(n=s?(e[l]||[])[c]:e[i])&&null!=n.v&&"z"!==n.t){switch(a=["cell",i,"t"],n.t){case"s":case"str":a.push(t(n.v));break;case"n":n.f?(a[2]="vtf",a[3]="n",a[4]=n.v,a[5]=t(n.f)):(a[2]="v",a[3]=n.v);break;case"b":a[2]="vt"+(n.f?"f":"c"),a[3]="nl",a[4]=n.v?"1":"0",a[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=no(uo(n.v));a[2]="vtc",a[3]="nd",a[4]=""+u,a[5]=n.w||Bi(n.z||ci[14],u);break;case"e":continue}r.push(a.join(":"))}return r.push("sheet:c:"+(o.e.c-o.s.c+1)+":r:"+(o.e.r-o.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return cl(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,a,i,a,s(e),o].join("\n")}}}(),Wc=function(){function e(e,t,n,r,a){a.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(mo(e))?isNaN(vo(e).getDate())?t[n][r]=e:t[n][r]=uo(e):t[n][r]=mo(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},a=!1,i=0,o=0;i<e.length;++i)34==(o=e.charCodeAt(i))?a=!a:!a&&o in t&&(r[o]=(r[o]||0)+1);for(i in o=[],r)Object.prototype.hasOwnProperty.call(r,i)&&o.push([r[i],i]);if(!o.length)for(i in r=n)Object.prototype.hasOwnProperty.call(r,i)&&o.push([r[i],i]);return o.sort(function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]}),t[o.pop()[1]]||44}function a(e,t){var n=t||{},a="";var i=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=r(e.slice(0,1024)):a=n&&n.FS?n.FS:r(e.slice(0,1024));var s=0,l=0,c=0,u=0,d=0,h=a.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=n.dateNF?function(e){var t="number"==typeof e?ci[e]:e;return t=t.replace(qi,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function v(){var t=e.slice(u,d),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=mo(t)))if(!isNaN(vo(t).getDate())||g&&t.match(g)){r.z=n.dateNF||ci[14];var a=0;g&&t.match(g)&&(t=function(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(qi)||[]).forEach(function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":i=c;break;case"h":o=c;break;case"s":l=c;break;case"m":o>=0?s=c:a=c}}),l>=0&&-1==s&&a>=0&&(s=a,a=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==o&&-1==s&&-1==l?c:-1==r&&-1==a&&-1==i?u:c+"T"+u}(0,n.dateNF,t.match(g)||[]),a=1),n.cellDates?(r.t="d",r.v=uo(t,a)):(r.t="n",r.v=no(uo(t,a))),!1!==n.cellText&&(r.w=Bi(r.z,r.v instanceof Date?no(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(i[s]||(i[s]=[]),i[s][l]=r):i[rl({c:l,r:s})]=r),u=d+1,m=e.charCodeAt(u),o.e.c<l&&(o.e.c=l),o.e.r<s&&(o.e.r=s),p==h)++l;else if(l=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}e:for(;d<e.length;++d)switch(p=e.charCodeAt(d)){case 34:34===m&&(f=!f);break;case h:case 10:case 13:if(!f&&v())break e}return d-u>0&&v(),i["!ref"]=il(o),i}function i(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,n):dl(function(t,n){var r=n||{},a=[];if(!t||0===t.length)return a;for(var i=t.split(/[\r\n]/),o=i.length-1;o>=0&&0===i[o].length;)--o;for(var s=10,l=0,c=0;c<=o;++c)-1==(l=i[c].indexOf(" "))?l=i[c].length:l++,s=Math.max(s,l);for(c=0;c<=o;++c){a[c]=[];var u=0;for(e(i[c].slice(0,s).trim(),a,c,u,r),u=1;u<=(i[c].length-s)/10+1;++u)e(i[c].slice(s+10*(u-1),s+10*u).trim(),a,c,u,r)}return r.sheetRows&&(a=a.slice(0,r.sheetRows)),a}(t,n),n):a(t,n)}function o(e,t){var n="",r="string"==t.type?[0,0,0,0]:Qh(e,t);switch(t.type){case"base64":n=Ha(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof Fa?Fa.utils.decode(t.codepage,e):Va&&Buffer.isBuffer(e)?e.toString("binary"):Xa(e);break;case"array":n=ho(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=Do(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=Do(n):"binary"==t.type&&"undefined"!==typeof Fa&&t.codepage&&(n=Fa.utils.decode(t.codepage,Fa.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?Bc.to_sheet("string"==t.type?n:Do(n),t):i(n,t)}return{to_workbook:function(e,t){return cl(o(e,t),t)},to_sheet:o,from_sheet:function(e){for(var t,n=[],r=ol(e["!ref"]),a=Array.isArray(e),i=r.s.r;i<=r.e.r;++i){for(var o=[],s=r.s.c;s<=r.e.c;++s){var l=rl({r:i,c:s});if((t=a?(e[i]||[])[s]:e[l])&&null!=t.v){for(var c=(t.w||(ll(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";o.push(c+(0===s?" ":""))}else o.push("          ")}n.push(o.join(""))}return n.join("\n")}}}();var Hc=function(){function e(e,t,n){if(e){Hs(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var a=e.read_shift(2),i=r[a]||r[65535],o=e.read_shift(2),s=e.l+o,l=i.f&&i.f(e,o,n);if(e.l=s,t(l,i,a))return}}}function t(t,n){if(!t)return t;var r=n||{};var a=r.dense?[]:{},i="Sheet1",o="",s=0,l={},c=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:d=e;break;case 204:e&&(o=e);break;case 222:o=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||ci[14],r.cellDates&&(e[1].t="d",e[1].v=oo(e[1].v))),r.qpro&&e[3]>s&&(a["!ref"]=il(d),l[i]=a,c.push(i),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],i=o||"Sheet"+(s+1),o="");var u=r.dense?(a[e[0].r]||[])[e[0].c]:a[rl(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[rl(e[0])]=e[1]}},r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,function(e,t,n){switch(n){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(a["!ref"]=il(d),l[i]=a,c.push(i),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],i="Sheet"+(s+1)),h>0&&e[0].r>=h)break;r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[rl(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(i=e[1])}},r)}if(a["!ref"]=il(d),l[o||i]=a,c.push(o||i),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),f[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),f[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var a=e.l+t,i=n(e,0,r);if(i[1].t="s",20768==r.vers){e.l++;var o=e.read_shift(1);return i[1].v=e.read_shift(o,"utf8"),i}return r.qpro&&e.l++,i[1].v=e.read_shift(a-e.l,"cstr"),i}function a(e,t,n){var r=qs(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var a=0;a<r.length;++a){var i=n.charCodeAt(a);r.write_shift(1,i>=128?95:i)}return r.write_shift(1,0),r}function i(e,t,n){var r=qs(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function o(e,t,n){var r=qs(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function s(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?tl(t):Zs(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function d(e,t,n,r){var a=qs(6+r.length);a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),a.write_shift(1,39);for(var i=0;i<r.length;++i){var o=r.charCodeAt(i);a.write_shift(1,o>=128?95:o)}return a.write_shift(1,0),a}function h(e,t){var n=u(e),r=e.read_shift(4),a=e.read_shift(4),i=e.read_shift(2);if(65535==i)return 0===r&&3221225472===a?(n[1].t="e",n[1].v=15):0===r&&3489660928===a?(n[1].t="e",n[1].v=42):n[1].v=0,n;var o=32768&i;return i=(32767&i)-16446,n[1].v=(1-2*o)*(a*Math.pow(2,i+32)+r*Math.pow(2,i)),n}function f(e,t,n,r){var a=qs(14);if(a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),0==r)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var i,o=0,s=0,l=0;return r<0&&(o=1,r=-r),s=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,s-31))>>>0))&&(++s,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,i=(r*=Math.pow(2,32))>>>0,a.write_shift(4,i),a.write_shift(4,l),s+=16383+(o?32768:0),a.write_shift(2,s),a}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=qs(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var a=e.charCodeAt(r);n[n.l++]=a>127?95:a}return n[n.l++]=0,n}var v={0:{n:"BOF",f:mc},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var a=e.l+t,i=n(e,0,r);if(i[1].v=e.read_shift(8,"f"),r.qpro)e.l=a;else{var o=e.read_shift(2);!function(e,t){Hs(e,0);var n=[],r=0,a="",i="",o="",u="";for(;e.l<e.length;){var d=e[e.l++];switch(d){case 0:n.push(e.read_shift(8,"f"));break;case 1:i=s(t[0].c,e.read_shift(2),!0),a=s(t[0].r,e.read_shift(2),!1),n.push(i+a);break;case 2:var h=s(t[0].c,e.read_shift(2),!0),f=s(t[0].r,e.read_shift(2),!1);i=s(t[0].c,e.read_shift(2),!0),a=s(t[0].r,e.read_shift(2),!1),n.push(h+f+":"+i+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";d=e[e.l++];)p+=String.fromCharCode(d);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),o=n.pop(),n.push(["AND","OR"][d-20]+"("+o+","+u+")");break;default:if(d<32&&c[d])u=n.pop(),o=n.pop(),n.push(o+c[d]+u);else{if(!l[d])return d<=7?console.error("WK1 invalid opcode "+d.toString(16)):d<=24?console.error("WK1 unsupported op "+d.toString(16)):d<=30?console.error("WK1 invalid opcode "+d.toString(16)):d<=115?console.error("WK1 unsupported function opcode "+d.toString(16)):console.error("WK1 unrecognized opcode "+d.toString(16));if(69==(r=l[d][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+d.toString(16)+":|"+n.join("|")+"|");var m=n.slice(-r);n.length-=r,n.push(l[d][0]+"("+m.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+o),i),e.l+=o}return i}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=h(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var a=e.read_shift(2);if(14e3==a){for(n[a]=[0,""],n[a][0]=e.read_shift(2);e[e.l];)n[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&Ma(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=Ks(),s=ol(e["!ref"]),l=Array.isArray(e),c=[];ch(r,0,function(e){var t=qs(2);return t.write_shift(2,e),t}(1030)),ch(r,6,function(e){var t=qs(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(s));for(var u=Math.min(s.e.r,8191),d=s.s.r;d<=u;++d)for(var h=Zs(d),f=s.s.c;f<=s.e.c;++f){d===s.s.r&&(c[f]=tl(f));var p=c[f]+h,m=l?(e[d]||[])[f]:e[p];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?ch(r,13,i(d,f,m.v)):ch(r,14,o(d,f,m.v));else ch(r,15,a(d,f,ll(m).slice(0,239)))}return ch(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&Ma(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=Ks();ch(r,0,function(e){var t=qs(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,a=0,i=0;i<e.SheetNames.length;++i){var o=e.SheetNames[i],s=e.Sheets[o];if(s&&s["!ref"]){++a;var l=al(s["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,a),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,i=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&ch(r,27,g(e.SheetNames[a],i++));var o=0;for(a=0;a<e.SheetNames.length;++a){var s=e.Sheets[e.SheetNames[a]];if(s&&s["!ref"]){for(var l=ol(s["!ref"]),c=Array.isArray(s),u=[],h=Math.min(l.e.r,8191),p=l.s.r;p<=h;++p)for(var m=Zs(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=tl(v));var y=u[v]+m,b=c?(s[p]||[])[v]:s[y];if(b&&"z"!=b.t)if("n"==b.t)ch(r,23,f(p,v,o,b.v));else ch(r,22,d(p,v,o,ll(b).slice(0,239)))}++o}}return ch(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(Ga(Ha(e)),n);case"binary":return t(Ga(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var Vc=/^\s|\s$|[\t\n\r]/;function qc(e,t){if(!t.bookSST)return"";var n=[xo];n[n.length]=zo("sst",null,{xmlns:ts[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var a=e[r],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Vc)&&(i+=' xml:space="preserve"'),i+=">"+_o(a.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var Kc=function(e,t){var n=!1;return null==t&&(n=!0,t=qs(15+4*e.t.length)),t.write_shift(1,0),pl(e.t,t),n?t.slice(0,t.l):t};function Yc(e){var t=Ks();Ys(t,159,function(e,t){return t||(t=qs(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)Ys(t,19,Kc(e[n]));return Ys(t,160),t.end()}function Gc(e){if("undefined"!==typeof Fa)return Fa.utils.encode(Oa,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function $c(e){var t,n,r=0,a=Gc(e),i=a.length+1;for((t=Ka(i))[0]=a.length,n=1;n!=i;++n)t[n]=a[n-1];for(n=i-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var Xc=function(){function e(e,n){switch(n.type){case"base64":return t(Ha(e),n);case"binary":return t(e,n);case"buffer":return t(Va&&Buffer.isBuffer(e)?e.toString("binary"):Xa(e),n);case"array":return t(ho(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach(function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,i=/\\\w+\b/g,o=0,s=-1;r=i.exec(e);){if("\\cell"===r[0]){var l=e.slice(o,i.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][s]=c:n[rl({r:t,c:s})]=c}}o=i.lastIndex}s>a.e.c&&(a.e.c=s)}),n["!ref"]=il(a),n}return{to_workbook:function(t,n){return cl(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=ol(e["!ref"]),a=Array.isArray(e),i=r.s.r;i<=r.e.r;++i){n.push("\\trowd\\trautofit1");for(var o=r.s.c;o<=r.e.c;++o)n.push("\\cellx"+(o+1));for(n.push("\\pard\\intbl"),o=r.s.c;o<=r.e.c;++o){var s=rl({r:i,c:o});(t=a?(e[i]||[])[o]:e[s])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(ll(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function Qc(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var Jc=6;function Zc(e){return Math.floor((e+Math.round(128/Jc)/256)*Jc)}function eu(e){return Math.floor((e-5)/Jc*100+.5)/100}function tu(e){return Math.round((e*Jc+5)/Jc*256)/256}function nu(e){e.width?(e.wpx=Zc(e.width),e.wch=eu(e.wpx),e.MDW=Jc):e.wpx?(e.wch=eu(e.wpx),e.width=tu(e.wch),e.MDW=Jc):"number"==typeof e.wch&&(e.width=tu(e.wch),e.wpx=Zc(e.width),e.MDW=Jc),e.customWidth&&delete e.customWidth}var ru=96;function au(e){return 96*e/ru}function iu(e){return e*ru/96}function ou(e,t){var n,r=[xo,zo("styleSheet",null,{xmlns:ts[0],"xmlns:vt":Jo})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=zo("numFmt",null,{numFmtId:r,formatCode:_o(e[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=zo("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=zo("cellXfs",null),e.forEach(function(e){t[t.length]=zo("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=zo("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function su(e,t,n){n||(n=qs(6+4*t.length)),n.write_shift(2,e),pl(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function lu(e,t){t||(t=qs(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=qs(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ll(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),pl(e.name,t),t.length>t.l?t.slice(0,t.l):t}var cu,uu=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],du=Vs;function hu(e,t){t||(t=qs(84)),cu||(cu=Zi(uu));var n=cu[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(Ll({auto:1},t),Ll({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function fu(e,t,n){n||(n=qs(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function pu(e,t){return t||(t=qs(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var mu=Vs;function gu(e){var t;Ys(e,613,hl(1)),Ys(e,46,(t||(t=qs(51)),t.write_shift(1,0),pu(0,t),pu(0,t),pu(0,t),pu(0,t),pu(0,t),t.length>t.l?t.slice(0,t.l):t)),Ys(e,614)}function vu(e){var t,n;Ys(e,619,hl(1)),Ys(e,48,(t={xfId:0,builtinId:0,name:"Normal"},n||(n=qs(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,+t.builtinId),n.write_shift(1,0),jl(t.name||"",n),n.length>n.l?n.slice(0,n.l):n)),Ys(e,620)}function yu(e){Ys(e,508,function(e,t,n){var r=qs(2052);return r.write_shift(4,e),jl(t,r),jl(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Ys(e,509)}function bu(e,t){var n=Ks();return Ys(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n}),0!=n&&(Ys(e,615,hl(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&Ys(e,44,su(r,t[r]))}),Ys(e,616))}}(n,e.SSF),function(e){Ys(e,611,hl(1)),Ys(e,43,lu({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ys(e,612)}(n),function(e){Ys(e,603,hl(2)),Ys(e,45,hu({patternType:"none"})),Ys(e,45,hu({patternType:"gray125"})),Ys(e,604)}(n),gu(n),function(e){Ys(e,626,hl(1)),Ys(e,47,fu({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ys(e,627)}(n),function(e,t){Ys(e,617,hl(t.length)),t.forEach(function(t){Ys(e,47,fu(t,0))}),Ys(e,618)}(n,t.cellXfs),vu(n),function(e){Ys(e,505,hl(0)),Ys(e,506)}(n),yu(n),Ys(n,279),n.end()}function xu(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[xo];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function wu(){var e=Ks();return Ys(e,332),Ys(e,334,hl(1)),Ys(e,335,function(e){var t=qs(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),pl(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Ys(e,336),Ys(e,339,function(e,t){var n=qs(8+2*t.length);return n.write_shift(4,e),pl(t,n),n.slice(0,n.l)}(1,"XLDAPR")),Ys(e,52),Ys(e,35,hl(514)),Ys(e,4096,hl(0)),Ys(e,4097,gc(1)),Ys(e,36),Ys(e,53),Ys(e,340),Ys(e,337,function(e,t){var n=qs(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),Ys(e,51,function(e){var t=qs(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),Ys(e,338),Ys(e,333),e.end()}function Su(){var e=[xo];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var ku=1024;function Nu(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[zo("xml",null,{"xmlns:v":ss,"xmlns:o":ns,"xmlns:x":rs,"xmlns:mv":os}).replace(/\/>/,">"),zo("o:shapelayout",zo("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),zo("v:shapetype",[zo("v:stroke",null,{joinstyle:"miter"}),zo("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];ku<1e3*e;)ku+=1e3;return t.forEach(function(e){var t=nl(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?zo("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=zo("v:fill",r,n);++ku,a=a.concat(["<v:shape"+Uo({id:"_x0000_s"+ku,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,zo("v:shadow",null,{on:"t",obscured:"t"}),zo("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Fo("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),Fo("x:AutoFill","False"),Fo("x:Row",String(t.r)),Fo("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function _u(e){var t=[xo,zo("comments",null,{xmlns:ts[0]})],n=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var r=_o(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var r=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(r=n.indexOf(_o(e.a))),a.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push(Fo("t",_o(a[0]||"")));else{for(var i="Comment:\n    "+a[0]+"\n",o=1;o<a.length;++o)i+="Reply:\n    "+a[o]+"\n";t.push(Fo("t",_o(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function ju(e,t,n){var r=[xo,zo("ThreadedComments",null,{xmlns:Yo}).replace(/[\/]>/,">")];return e.forEach(function(e){var a="";(e[1]||[]).forEach(function(i,o){if(i.T){i.a&&-1==t.indexOf(i.a)&&t.push(i.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==o?a=s.id:s.parentId=a,i.ID=s.id,i.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),r.push(zo("threadedComment",Fo("text",i.t||""),s))}else delete i.ID})}),r.push("</ThreadedComments>"),r.join("")}var Cu=fl;function Eu(e){var t=Ks(),n=[];return Ys(t,628),Ys(t,630),e.forEach(function(e){e[1].forEach(function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),Ys(t,632,function(e){return pl(e.slice(0,54))}(e.a)))})}),Ys(t,631),Ys(t,633),e.forEach(function(e){e[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var a={s:nl(e[0]),e:nl(e[0])};Ys(t,635,function(e,t){return null==t&&(t=qs(36)),t.write_shift(4,e[1].iauthor),Dl(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,r])),r.t&&r.t.length>0&&Ys(t,637,yl(r)),Ys(t,636),delete r.iauthor})}),Ys(t,634),Ys(t,629),t.end()}var Tu=["xlsb","xlsm","xlam","biff8","xla"];var Au=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,a){var i=!1,o=!1;0==r.length?o=!0:"["==r.charAt(0)&&(o=!0,r=r.slice(1,-1)),0==a.length?i=!0:"["==a.charAt(0)&&(i=!0,a=a.slice(1,-1));var s=r.length>0?0|parseInt(r,10):0,l=a.length>0?0|parseInt(a,10):0;return i?l+=t.c:--l,o?s+=t.r:--s,n+(i?"":"$")+tl(l)+(o?"":"$")+Zs(s)}return function(r,a){return t=a,r.replace(e,n)}}(),Ou=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Iu=function(){return function(e,t){return e.replace(Ou,function(e,n,r,a,i,o){var s=el(a)-(r?0:t.c),l=Js(o)-(i?0:t.r);return n+"R"+(0==l?"":i?l+1:"["+l+"]")+"C"+(0==s?"":r?s+1:"["+s+"]")})}}();function Pu(e,t){return e.replace(Ou,function(e,n,r,a,i,o){return n+("$"==r?r+a:tl(el(a)+t.c))+("$"==i?i+o:Zs(Js(o)+t.r))})}function Du(e){e.l+=1}function Mu(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function Ru(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return Lu(e);12==n.biff&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=Mu(e,2),s=Mu(e,2);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Lu(e){var t=Mu(e,2),n=Mu(e,2),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function Fu(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=Mu(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),a=Mu(e,2);return{r:r,c:a[0],cRel:a[1],rRel:a[2]}}function Uu(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function zu(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function Bu(e){return[e.read_shift(1),e.read_shift(1)]}function Wu(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=fc(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=Hl[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Ml(e);break;case 2:n[1]=Sc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Hu(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),a=[],i=0;i!=r;++i)a.push((12==n.biff?Pl:Ec)(e,8));return a}function Vu(e,t,n){var r=0,a=0;12==n.biff?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--a&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=Wu(e,n.biff);return o}function qu(e,t,n){return e.l+=2,[Uu(e)]}function Ku(e){return e.l+=6,[]}function Yu(e){return e.l+=2,[mc(e),1&e.read_shift(2)]}var Gu=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var $u={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Vs},3:{n:"PtgAdd",f:Du},4:{n:"PtgSub",f:Du},5:{n:"PtgMul",f:Du},6:{n:"PtgDiv",f:Du},7:{n:"PtgPower",f:Du},8:{n:"PtgConcat",f:Du},9:{n:"PtgLt",f:Du},10:{n:"PtgLe",f:Du},11:{n:"PtgEq",f:Du},12:{n:"PtgGe",f:Du},13:{n:"PtgGt",f:Du},14:{n:"PtgNe",f:Du},15:{n:"PtgIsect",f:Du},16:{n:"PtgUnion",f:Du},17:{n:"PtgRange",f:Du},18:{n:"PtgUplus",f:Du},19:{n:"PtgUminus",f:Du},20:{n:"PtgPercent",f:Du},21:{n:"PtgParen",f:Du},22:{n:"PtgMissArg",f:Du},23:{n:"PtgStr",f:function(e,t,n){return e.l++,yc(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,Hl[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,Ml(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[pd[a],fd[a],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===i[0]?fd:hd)[i[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,i]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,Fu(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,Ru(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Vs},40:{n:"PtgMemNoMem",f:Vs},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==a&&n>=128&&(n-=256),{r:t,c:n,cRel:a,rRel:r}}(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(16384&i)>>14,s=(32768&i)>>15;if(i&=16383,1==s)for(;a>524287;)a-=1048576;if(1==o)for(;i>8191;)i-=16384;return{r:a,c:i,cRel:o,rRel:s}}(e,0,n);return[r,a]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=function(e,t,n){if(n.biff<8)return Lu(e);var r=e.read_shift(12==n.biff?4:2),a=e.read_shift(12==n.biff?4:2),i=Mu(e,2),o=Mu(e,2);return{s:{r:r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,n);return[r,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,a,Fu(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,a,Ru(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6}return e.l+=i,[r,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return e.l+=i,[r,a]}},255:{}},Xu={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Qu={1:{n:"PtgElfLel",f:Yu},2:{n:"PtgElfRw",f:qu},3:{n:"PtgElfCol",f:qu},6:{n:"PtgElfRwV",f:qu},7:{n:"PtgElfColV",f:qu},10:{n:"PtgElfRadical",f:qu},11:{n:"PtgElfRadicalS",f:Ku},13:{n:"PtgElfColS",f:Ku},15:{n:"PtgElfColSV",f:Ku},16:{n:"PtgElfRadicalLel",f:Yu},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2);return{ixti:t,coltype:3&n,rt:Gu[n>>2&31],idx:r,c:a,C:i}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Ju={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&2==n.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:zu},33:{n:"PtgAttrBaxcel",f:zu},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),Bu(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),Bu(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Zu(e,t,n,r){if(r.biff<8)return Vs(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Vu(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Hu(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return 0!==(t=a-e.l)&&i.push(Vs(e,t)),i}function ed(e,t,n){for(var r,a,i=e.l+t,o=[];i!=e.l;)t=i-e.l,a=e[e.l],r=$u[a]||$u[Xu[a]],24!==a&&25!==a||(r=(24===a?Qu:Ju)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,t,n)]):Vs(e,t);return o}function td(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)if(2===o[0])a.push('"'+o[1].replace(/"/g,'""')+'"');else a.push(o[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var nd={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function rd(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[r[0]][0][3]?(a=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function ad(e,t,n){var r=rd(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function id(e,t,n,r,a){var i,o,s,l,c=a&&a.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(i=d.pop(),o=d.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=po(" ",e[0][m][1][1]);break;case 1:g=po("\r",e[0][m][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}o+=g,m=-1}d.push(o+nd[b[0]]+i);break;case"PtgIsect":i=d.pop(),o=d.pop(),d.push(o+" "+i);break;case"PtgUnion":i=d.pop(),o=d.pop(),d.push(o+","+i);break;case"PtgRange":i=d.pop(),o=d.pop(),d.push(o+":"+i);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=Gs(b[1][1],u,a),d.push(Xs(s,c));break;case"PtgRefN":s=n?Gs(b[1][1],n,a):b[1][1],d.push(Xs(s,c));break;case"PtgRef3d":h=b[1][1],s=Gs(b[1][2],u,a);p=ad(r,h,a);d.push(p+"!"+Xs(s,c));break;case"PtgFunc":case"PtgFuncVar":var x=b[1][0],w=b[1][1];x||(x=0);var S=0==(x&=127)?[]:d.slice(-x);d.length-=x,"User"===w&&(w=S.shift()),d.push(w+"("+S.join(",")+")");break;case"PtgBool":d.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":d.push(b[1]);break;case"PtgNum":d.push(String(b[1]));break;case"PtgStr":d.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=$s(b[1][1],n?{s:n}:u,a),d.push(Qs(l,a));break;case"PtgArea":l=$s(b[1][1],u,a),d.push(Qs(l,a));break;case"PtgArea3d":h=b[1][1],l=b[1][2],p=ad(r,h,a),d.push(p+"!"+Qs(l,a));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgName":f=b[1][2];var k=(r.names||[])[f-1]||(r[0]||[])[f],N=k?k.Name:"SH33TJSNAME"+String(f);N&&"_xlfn."==N.slice(0,6)&&!a.xlfn&&(N=N.slice(6)),d.push(N);break;case"PtgNameX":var _,j=b[1][1];if(f=b[1][2],!(a.biff<=5)){var C="";if(14849==((r[j]||[])[0]||[])[0]||(1025==((r[j]||[])[0]||[])[0]?r[j][f]&&r[j][f].itab>0&&(C=r.SheetNames[r[j][f].itab-1]+"!"):C=r.SheetNames[f-1]+"!"),r[j]&&r[j][f])C+=r[j][f].Name;else if(r[0]&&r[0][f])C+=r[0][f].Name;else{var E=(rd(r,j,a)||"").split(";;");E[f-1]?C=E[f-1]:C+="SH33TJSERRX"}d.push(C);break}j<0&&(j=-j),r[j]&&(_=r[j][f]),_||(_={Name:"SH33TJSERRY"}),d.push(_.Name);break;case"PtgParen":var T="(",A=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:T=po(" ",e[0][m][1][1])+T;break;case 3:T=po("\r",e[0][m][1][1])+T;break;case 4:A=po(" ",e[0][m][1][1])+A;break;case 5:A=po("\r",e[0][m][1][1])+A;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}d.push(T+d.pop()+A);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":d.push("#REF!");break;case"PtgExp":s={c:b[1][1],r:b[1][0]};var O={c:n.c,r:n.r};if(r.sharedf[rl(s)]){var I=r.sharedf[rl(s)];d.push(id(I,u,O,r,a))}else{var P=!1;for(i=0;i!=r.arrayf.length;++i)if(o=r.arrayf[i],!(s.c<o[0].s.c||s.c>o[0].e.c)&&!(s.r<o[0].s.r||s.r>o[0].e.r)){d.push(id(o[1],u,O,r,a)),P=!0;break}P||d.push(b[1])}break;case"PtgArray":d.push("{"+td(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":d.push("");break;case"PtgList":d.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=a.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var D=!0;switch((b=e[0][m])[1][0]){case 4:D=!1;case 0:g=po(" ",b[1][1]);break;case 5:D=!1;case 1:g=po("\r",b[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}d.push((D?g:"")+d.pop()+(D?"":g)),m=-1}}if(d.length>1&&a.WTF)throw new Error("bad formula stack");return d[0]}function od(e,t,n,r,a){var i=jc(t,n,a),o=function(e){if(null==e){var t=qs(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Rl("number"==typeof e?e:0)}(e.v),s=qs(6);s.write_shift(2,33),s.write_shift(4,0);for(var l=qs(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return Qa([i,o,s,l])}function sd(e,t,n){var r=e.read_shift(4),a=ed(e,r,n),i=e.read_shift(4);return[a,i>0?Zu(e,i,a,n):null]}var ld=sd,cd=sd,ud=sd,dd=sd,hd={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fd={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},pd={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function md(e){return("of:="+e.replace(Ou,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function gd(e){return e.replace(/\./,"!")}var vd="undefined"!==typeof Map;function yd(e,t,n){var r=0,a=e.length;if(n){if(vd?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var i=vd?n.get(t):n[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t:t},e.Count++,e.Unique++,n&&(vd?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function bd(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Jc=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=eu(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=tu(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function xd(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function wd(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],a=60,i=e.length;if(null==r&&n.ssf)for(;a<392;++a)if(null==n.ssf[a]){Wi(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}for(a=0;a!=i;++a)if(e[a].numFmtId===r)return a;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Sd(e,t,n){if(e&&e["!ref"]){var r=ol(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var kd=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nd=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _d(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",i=e.t,o=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Hl[e.v];break;case"d":r&&r.cellDates?a=uo(e.v,-1).toISOString():((e=fo(e)).t="n",a=""+(e.v=no(uo(e.v)))),"undefined"===typeof e.z&&(e.z=ci[14]);break;default:a=e.v}var s=Fo("v",_o(a)),l={r:t},c=wd(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=Fo("v",""+yd(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=i&&(e.t=i,e.v=o),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=zo("f",_o(e.f),u)+(null!=e.v?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),zo("c",s,l)}function jd(e,t,n,r){var a,i=[xo,zo("worksheet",null,{xmlns:ts[0],"xmlns:r":Qo})],o=n.SheetNames[e],s="",l=n.Sheets[o];null==l&&(l={});var c=l["!ref"]||"A1",u=ol(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=il(u)}r||(r={}),l["!comments"]=[];var d=[];!function(e,t,n,r,a){var i=!1,o={},s=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(u){}i=!0,o.codeName=Mo(_o(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),s=(s||"")+zo("outlinePr",null,c)}(i||s)&&(a[a.length]=zo("sheetPr",s,o))}(l,n,e,t,i),i[i.length]=zo("dimension",null,{ref:c}),i[i.length]=function(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),zo("sheetViews",zo("sheetView",null,a),{})}(0,0,0,n),t.sheetFormat&&(i[i.length]=zo("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=function(e,t){for(var n,r=["<cols>"],a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=zo("col",null,bd(a,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=function(e,t){var n,r,a=[],i=[],o=ol(e["!ref"]),s="",l="",c=[],u=0,d=0,h=e["!rows"],f=Array.isArray(e),p={r:l},m=-1;for(d=o.s.c;d<=o.e.c;++d)c[d]=tl(d);for(u=o.s.r;u<=o.e.r;++u){for(i=[],l=Zs(u),d=o.s.c;d<=o.e.c;++d){n=c[d]+l;var g=f?(e[u]||[])[d]:e[n];void 0!==g&&null!=(s=_d(g,n,e,t))&&i.push(s)}(i.length>0||h&&h[u])&&(p={r:l},h&&h[u]&&((r=h[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=au(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level)),a[a.length]=zo("row",i.join(""),p))}if(h)for(;u<h.length;++u)h&&h[u]&&(p={r:u+1},(r=h[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=au(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level),a[a.length]=zo("row","",p));return a.join("")}(l,t,0,0),s.length>0&&(i[i.length]=s)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=function(e){var t={sheet:1};return kd.forEach(function(n){null!=e[n]&&e[n]&&(t[n]="1")}),Nd.forEach(function(n){null==e[n]||e[n]||(t[n]="0")}),e.password&&(t.password=$c(e.password).toString(16).toUpperCase()),zo("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=function(e,t,n,r){var a="string"==typeof e.ref?e.ref:il(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=al(a);o.s.r==o.e.r&&(o.e.r=al(t["!ref"]).e.r,a=il(o));for(var s=0;s<i.length;++s){var l=i[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),zo("autoFilter",null,{ref:a})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+il(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,f,p=-1,m=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=Xl(r,-1,_o(e[1].Target).replace(/#.*$/,""),Yl.HLINK),h["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(h.location=_o(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=_o(e[1].Tooltip)),i[i.length]=zo("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=(xd(f=l["!margins"]),zo("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=Fo("ignoredErrors",zo("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(m=Xl(r,-1,"../drawings/drawing"+(e+1)+".xml",Yl.DRAW),i[i.length]=zo("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=d),l["!comments"].length>0&&(m=Xl(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Yl.VML),i[i.length]=zo("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Cd(e,t,n,r){var a=function(e,t,n){var r=qs(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;a.hpx?i=20*au(a.hpx):a.hpt&&(i=20*a.hpt),r.write_shift(2,i),r.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var s=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[rl(c)])&&(d<0&&(d=f),h=f);d<0||(++s,r.write_shift(4,d),r.write_shift(4,h))}var p=r.l;return r.l=l,r.write_shift(4,s),r.l=p,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&Ys(e,0,a)}var Ed=Pl,Td=Dl;function Ad(e){return[wl(e),Ml(e),"n"]}var Od=Pl,Id=Dl;var Pd=["left","right","top","bottom","header","footer"];function Dd(e,t,n,r,a,i,o){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=fo(t)).z=t.z||ci[14],t.v=no(uo(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var l={r:n,c:r};switch(l.s=wd(a.cellXfs,t,a),t.l&&i["!links"].push([rl(l),t.l]),t.c&&i["!comments"].push([rl(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=yd(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,o?Ys(e,18,function(e,t,n){return null==n&&(n=qs(8)),Sl(t,n),n.write_shift(4,t.v),n}(0,l)):Ys(e,7,function(e,t,n){return null==n&&(n=qs(12)),xl(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",o?Ys(e,17,function(e,t,n){return null==n&&(n=qs(8+4*e.v.length)),Sl(t,n),pl(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):Ys(e,6,function(e,t,n){return null==n&&(n=qs(12+4*e.v.length)),xl(t,n),pl(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?o?Ys(e,13,function(e,t,n){return null==n&&(n=qs(8)),Sl(t,n),Ol(e.v,n),n}(t,l)):Ys(e,2,function(e,t,n){return null==n&&(n=qs(12)),xl(t,n),Ol(e.v,n),n}(t,l)):o?Ys(e,16,function(e,t,n){return null==n&&(n=qs(12)),Sl(t,n),Rl(e.v,n),n}(t,l)):Ys(e,5,function(e,t,n){return null==n&&(n=qs(16)),xl(t,n),Rl(e.v,n),n}(t,l)),!0;case"b":return l.t="b",o?Ys(e,15,function(e,t,n){return null==n&&(n=qs(5)),Sl(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):Ys(e,4,function(e,t,n){return null==n&&(n=qs(9)),xl(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",o?Ys(e,14,function(e,t,n){return null==n&&(n=qs(8)),Sl(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):Ys(e,3,function(e,t,n){return null==n&&(n=qs(9)),xl(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return o?Ys(e,12,function(e,t,n){return null==n&&(n=qs(4)),Sl(t,n)}(0,l)):Ys(e,1,function(e,t,n){return null==n&&(n=qs(8)),xl(t,n)}(0,l)),!0}function Md(e,t){var n,r;t&&t["!merges"]&&(Ys(e,177,(n=t["!merges"].length,null==r&&(r=qs(4)),r.write_shift(4,n),r)),t["!merges"].forEach(function(t){Ys(e,176,Id(t))}),Ys(e,178))}function Rd(e,t){t&&t["!cols"]&&(Ys(e,390),t["!cols"].forEach(function(t,n){t&&Ys(e,60,function(e,t,n){null==n&&(n=qs(18));var r=bd(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof r.width&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}(n,t))}),Ys(e,391))}function Ld(e,t){t&&t["!ref"]&&(Ys(e,648),Ys(e,649,function(e){var t=qs(24);return t.write_shift(4,4),t.write_shift(4,1),Dl(e,t),t}(ol(t["!ref"]))),Ys(e,650))}function Fd(e,t,n){t["!links"].forEach(function(t){if(t[1].Target){var r=Xl(n,-1,t[1].Target.replace(/#.*$/,""),Yl.HLINK);Ys(e,494,function(e,t){var n=qs(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Dl({s:nl(e[0]),e:nl(e[0])},n),Tl("rId"+t,n);var r=e[1].Target.indexOf("#");return pl((-1==r?"":e[1].Target.slice(r+1))||"",n),pl(e[1].Tooltip||"",n),pl("",n),n.slice(0,n.l)}(t,r))}}),delete t["!links"]}function Ud(e,t,n){Ys(e,133),Ys(e,137,function(e,t,n){null==n&&(n=qs(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Ys(e,138),Ys(e,134)}function zd(e,t){var n,r;t["!protect"]&&Ys(e,535,(n=t["!protect"],null==r&&(r=qs(66)),r.write_shift(2,n.password?$c(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)}),r))}function Bd(e,t,n,r){var a=Ks(),i=n.SheetNames[e],o=n.Sheets[i]||{},s=i;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch(d){}var l,c,u=ol(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ys(a,129),(n.vbaraw||o["!outline"])&&Ys(a,147,function(e,t,n){null==n&&(n=qs(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return Ll({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),Nl(e,n),n.slice(0,n.l)}(s,o["!outline"])),Ys(a,148,Td(u)),Ud(a,0,n.Workbook),Rd(a,o),function(e,t,n,r){var a,i=ol(t["!ref"]||"A1"),o="",s=[];Ys(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){o=Zs(u),Cd(e,t,i,u);var d=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(s[h]=tl(h)),a=s[h]+o;var f=l?(t[u]||[])[h]:t[a];d=!!f&&Dd(e,f,u,h,r,t,d)}}Ys(e,146)}(a,o,0,t),zd(a,o),function(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],i="string"===typeof a.ref?a.ref:il(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=al(i);s.s.r==s.e.r&&(s.e.r=al(t["!ref"]).e.r,i=il(s));for(var l=0;l<o.length;++l){var c=o[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Ys(e,161,Dl(ol(i))),Ys(e,162)}}(a,o,n,e),Md(a,o),Fd(a,o,r),o["!margins"]&&Ys(a,476,(l=o["!margins"],null==c&&(c=qs(48)),xd(l),Pd.forEach(function(e){Rl(l[e],c)}),c)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||Ld(a,o),function(e,t,n,r){if(t["!comments"].length>0){var a=Xl(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Yl.VML);Ys(e,551,Tl("rId"+a)),t["!legacy"]=a}}(a,o,e,r),Ys(a,130),a.end()}var Wd=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var Hd="][*?/\\".split("");function Vd(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return Hd.forEach(function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function qd(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,n,r,a=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,n=a,r=!!e.vbaraw,t.forEach(function(e,a){Vd(e);for(var i=0;i<a;++i)if(e==t[i])throw new Error("Duplicate Sheet Name: "+e);if(r){var o=n&&n[a]&&n[a].CodeName||e;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}});for(var i=0;i<e.SheetNames.length;++i)Sd(e.Sheets[e.SheetNames[i]],e.SheetNames[i],i)}function Kd(e){var t=[xo];t[t.length]=zo("workbook",null,{xmlns:ts[0],"xmlns:r":Qo});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Wd.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=zo("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&a[i]&&a[i].Hidden;++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:_o(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}t[t.length]=zo("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=zo("definedName",_o(e.Ref),n))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Yd(e,t){return t||(t=qs(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Tl(e.strRelID,t),pl(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Gd(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,a=t.Workbook.Sheets,i=0,o=-1,s=-1;i<a.length;++i)!a[i]||!a[i].Hidden&&-1==o?o=i:1==a[i].Hidden&&-1==s&&(s=i);if(!(s>o))Ys(e,135),Ys(e,158,(n=o,r||(r=qs(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),Ys(e,136)}}function $d(e,t){var n=Ks();return Ys(n,131),Ys(n,128,function(e,t){t||(t=qs(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return pl("SheetJS",t),pl(Ta.version,t),pl(Ta.version,t),pl("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Ys(n,153,function(e,t){t||(t=qs(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),Nl(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),Gd(n,e),function(e,t){Ys(e,143);for(var n=0;n!=t.SheetNames.length;++n)Ys(e,156,Yd({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));Ys(e,144)}(n,e),Ys(n,132),n.end()}function Xd(e,t,n,r,a){return(".bin"===t.slice(-4)?Bd:jd)(e,n,r,a)}function Qd(e,t,n){return(".bin"===t.slice(-4)?Eu:_u)(e,n)}function Jd(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return Qi(sc).map(function(e){for(var t=0;t<ec.length;++t)if(ec[t][1]==e)return ec[t];for(t=0;t<rc.length;++t)if(rc[t][1]==e)return rc[t];throw e}).forEach(function(r){if(null!=e[r[1]]){var a=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(Fo(sc[r[1]]||r[1],a))}}),zo("DocumentProperties",n.join(""),{xmlns:ns})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&Qi(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<ec.length;++r)if(t==ec[r][1])return;for(r=0;r<rc.length;++r)if(t==rc[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var i=e[t],o="string";"number"==typeof i?(o="float",i=String(i)):!0===i||!1===i?(o="boolean",i=i?"1":"0"):i=String(i),a.push(zo(jo(t),i,{"dt:dt":o}))}}),t&&Qi(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],i="string";"number"==typeof r?(i="float",r=String(r)):!0===r||!1===r?(i="boolean",r=r?"1":"0"):r instanceof Date?(i="dateTime.tz",r=r.toISOString()):r=String(r),a.push(zo(jo(n),r,{"dt:dt":i}))}}),"<"+r+' xmlns="'+ns+'">'+a.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function Zd(e){return zo("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Iu(e.Ref,{r:0,c:0})})}function eh(e,t,n,r,a,i,o){if(!e||void 0==e.v&&void 0==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+_o(Iu(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=nl(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=_o(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=_o(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c==o.c&&c[u].s.r==o.r&&(c[u].e.c>c[u].s.c&&(s["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(s["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=Hl[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||ci[14]);break;case"s":d="String",h=((e.v||"")+"").replace(ko,function(e){return So[e]}).replace(Co,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var f=wd(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+f),s["ss:Index"]=o.c+1;var p=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+d+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map(function(e){var t=zo("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return zo("Comment",t,{"ss:Author":e.a})}).join("")),zo("Cell",m,s)}function th(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=iu(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function nh(e,t,n){var r=[],a=n.SheetNames[e],i=n.Sheets[a],o=i?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||i.push(Zd(s)))}return i.join("")}(i,0,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?function(e,t){if(!e["!ref"])return"";var n=ol(e["!ref"]),r=e["!merges"]||[],a=0,i=[];e["!cols"]&&e["!cols"].forEach(function(e,t){nu(e);var n=!!e.width,r=bd(t,e),a={"ss:Index":t+1};n&&(a["ss:Width"]=Zc(r.width)),e.hidden&&(a["ss:Hidden"]="1"),i.push(zo("Column",null,a))});for(var o=Array.isArray(e),s=n.s.r;s<=n.e.r;++s){for(var l=[th(s,(e["!rows"]||[])[s])],c=n.s.c;c<=n.e.c;++c){var u=!1;for(a=0;a!=r.length;++a)if(!(r[a].s.c>c)&&!(r[a].s.r>s)&&!(r[a].e.c<c)&&!(r[a].e.r<s)){r[a].s.c==c&&r[a].s.r==s||(u=!0);break}if(!u){var d={r:s,c:c},h=rl(d),f=o?(e[s]||[])[c]:e[h];l.push(eh(f,h,e,t,0,0,d))}}l.push("</Row>"),l.length>2&&i.push(l.join(""))}return i.join("")}(i,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(zo("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(zo("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(zo("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(zo("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&(!r.Workbook.Sheets[i]||r.Workbook.Sheets[i].Hidden);++i);i==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Fo("ProtectContents","True")),e["!protect"].objects&&a.push(Fo("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Fo("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push(Fo("EnableSelection","UnlockedCells")):a.push(Fo("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")})),0==a.length?"":zo("WorksheetOptions",a.join(""),{xmlns:rs})}(i,0,e,n)),r.join("")}function rh(e,t){t||(t={}),e.SSF||(e.SSF=fo(ci)),e.SSF&&(Vi(),Hi(e.SSF),t.revssf=eo(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],wd(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Jd(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(zo("Worksheet",nh(r,t,e),{"ss:Name":_o(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var r=[];r.push(zo("NumberFormat",null,{"ss:Format":_o(ci[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};n.push(zo("Style",r.join(""),a))}),zo("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||n.push(Zd(a)))}return zo("Names",n.join(""))}(e),xo+zo("Workbook",n.join(""),{xmlns:as,"xmlns:o":ns,"xmlns:x":rs,"xmlns:ss":as,"xmlns:dt":is,"xmlns:html":ls})}var ah="e0859ff2f94f6810ab9108002b27b3d9",ih="02d5cdd59c2e1b10939708002b2cf9ae",oh="05d5cdd59c2e1b10939708002b2cf9ae";function sh(e,t){var n=t||{},r=Yi.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Yi.utils.cfb_add(r,a,yh(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],a=[],i=[],o=0,s=Ji(Ul,"n"),l=Ji(zl,"n");if(e.Props)for(n=Qi(e.Props),o=0;o<n.length;++o)(Object.prototype.hasOwnProperty.call(s,n[o])?r:Object.prototype.hasOwnProperty.call(l,n[o])?a:i).push([n[o],e.Props[n[o]]]);if(e.Custprops)for(n=Qi(e.Custprops),o=0;o<n.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},n[o])||(Object.prototype.hasOwnProperty.call(s,n[o])?r:Object.prototype.hasOwnProperty.call(l,n[o])?a:i).push([n[o],e.Custprops[n[o]]]);var c=[];for(o=0;o<i.length;++o)cc.indexOf(i[o][0])>-1||ac.indexOf(i[o][0])>-1||null!=i[o][1]&&c.push(i[o]);a.length&&Yi.utils.cfb_add(t,"/\x05SummaryInformation",hc(a,ah,l,zl)),(r.length||c.length)&&Yi.utils.cfb_add(t,"/\x05DocumentSummaryInformation",hc(r,ih,s,Ul,c.length?c:null,oh))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(n,r){if(0!=r){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&Yi.utils.cfb_add(e,a,t.FileIndex[r].content)}})}(r,Yi.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var lh={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,7&i&&(n.level=7&i),16&i&&(n.hidden=!0),32&i&&(n.hpt=a/20),n}},1:{f:function(e){return[bl(e)]}},2:{f:function(e){return[bl(e),Al(e),"n"]}},3:{f:function(e){return[bl(e),e.read_shift(1),"e"]}},4:{f:function(e){return[bl(e),e.read_shift(1),"b"]}},5:{f:function(e){return[bl(e),Ml(e),"n"]}},6:{f:function(e){return[bl(e),fl(e),"str"]}},7:{f:function(e){return[bl(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,a=bl(e);a.r=n["!row"];var i=[a,fl(e),"str"];if(n.cellFormula){e.l+=2;var o=cd(e,r-e.l,n);i[3]=id(o,0,a,n.supbooks,n)}else e.l=r;return i}},9:{f:function(e,t,n){var r=e.l+t,a=bl(e);a.r=n["!row"];var i=[a,Ml(e),"n"];if(n.cellFormula){e.l+=2;var o=cd(e,r-e.l,n);i[3]=id(o,0,a,n.supbooks,n)}else e.l=r;return i}},10:{f:function(e,t,n){var r=e.l+t,a=bl(e);a.r=n["!row"];var i=[a,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var o=cd(e,r-e.l,n);i[3]=id(o,0,a,n.supbooks,n)}else e.l=r;return i}},11:{f:function(e,t,n){var r=e.l+t,a=bl(e);a.r=n["!row"];var i=[a,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var o=cd(e,r-e.l,n);i[3]=id(o,0,a,n.supbooks,n)}else e.l=r;return i}},12:{f:function(e){return[wl(e)]}},13:{f:function(e){return[wl(e),Al(e),"n"]}},14:{f:function(e){return[wl(e),e.read_shift(1),"e"]}},15:{f:function(e){return[wl(e),e.read_shift(1),"b"]}},16:{f:Ad},17:{f:function(e){return[wl(e),fl(e),"str"]}},18:{f:function(e){return[wl(e),e.read_shift(4),"s"]}},19:{f:gl},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Cl(e),o=ud(e,0,n),s=_l(e);e.l=r;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var i=e.read_shift(1);0!=i&&(r.underline=i);var o=e.read_shift(1);o>0&&(r.family=o);var s=e.read_shift(1);switch(s>0&&(r.charset=s),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=Wl[r];l&&(t.rgb=Qc(l));break;case 2:t.rgb=Qc([i,o,s]);break;case 3:t.theme=r}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=fl(e),r}},44:{f:function(e,t){return[e.read_shift(2),fl(e)]}},45:{f:du},46:{f:mu},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Lc},62:{f:function(e){return[bl(e),gl(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=rl(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=kl(e,t-19),n}},148:{f:Ed,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?fl(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=El(e,t-8),n.name=fl(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:Pl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Od},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:fl(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:El},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Dc},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,a=Il(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=ld(e,r-e.l,n);o[1]=s}else e.l=r;return o}},427:{f:function(e,t,n){var r=e.l+t,a=[Pl(e,16)];if(n.cellFormula){var i=dd(e,r-e.l,n);a[1]=i,e.l=r}else e.l=r;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return Pd.forEach(function(n){t[n]=Ml(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=Pl(e,16),a=_l(e),i=fl(e),o=fl(e),s=fl(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:El},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Cu},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=Pl(e,16);return t.rfx=n.s,t.ref=rl(n.s),e.l+=16,t}},636:{T:-1},637:{f:vl},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:fl(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ch(e,t,n,r){var a=t;if(!isNaN(a)){var i=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Ts(n)&&e.push(n)}}function uh(e,t,n){return e||(e=qs(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function dh(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?no(uo(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?ch(e,2,function(e,t,n){var r=qs(9);return uh(r,e,t),r.write_shift(2,n),r}(n,r,a)):ch(e,3,function(e,t,n){var r=qs(15);return uh(r,e,t),r.write_shift(8,n,"f"),r}(n,r,a)));case"b":case"e":return void ch(e,5,function(e,t,n,r){var a=qs(9);return uh(a,e,t),vc(n,r||"b",a),a}(n,r,t.v,t.t));case"s":case"str":return void ch(e,4,function(e,t,n){var r=qs(8+2*n.length);return uh(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}ch(e,1,uh(null,n,r))}function hh(e,t){var n=t||{};for(var r=Ks(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(a=i);if(0==a&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return ch(r,4==n.biff?1033:3==n.biff?521:9,Ac(0,16,n)),function(e,t,n,r){var a,i=Array.isArray(t),o=ol(t["!ref"]||"A1"),s="",l=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),a=il(o)}for(var c=o.s.r;c<=o.e.r;++c){s=Zs(c);for(var u=o.s.c;u<=o.e.c;++u){c===o.s.r&&(l[u]=tl(u)),a=l[u]+s;var d=i?(t[c]||[])[u]:t[a];d&&dh(e,d,c,u)}}}(r,e.Sheets[e.SheetNames[a]],0,n),ch(r,10),r.end()}function fh(e,t,n){ch(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,a=qs(r?15+n.length:16+2*n.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function ph(e,t){if(t){var n=0;t.forEach(function(t,r){++n<=256&&t&&ch(e,125,function(e,t){var n=qs(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(bd(r,t),r))})}}function mh(e,t,n,r,a){var i=16+wd(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)ch(e,6,od(t,n,r,0,i));else switch(t.t){case"d":case"n":ch(e,515,function(e,t,n,r){var a=qs(14);return jc(e,t,r,a),Rl(n,a),a}(n,r,"d"==t.t?no(uo(t.v)):t.v,i));break;case"b":case"e":ch(e,517,function(e,t,n,r,a,i){var o=qs(8);return jc(e,t,r,o),vc(n,i,o),o}(n,r,t.v,i,0,t.t));break;case"s":case"str":if(a.bookSST)ch(e,253,function(e,t,n,r){var a=qs(10);return jc(e,t,r,a),a.write_shift(4,n),a}(n,r,yd(a.Strings,t.v,a.revStrings),i));else ch(e,516,function(e,t,n,r,a){var i=!a||8==a.biff,o=qs(+i+8+(1+i)*n.length);return jc(e,t,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}(n,r,(t.v||"").slice(0,255),i,a));break;default:ch(e,513,jc(n,r,i))}else ch(e,513,jc(n,r,i))}function gh(e,t,n){var r,a=Ks(),i=n.SheetNames[e],o=n.Sheets[i]||{},s=(n||{}).Workbook||{},l=(s.Sheets||[])[e]||{},c=Array.isArray(o),u=8==t.biff,d="",h=[],f=ol(o["!ref"]||"A1"),p=u?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}ch(a,2057,Ac(0,16,t)),ch(a,13,gc(1)),ch(a,12,gc(100)),ch(a,15,pc(!0)),ch(a,17,pc(!1)),ch(a,16,Rl(.001)),ch(a,95,pc(!0)),ch(a,42,pc(!1)),ch(a,43,pc(!1)),ch(a,130,gc(1)),ch(a,128,function(e){var t=qs(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),ch(a,131,pc(!1)),ch(a,132,pc(!1)),u&&ph(a,o["!cols"]),ch(a,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=qs(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(f,t)),u&&(o["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){d=Zs(m);for(var g=f.s.c;g<=f.e.c;++g){m===f.s.r&&(h[g]=tl(g)),r=h[g]+d;var v=c?(o[m]||[])[g]:o[r];v&&(mh(a,v,m,g,t),u&&v.l&&o["!links"].push([r,v.l]))}}var y=l.CodeName||l.name||i;return u&&ch(a,574,function(e){var t=qs(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((s.Views||[])[0])),u&&(o["!merges"]||[]).length&&ch(a,229,function(e){var t=qs(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Tc(e[n],t);return t}(o["!merges"])),u&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];ch(e,440,Mc(r)),r[1].Tooltip&&ch(e,2048,Rc(r))}delete t["!links"]}(a,o),ch(a,442,kc(y)),u&&function(e,t){var n=qs(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),ch(e,2151,n),(n=qs(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Tc(ol(t["!ref"]||"A1"),n),n.write_shift(4,4),ch(e,2152,n)}(a,o),ch(a,10),a.end()}function vh(e,t,n){var r=Ks(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=8==n.biff,l=5==n.biff;(ch(r,2057,Ac(0,5,n)),"xla"==n.bookType&&ch(r,135),ch(r,225,s?gc(1200):null),ch(r,193,function(e,t){t||(t=qs(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),l&&ch(r,191),l&&ch(r,192),ch(r,226),ch(r,92,function(e,t){var n=!t||8==t.biff,r=qs(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),ch(r,66,gc(s?1200:1252)),s&&ch(r,353,gc(0)),s&&ch(r,448),ch(r,317,function(e){for(var t=qs(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),s&&e.vbaraw&&ch(r,211),s&&e.vbaraw)&&ch(r,442,kc(o.CodeName||"ThisWorkbook"));ch(r,156,gc(17)),ch(r,25,pc(!1)),ch(r,18,pc(!1)),ch(r,19,gc(0)),s&&ch(r,431,pc(!1)),s&&ch(r,444,gc(0)),ch(r,61,function(){var e=qs(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),ch(r,64,pc(!1)),ch(r,141,gc(0)),ch(r,34,pc("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&To(e.Workbook.WBProps.date1904)?"true":"false"}(e))),ch(r,14,pc(!0)),s&&ch(r,439,pc(!1)),ch(r,218,gc(0)),fh(r,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)null!=t[a]&&ch(e,1054,Ic(a,t[a],n))})}(r,e.SSF,n),function(e,t){for(var n=0;n<16;++n)ch(e,224,Pc({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ch(e,224,Pc(n,0,t))})}(r,n),s&&ch(r,352,pc(!1));var c,u=r.end(),d=Ks();s&&ch(d,140,(c||(c=qs(4)),c.write_shift(2,1),c.write_shift(2,1),c)),s&&n.Strings&&function(e,t,n,r){var a=r||(n||[]).length||0;if(a<=8224)return ch(e,t,n,a);var i=t;if(!isNaN(i)){for(var o=n.parts||[],s=0,l=0,c=0;c+(o[s]||8224)<=8224;)c+=o[s]||8224,s++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<a;){for((u=e.next(4)).write_shift(2,60),c=0;c+(o[s]||8224)<=8224;)c+=o[s]||8224,s++;u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}(d,252,function(e){var t=qs(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=bc(e[r]);var a=Qa([t].concat(n));return a.parts=[t.length].concat(n.map(function(e){return e.length})),a}(n.Strings)),ch(d,10);var h=d.end(),f=Ks(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(s?12:11)+(s?2:1)*e.SheetNames[m].length;var g=u.length+p+h.length;for(m=0;m<e.SheetNames.length;++m){ch(f,133,Oc({pos:g,hs:(i[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},n)),g+=t[m].length}var v=f.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),h.length&&y.push(h),Qa(y)}function yh(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])al(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=fo(ci)),e&&e.SSF&&(Vi(),Hi(e.SSF),n.revssf=eo(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Gh(n),n.cellXfs=[],wd(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=gh(a,n,e);return r.unshift(vh(e,r,n)),Qa(r)}(e,t);case 4:case 3:case 2:return hh(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function bh(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>n||a[c].s.c>o)&&!(a[c].e.r<n||a[c].e.c<o)){if(a[c].s.r<n||a[c].s.c<o){s=-1;break}s=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(s<0)){var u=rl({r:n,c:o}),d=r.dense?(e[n]||[])[o]:e[u],h=d&&null!=d.v&&(d.h||Eo(d.w||(ll(d),d.w)||""))||"",f={};s>1&&(f.rowspan=s),l>1&&(f.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",null!=d.v&&(f["data-v"]=d.v),null!=d.z&&(f["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(r.id||"sjs")+"-"+u,i.push(zo("td",h,f))}}return"<tr>"+i.join("")+"</tr>"}var xh='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wh="</body></html>";function Sh(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function kh(e,t){var n=t||{},r=null!=n.header?n.header:xh,a=null!=n.footer?n.footer:wh,i=[r],o=al(e["!ref"]);n.dense=Array.isArray(e),i.push(Sh(0,0,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(bh(e,o,s,n));return i.push("</table>"+a),i.join("")}function Nh(e,t,n){var r=n||{};var a=0,i=0;if(null!=r.origin)if("number"==typeof r.origin)a=r.origin;else{var o="string"==typeof r.origin?nl(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=al(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==a&&(c.e.r=a=u.e.r+1)}var d=[],h=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&m<l;++p){var x=s[p];if(jh(x)){if(r.display)continue;f[m]={hidden:!0}}var w=x.children;for(g=v=0;g<w.length;++g){var S=w[g];if(!r.display||!jh(S)){var k=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):Ro(S.innerHTML),N=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<d.length;++h){var _=d[h];_.s.c==v+i&&_.s.r<m+a&&m+a<=_.e.r&&(v=_.e.c+1-i,h=-1)}b=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+a,c:v+i},e:{r:m+a+(y||1)-1,c:v+i+(b||1)-1}});var j={t:"s",v:k},C=S.getAttribute("data-t")||S.getAttribute("t")||"";null!=k&&(0==k.length?j.t=C||"z":r.raw||0==k.trim().length||"s"==C||("TRUE"===k?j={t:"b",v:!0}:"FALSE"===k?j={t:"b",v:!1}:isNaN(mo(k))?isNaN(vo(k).getDate())||(j={t:"d",v:uo(k)},r.cellDates||(j={t:"n",v:no(j.v)}),j.z=r.dateNF||ci[14]):j={t:"n",v:mo(k)})),void 0===j.z&&null!=N&&(j.z=N);var E="",T=S.getElementsByTagName("A");if(T&&T.length)for(var A=0;A<T.length&&(!T[A].hasAttribute("href")||"#"==(E=T[A].getAttribute("href")).charAt(0));++A);E&&"#"!=E.charAt(0)&&(j.l={Target:E}),r.dense?(e[m+a]||(e[m+a]=[]),e[m+a][v+i]=j):e[rl({c:v+i,r:m+a})]=j,c.e.c<v+i&&(c.e.c=v+i),v+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=il(c),m>=l&&(e["!fullref"]=il((c.e.r=s.length-p+m-1+a,c))),e}function _h(e,t){return Nh((t||{}).dense?[]:{},e,t)}function jh(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var Ch=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Uo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return xo+t}}(),Eh=function(){var e=function(e){return _o(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n=function(n,r,a){var i=[];i.push('      <table:table table:name="'+_o(r.SheetNames[a])+'" table:style-name="ta1">\n');var o=0,s=0,l=al(n["!ref"]||"A1"),c=n["!merges"]||[],u=0,d=Array.isArray(n);if(n["!cols"])for(s=0;s<=l.e.c;++s)i.push("        <table:table-column"+(n["!cols"][s]?' table:style-name="co'+n["!cols"][s].ods+'"':"")+"></table:table-column>\n");var h="",f=n["!rows"]||[];for(o=0;o<l.s.r;++o)h=f[o]?' table:style-name="ro'+f[o].ods+'"':"",i.push("        <table:table-row"+h+"></table:table-row>\n");for(;o<=l.e.r;++o){for(h=f[o]?' table:style-name="ro'+f[o].ods+'"':"",i.push("        <table:table-row"+h+">\n"),s=0;s<l.s.c;++s)i.push(t);for(;s<=l.e.c;++s){var p=!1,m={},g="";for(u=0;u!=c.length;++u)if(!(c[u].s.c>s)&&!(c[u].s.r>o)&&!(c[u].e.c<s)&&!(c[u].e.r<o)){c[u].s.c==s&&c[u].s.r==o||(p=!0),m["table:number-columns-spanned"]=c[u].e.c-c[u].s.c+1,m["table:number-rows-spanned"]=c[u].e.r-c[u].s.r+1;break}if(p)i.push("          <table:covered-table-cell/>\n");else{var v=rl({r:o,c:s}),y=d?(n[o]||[])[s]:n[v];if(y&&y.f&&(m["table:formula"]=_o(md(y.f)),y.F&&y.F.slice(0,v.length)==v)){var b=al(y.F);m["table:number-matrix-columns-spanned"]=b.e.c-b.s.c+1,m["table:number-matrix-rows-spanned"]=b.e.r-b.s.r+1}if(y){switch(y.t){case"b":g=y.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=y.v?"true":"false";break;case"n":g=y.w||String(y.v||0),m["office:value-type"]="float",m["office:value"]=y.v||0;break;case"s":case"str":g=null==y.v?"":y.v,m["office:value-type"]="string";break;case"d":g=y.w||uo(y.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=uo(y.v).toISOString(),m["table:style-name"]="ce1";break;default:i.push(t);continue}var x=e(g);if(y.l&&y.l.Target){var w=y.l.Target;"#"==(w="#"==w.charAt(0)?"#"+gd(w.slice(1)):w).charAt(0)||w.match(/^\w+:/)||(w="../"+w),x=zo("text:a",x,{"xlink:href":w.replace(/&/g,"&amp;")})}i.push("          "+zo("table:table-cell",zo("text:p",x,{}),m)+"\n")}else i.push(t)}}i.push("        </table:table-row>\n")}return i.push("      </table:table>\n"),i.join("")};return function(e,t){var r=[xo],a=Uo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),i=Uo({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(r.push("<office:document"+a+i+">\n"),r.push(Zl().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var a=t["!cols"][r];if(null==a.width&&null==a.wpx&&null==a.wch)continue;nu(a),a.ods=n;var i=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n'),e.push("  </style:style>\n"),++n}});var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var a=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var o=0;o!=e.SheetNames.length;++o)r.push(n(e.Sheets[e.SheetNames[o]],e,o));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==t.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function Th(e,t){if("fods"==t.bookType)return Eh(e,t);var n=bo(),r="",a=[],i=[];return yo(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),yo(n,r="content.xml",Eh(e,t)),a.push([r,"text/xml"]),i.push([r,"ContentFile"]),yo(n,r="styles.xml",Ch(e,t)),a.push([r,"text/xml"]),i.push([r,"StylesFile"]),yo(n,r="meta.xml",xo+Zl()),a.push([r,"text/xml"]),i.push([r,"MetadataFile"]),yo(n,r="manifest.rdf",function(e){var t=[xo];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(Ql(e[n][0],e[n][1])),t.push(Jl("",e[n][0]));return t.push(Ql("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(i)),a.push([r,"application/rdf+xml"]),yo(n,r="META-INF/manifest.xml",function(e){var t=[xo];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),n}function Ah(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Oh(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Ga(Mo(e))}function Ih(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}function Ph(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function Dh(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Mh(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function Rh(e){for(var t=[],n=[0];n[0]<e.length;){var r,a=n[0],i=Ph(e,n),o=7&i,s=0;if(0==(i=Math.floor(i/8)))break;switch(o){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:s=4,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Ph(e,n),r=e.slice(n[0],n[0]+s),n[0]+=s;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(a))}var c={data:r,type:o};null==t[i]?t[i]=[c]:t[i].push(c)}return t}function Lh(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e){e.data&&(t.push(Dh(8*n+e.type)),2==e.type&&t.push(Dh(e.data.length)),t.push(e.data))})}),Ih(t)}function Fh(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=Ph(e,r),i=Rh(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:Mh(i[1][0].data),messages:[]};i[2].forEach(function(t){var n=Rh(t.data),a=Mh(n[3][0].data);o.messages.push({meta:n,data:e.slice(r[0],r[0]+a)}),r[0]+=a}),(null==(t=i[3])?void 0:t[0])&&(o.merge=Mh(i[3][0].data)>>>0>0),n.push(o)}return n}function Uh(e){var t=[];return e.forEach(function(e){var n=[];n[1]=[{data:Dh(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:Dh(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(e){r.push(e.data),e.meta[3]=[{type:0,data:Dh(e.data.length)}],n[2].push({data:Lh(e.meta),type:2})});var a=Lh(n);t.push(Dh(a.length)),t.push(a),r.forEach(function(e){return t.push(e)})}),Ih(t)}function zh(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Ph(t,n),a=[];n[0]<t.length;){var i=3&t[n[0]];if(0!=i){var o=0,s=0;if(1==i?(s=4+(t[n[0]]>>2&7),o=(224&t[n[0]++])<<3,o|=t[n[0]++]):(s=1+(t[n[0]++]>>2),2==i?(o=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(o=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[Ih(a)],0==o)throw new Error("Invalid offset 0");if(o>a[0].length)throw new Error("Invalid offset beyond length");if(s>=o)for(a.push(a[0].slice(-o)),s-=o;s>=a[a.length-1].length;)a.push(a[a.length-1]),s-=a[a.length-1].length;a.push(a[0].slice(-o,-o+s))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}a.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=Ih(a);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function Bh(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(zh(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Ih(t)}function Wh(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var i=Dh(r),o=i.length;t.push(i),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,a[0]=0,a[1]=255&o,a[2]=o>>8&255,a[3]=o>>16&255,n+=r}return Ih(t)}function Hh(e,t){var n=new Uint8Array(32),r=Ah(n),a=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=255&a;e[t+15]|=n>=0?0:128}(n,a,e.v),i|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),n.slice(0,a)}function Vh(e,t){var n=new Uint8Array(32),r=Ah(n),a=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),n.slice(0,a)}function qh(e){return Ph(Rh(e)[1][0].data)}function Kh(e,t,n){var r,a,i,o;if(!(null==(r=e[6])?void 0:r[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(o=null==(i=e[8])?void 0:i[0])?void 0:o.data)&&Mh(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var s=0,l=Ah(e[7][0].data),c=0,u=[],d=Ah(e[4][0].data),h=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),d.setUint16(2*p,h,!0),typeof t[p]){case"string":m=Hh({t:"s",v:t[p]},n),g=Vh({t:"s",v:t[p]},n);break;case"number":m=Hh({t:"n",v:t[p]},n),g=Vh({t:"n",v:t[p]},n);break;case"boolean":m=Hh({t:"b",v:t[p]},n),g=Vh({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,f.push(g),h+=g.length,++s}else l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535);for(e[2][0].data=Dh(s);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535,!0);return e[6][0].data=Ih(u),e[3][0].data=Ih(f),s}function Yh(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function Gh(e){Yh([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function $h(e,t){return"ods"==t.bookType?Th(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=al(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(il(r)));var i=of(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&o.push(e)})});var s={},l=[],c=Yi.read(t.numbers,{type:"base64"});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&Fh(Bh(t.content)).forEach(function(e){l.push(e.id),s[e.id]={deps:[],location:n,type:Mh(e.messages[0].meta[1][0].data)}})}),l.sort(function(e,t){return e-t});var u=l.filter(function(e){return e>1}).map(function(e){return[e,Dh(e)]});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&Fh(Bh(t.content)).forEach(function(e){e.messages.forEach(function(t){u.forEach(function(t){e.messages.some(function(e){return 11006!=Mh(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])})&&s[t[0]].deps.push(e.id)})})})});for(var d,h=Yi.find(c,s[1].location),f=Fh(Bh(h.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(d=m)}var g=qh(Rh(d.messages[0].data)[1][0].data);for(f=Fh(Bh((h=Yi.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);for(g=qh(Rh(d.messages[0].data)[2][0].data),f=Fh(Bh((h=Yi.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);for(g=qh(Rh(d.messages[0].data)[2][0].data),f=Fh(Bh((h=Yi.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);var v=Rh(d.messages[0].data);v[6][0].data=Dh(r.e.r+1),v[7][0].data=Dh(r.e.c+1);for(var y=qh(v[46][0].data),b=Yi.find(c,s[y].location),x=Fh(Bh(b.content)),w=0;w<x.length&&x[w].id!=y;++w);if(x[w].id!=y)throw"Bad ColumnRowUIDMapArchive";var S=Rh(x[w].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var k=0;k<=r.e.c;++k){var N=[];N[1]=N[2]=[{type:0,data:Dh(k+420690)}],S[1].push({type:2,data:Lh(N)}),S[2].push({type:0,data:Dh(k)}),S[3].push({type:0,data:Dh(k)})}S[4]=[],S[5]=[],S[6]=[];for(var _=0;_<=r.e.r;++_)(N=[])[1]=N[2]=[{type:0,data:Dh(_+726270)}],S[4].push({type:2,data:Lh(N)}),S[5].push({type:0,data:Dh(_)}),S[6].push({type:0,data:Dh(_)});x[w].messages[0].data=Lh(S),b.content=Wh(Uh(x)),b.size=b.content.length,delete v[46];var j=Rh(v[4][0].data);j[7][0].data=Dh(r.e.r+1);var C=qh(Rh(j[1][0].data)[2][0].data);if((x=Fh(Bh((b=Yi.find(c,s[C].location)).content)))[0].id!=C)throw"Bad HeaderStorageBucket";var E=Rh(x[0].messages[0].data);for(_=0;_<i.length;++_){var T=Rh(E[2][0].data);T[1][0].data=Dh(_),T[4][0].data=Dh(i[_].length),E[2][_]={type:E[2][0].type,data:Lh(T)}}x[0].messages[0].data=Lh(E),b.content=Wh(Uh(x)),b.size=b.content.length;var A=qh(j[2][0].data);if((x=Fh(Bh((b=Yi.find(c,s[A].location)).content)))[0].id!=A)throw"Bad HeaderStorageBucket";for(E=Rh(x[0].messages[0].data),k=0;k<=r.e.c;++k)(T=Rh(E[2][0].data))[1][0].data=Dh(k),T[4][0].data=Dh(r.e.r+1),E[2][k]={type:E[2][0].type,data:Lh(T)};x[0].messages[0].data=Lh(E),b.content=Wh(Uh(x)),b.size=b.content.length;var O=qh(j[4][0].data);!function(){for(var e,t=Yi.find(c,s[O].location),n=Fh(Bh(t.content)),r=0;r<n.length;++r){var a=n[r];a.id==O&&(e=a)}var i=Rh(e.messages[0].data);i[3]=[];var l=[];o.forEach(function(e,t){l[1]=[{type:0,data:Dh(t)}],l[2]=[{type:0,data:Dh(1)}],l[3]=[{type:2,data:Oh(e)}],i[3].push({type:2,data:Lh(l)})}),e.messages[0].data=Lh(i);var u=Wh(Uh(n));t.content=u,t.size=t.content.length}();var I=Rh(j[3][0].data),P=I[1][0];delete I[2];var D=Rh(P.data),M=qh(D[2][0].data);!function(){for(var e,t=Yi.find(c,s[M].location),n=Fh(Bh(t.content)),a=0;a<n.length;++a){var l=n[a];l.id==M&&(e=l)}var u=Rh(e.messages[0].data);delete u[6],delete I[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var h=0,f=0;f<=r.e.r;++f){var p=Rh(d);h+=Kh(p,i[f],o),p[1][0].data=Dh(f),u[5].push({data:Lh(p),type:2})}u[1]=[{type:0,data:Dh(r.e.c+1)}],u[2]=[{type:0,data:Dh(r.e.r+1)}],u[3]=[{type:0,data:Dh(h)}],u[4]=[{type:0,data:Dh(r.e.r+1)}],e.messages[0].data=Lh(u);var m=Wh(Uh(n));t.content=m,t.size=t.content.length}(),P.data=Lh(D),j[3][0].data=Lh(I),v[4][0].data=Lh(j),d.messages[0].data=Lh(v);var R=Wh(Uh(f));return h.content=R,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){ku=1024,e&&!e.SSF&&(e.SSF=fo(ci));e&&e.SSF&&(Vi(),Hi(e.SSF),t.revssf=eo(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,vd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=Tu.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Gh(t=t||{});var i=bo(),o="",s=0;t.cellXfs=[],wd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(yo(i,o="docProps/core.xml",nc(e.Props,t)),a.coreprops.push(o),Xl(t.rels,2,o,Yl.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,yo(i,o,ic(e.Props)),a.extprops.push(o),Xl(t.rels,3,o,Yl.EXT_PROPS),e.Custprops!==e.Props&&Qi(e.Custprops||{}).length>0&&(yo(i,o="docProps/custom.xml",oc(e.Custprops)),a.custprops.push(o),Xl(t.rels,4,o,Yl.CUST_PROPS));for(s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},d=e.Sheets[e.SheetNames[s-1]];(d||{})["!type"];if(yo(i,o="xl/worksheets/sheet"+s+"."+n,Xd(s-1,o,t,e,u)),a.sheets.push(o),Xl(t.wbrels,-1,"worksheets/sheet"+s+"."+n,Yl.WS[0]),d){var h=d["!comments"],f=!1,p="";h&&h.length>0&&(yo(i,p="xl/comments"+s+"."+n,Qd(h,p,t)),a.comments.push(p),Xl(u,-1,"../comments"+s+"."+n,Yl.CMNT),f=!0),d["!legacy"]&&f&&yo(i,"xl/drawings/vmlDrawing"+s+".vml",Nu(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&yo(i,Gl(o),$l(u))}null!=t.Strings&&t.Strings.length>0&&(yo(i,o="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?Yc:qc)(e,n)}(t.Strings,o,t)),a.strs.push(o),Xl(t.wbrels,-1,"sharedStrings."+n,Yl.SST));yo(i,o="xl/workbook."+n,function(e,t,n){return(".bin"===t.slice(-4)?$d:Kd)(e,n)}(e,o,t)),a.workbooks.push(o),Xl(t.rels,1,o,Yl.WB),yo(i,o="xl/theme/theme1.xml",xu(e.Themes,t)),a.themes.push(o),Xl(t.wbrels,-1,"theme/theme1.xml",Yl.THEME),yo(i,o="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?bu:ou)(e,n)}(e,o,t)),a.styles.push(o),Xl(t.wbrels,-1,"styles."+n,Yl.STY),e.vbaraw&&r&&(yo(i,o="xl/vbaProject.bin",e.vbaraw),a.vba.push(o),Xl(t.wbrels,-1,"vbaProject.bin",Yl.VBA));return yo(i,o="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?wu:Su)()}(o)),a.metadata.push(o),Xl(t.wbrels,-1,"metadata."+n,Yl.XLMETA),yo(i,"[Content_Types].xml",Kl(a,t)),yo(i,"_rels/.rels",$l(t.rels)),yo(i,"xl/_rels/workbook."+n+".rels",$l(t.wbrels)),delete t.revssf,delete t.ssf,i}(e,t):Xh(e,t)}function Xh(e,t){ku=1024,e&&!e.SSF&&(e.SSF=fo(ci)),e&&e.SSF&&(Vi(),Hi(e.SSF),t.revssf=eo(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,vd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=Tu.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};Gh(t=t||{});var i=bo(),o="",s=0;if(t.cellXfs=[],wd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),yo(i,o="docProps/core.xml",nc(e.Props,t)),a.coreprops.push(o),Xl(t.rels,2,o,Yl.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,yo(i,o,ic(e.Props)),a.extprops.push(o),Xl(t.rels,3,o,Yl.EXT_PROPS),e.Custprops!==e.Props&&Qi(e.Custprops||{}).length>0&&(yo(i,o="docProps/custom.xml",oc(e.Custprops)),a.custprops.push(o),Xl(t.rels,4,o,Yl.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];(h||{})["!type"];if(yo(i,o="xl/worksheets/sheet"+s+"."+n,jd(s-1,t,e,d)),a.sheets.push(o),Xl(t.wbrels,-1,"worksheets/sheet"+s+"."+n,Yl.WS[0]),h){var f=h["!comments"],p=!1,m="";if(f&&f.length>0){var g=!1;f.forEach(function(e){e[1].forEach(function(e){1==e.T&&(g=!0)})}),g&&(yo(i,m="xl/threadedComments/threadedComment"+s+"."+n,ju(f,u,t)),a.threadedcomments.push(m),Xl(d,-1,"../threadedComments/threadedComment"+s+"."+n,Yl.TCMNT)),yo(i,m="xl/comments"+s+"."+n,_u(f)),a.comments.push(m),Xl(d,-1,"../comments"+s+"."+n,Yl.CMNT),p=!0}h["!legacy"]&&p&&yo(i,"xl/drawings/vmlDrawing"+s+".vml",Nu(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&yo(i,Gl(o),$l(d))}return null!=t.Strings&&t.Strings.length>0&&(yo(i,o="xl/sharedStrings."+n,qc(t.Strings,t)),a.strs.push(o),Xl(t.wbrels,-1,"sharedStrings."+n,Yl.SST)),yo(i,o="xl/workbook."+n,Kd(e)),a.workbooks.push(o),Xl(t.rels,1,o,Yl.WB),yo(i,o="xl/theme/theme1.xml",xu(e.Themes,t)),a.themes.push(o),Xl(t.wbrels,-1,"theme/theme1.xml",Yl.THEME),yo(i,o="xl/styles."+n,ou(e,t)),a.styles.push(o),Xl(t.wbrels,-1,"styles."+n,Yl.STY),e.vbaraw&&r&&(yo(i,o="xl/vbaProject.bin",e.vbaraw),a.vba.push(o),Xl(t.wbrels,-1,"vbaProject.bin",Yl.VBA)),yo(i,o="xl/metadata."+n,Su()),a.metadata.push(o),Xl(t.wbrels,-1,"metadata."+n,Yl.XLMETA),u.length>1&&(yo(i,o="xl/persons/person.xml",function(e){var t=[xo,zo("personList",null,{xmlns:Yo,"xmlns:x":ts[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,n){t.push(zo("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(u)),a.people.push(o),Xl(t.wbrels,-1,"persons/person.xml",Yl.PEOPLE)),yo(i,"[Content_Types].xml",Kl(a,t)),yo(i,"_rels/.rels",$l(t.rels)),yo(i,"xl/_rels/workbook.xml.rels",$l(t.wbrels)),delete t.revssf,delete t.ssf,i}function Qh(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Ha(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Jh(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Xi(t.file,Yi.write(e,{type:Va?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Yi.write(e,t)}function Zh(e,t){var n={},r=Va?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Yi.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array($a(a))}return t.password&&"undefined"!==typeof encrypt_agile?Jh(encrypt_agile(a,t.password),t):"file"===t.type?Xi(t.file,a):"string"==t.type?Do(a):a}function ef(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Wa(Mo(r));case"binary":return Mo(r);case"string":return e;case"file":return Xi(t.file,r,"utf8");case"buffer":return Va?qa(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):ef(r,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function tf(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?Wa(n):"string"==t.type?Do(n):n;case"file":return Xi(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function nf(e,t){Ra(),qd(e);var n=fo(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=nf(e,n);return n.type="array",$a(r)}var a=0;if(n.sheet&&(a="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return ef(rh(e,n),n);case"slk":case"sylk":return ef(Uc.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return ef(kh(e.Sheets[e.SheetNames[a]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return Wa(e);case"binary":case"string":return e;case"file":return Xi(t.file,e,"binary");case"buffer":return Va?qa(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(uf(e.Sheets[e.SheetNames[a]],n),n);case"csv":return ef(cf(e.Sheets[e.SheetNames[a]],n),n,"\ufeff");case"dif":return ef(zc.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return tf(Fc.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return ef(Wc.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return ef(Xc.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return ef(Bc.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return ef(Th(e,n),n);case"wk1":return tf(Hc.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return tf(Hc.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),tf(yh(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return Jh(sh(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=fo(t||{});return Zh($h(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function rf(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function af(e,t,n,r,a,i,o,s){var l=Zs(n),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch(g){h.__rowNum__=n}else h.__rowNum__=n;if(!o||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=o?e[n][f]:e[r[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=i[f]){if(null==m)if("e"==p.t&&null===m)h[i[f]]=null;else if(void 0!==c)h[i[f]]=c;else{if(!u||null!==m)continue;h[i[f]]=null}else h[i[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?m:ll(p,m,s);null!=m&&(d=!1)}}else{if(void 0===c)continue;null!=i[f]&&(h[i[f]]=c)}}return{row:h,isempty:d}}function of(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=ol(u);break;case"number":(l=ol(e["!ref"])).s.r=u;break;default:l=u}r>0&&(a=0);var d=Zs(l.s.r),h=[],f=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,y=0,b={};g&&!e[v]&&(e[v]=[]);var x=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(x[y]||{}).hidden)switch(h[y]=tl(y),n=g?e[v][y]:e[h[y]+d],r){case 1:i[y]=y-l.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=c.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),s=o=ll(n,null,c),m=b[o]||0){do{s=o+"_"+m++}while(b[s]);b[o]=m,b[s]=1}else b[o]=1;i[y]=s}for(v=l.s.r+a;v<=l.e.r;++v)if(!(w[v]||{}).hidden){var S=af(e,l,v,h,r,i,g,c);(!1===S.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(f[p++]=S.row)}return f.length=p,f}var sf=/"/g;function lf(e,t,n,r,a,i,o,s){for(var l=!0,c=[],u="",d=Zs(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var f=s.dense?(e[n]||[])[h]:e[r[h]+d];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(s.rawNumbers&&"n"==f.t?f.v:ll(f,null,s));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===a||m===i||34===m||s.forceQuotes){u='"'+u.replace(sf,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(sf,'""')+'"'));c.push(u)}return!1===s.blankrows&&l?null:c.join(o)}function cf(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=ol(e["!ref"]),i=void 0!==r.FS?r.FS:",",o=i.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",l=s.charCodeAt(0),c=new RegExp(("|"==i?"\\|":i)+"+$"),u="",d=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(d[p]=tl(p));for(var m=0,g=a.s.r;g<=a.e.r;++g)(f[g]||{}).hidden||null!=(u=lf(e,a,g,d,o,l,i,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((m++?s:"")+u));return delete r.dense,n.join("")}function uf(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=cf(e,t);if("undefined"==typeof Fa||"string"==t.type)return n;var r=Fa.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function df(e,t,n){var r,a=n||{},i=+!a.skipHeader,o=e||{},s=0,l=0;if(o&&null!=a.origin)if("number"==typeof a.origin)s=a.origin;else{var c="string"==typeof a.origin?nl(a.origin):a.origin;s=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:s+t.length-1+i}};if(o["!ref"]){var d=ol(o["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==s&&(s=d.e.r+1,u.e.r=s+t.length-1+i)}else-1==s&&(s=0,u.e.r=t.length-1+i);var h=a.header||[],f=0;t.forEach(function(e,t){Qi(e).forEach(function(n){-1==(f=h.indexOf(n))&&(h[f=h.length]=n);var c=e[n],u="z",d="",p=rl({c:l+f,r:s+t+i});r=hf(o,p),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",a.cellDates||(u="n",c=no(c)),d=a.dateNF||ci[14]):null===c&&a.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,d&&(r.z=d)):o[p]=r={t:u,v:c},d&&(r.z=d)):o[p]=c})}),u.e.c=Math.max(u.e.c,l+h.length-1);var p=Zs(s);if(i)for(f=0;f<h.length;++f)o[tl(f+l)+p]={t:"s",v:h[f]};return o["!ref"]=il(u),o}function hf(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=nl(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return hf(e,rl("number"!=typeof t?t:{r:t,c:n||0}))}function ff(){return{SheetNames:[],Sheets:{}}}function pf(e,t,n,r){var a=1;if(!n)for(;a<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+a);++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(n=o+a);++a);}if(Vd(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function mf(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var gf={encode_col:tl,encode_row:Zs,encode_cell:rl,encode_range:il,decode_col:el,decode_row:Js,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:nl,decode_range:al,format_cell:ll,sheet_add_aoa:ul,sheet_add_json:df,sheet_add_dom:Nh,aoa_to_sheet:dl,json_to_sheet:function(e,t){return df(null,e,t)},table_to_sheet:_h,table_to_book:function(e,t){return cl(_h(e,t),t)},sheet_to_csv:cf,sheet_to_txt:uf,sheet_to_json:of,sheet_to_html:kh,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var a,i=ol(e["!ref"]),o="",s=[],l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)s[a]=tl(a);for(var u=i.s.r;u<=i.e.r;++u)for(o=Zs(u),a=i.s.c;a<=i.e.c;++a)if(n=s[a]+o,r="",void 0!==(t=c?(e[u]||[])[a]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:of,sheet_get_cell:hf,book_new:ff,book_append_sheet:pf,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:mf,cell_set_internal_link:function(e,t,n){return mf(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var a="string"!=typeof t?t:ol(t),i="string"==typeof t?t:il(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=hf(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};Ta.version;const vf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=e.filter(e=>{var t;const n=(0,bt.V0)(e.currentStock,e.minimumLevel);return["out","critical","low"].includes(n)&&!(null!==(t=e.orderedStatus)&&void 0!==t&&t.isOrdered)}).map(e=>{var n;return{EAN:e.ean||"","Product Name":e.name,"Current Stock":"".concat(e.currentStock," ").concat(e.unit),Minimum:"".concat(e.minimumLevel," ").concat(e.unit),Optimal:"".concat(e.optimalLevel||2*e.minimumLevel," ").concat(e.unit),Status:(0,bt.V0)(e.currentStock,e.minimumLevel),"Stock %":"".concat(Math.round(e.currentStock/e.minimumLevel*100),"%"),"Days Remaining":e.daysRemaining===1/0?"No data":0===e.daysRemaining?"OUT NOW":"".concat(e.daysRemaining," days"),"Avg Daily Use":null!==(n=e.forecast)&&void 0!==n&&n.averageDailyConsumption?"".concat(e.forecast.averageDailyConsumption.toFixed(1)," ").concat(e.unit,"/day"):"No data","Recommended Order":"".concat(e.recommendedOrder||0," ").concat(e.unit),"Pack Size":e.unitPackSize||1,"Packs to Order":Math.ceil((e.recommendedOrder||0)/(e.unitPackSize||1)),Frequency:e.frequency.toUpperCase(),Category:Ye(e.category,t),"Cost per Unit":e.cost?"\u20ac".concat(e.cost.toFixed(2)):"N/A","Total Cost":e.cost?"\u20ac".concat((e.cost*(e.recommendedOrder||0)).toFixed(2)):"N/A","Last Updated":new Date(e.lastUsed).toLocaleDateString(),Urgent:"out"===e.status?"YES":"critical"===e.status?"CRITICAL":(e.daysRemaining||0)<=3?"YES":"NO"}}),r=gf.book_new(),a=gf.json_to_sheet(n);a["!cols"]=[{wch:15},{wch:30},{wch:12},{wch:12},{wch:12},{wch:10},{wch:8},{wch:12},{wch:15},{wch:15},{wch:10},{wch:12},{wch:10},{wch:15},{wch:12},{wch:12},{wch:12},{wch:8}],gf.book_append_sheet(r,a,"Order List");const i=n.reduce((e,t)=>e+(parseFloat(t["Total Cost"].replace("\u20ac",""))||0),0),o=[{Metric:"Report Generated",Value:(new Date).toLocaleString()},{Metric:"Total Items to Order",Value:n.length},{Metric:"Out of Stock (RED)",Value:n.filter(e=>"out"===e.Status).length},{Metric:"Critical \u226420% (ORANGE)",Value:n.filter(e=>"critical"===e.Status).length},{Metric:"Low Stock \u226450% (YELLOW)",Value:n.filter(e=>"low"===e.Status).length},{Metric:"Urgent Orders (\u22643 days)",Value:n.filter(e=>"YES"===e.Urgent||"CRITICAL"===e.Urgent).length},{Metric:"Total Estimated Cost",Value:"\u20ac".concat(i.toFixed(2))},{Metric:"Daily Frequency Items",Value:n.filter(e=>"DAILY"===e.Frequency).length},{Metric:"Weekly Frequency Items",Value:n.filter(e=>"WEEKLY"===e.Frequency).length},{Metric:"Monthly Frequency Items",Value:n.filter(e=>"MONTHLY"===e.Frequency).length}],s=gf.json_to_sheet(o);s["!cols"]=[{wch:25},{wch:20}],gf.book_append_sheet(r,s,"Summary");const l=gf.json_to_sheet([{Instructions:"Color Coding Guide"},{Instructions:'Status = "out" \u2192 RED - Out of stock, order immediately'},{Instructions:'Status = "critical" \u2192 ORANGE - \u226420% of minimum, urgent order'},{Instructions:'Status = "low" \u2192 YELLOW - \u226450% of minimum, order soon'},{Instructions:""},{Instructions:"Priority Order:"},{Instructions:'1. All items with Urgent = "YES"'},{Instructions:'2. Items with lowest "Days Remaining"'},{Instructions:"3. Items with highest daily consumption"},{Instructions:""},{Instructions:"Pack Size Information:"},{Instructions:'Use "Packs to Order" for ordering if supplier sells in packs'},{Instructions:'Use "Recommended Order" for individual unit ordering'}]);l["!cols"]=[{wch:50}],gf.book_append_sheet(r,l,"Instructions");const c=(new Date).toISOString().split("T")[0],u="Hamptown_Order_".concat(c,".xlsx");try{return function(e,t,n){var r=n||{};r.type="file",r.file=t,rf(r),nf(e,r)}(r,u),u}catch(d){throw console.error("Error generating Excel file:",d),new Error("Failed to generate Excel file")}},yf=u("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),bf=e=>{var n;let{alert:r}=e;const[a,i]=(0,t.useState)(!1),o={topItems:[{id:"1",name:"Chocolate Hearts",consumed:45,normal:15},{id:"2",name:"Red Wine",consumed:30,normal:10},{id:"3",name:"Fresh Roses",consumed:25,normal:5}],totalIncrease:"165%",peakDay:"February 14th"};return(0,j.jsxs)("div",{className:"border-l-4 p-4 rounded-lg transition-all ".concat(r.daysUntil<=7?"border-red-500 bg-red-50":r.daysUntil<=14?"border-orange-500 bg-orange-50":"border-yellow-500 bg-yellow-50"),children:[(0,j.jsxs)("div",{className:"flex items-start justify-between",children:[(0,j.jsxs)("div",{className:"flex items-start flex-1",children:[(0,j.jsx)(ue,{className:"w-5 h-5 text-orange-500 mt-1 mr-3 flex-shrink-0"}),(0,j.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("h3",{className:"font-semibold text-orange-900 text-sm md:text-base",children:r.daysUntil<=7?"\ud83d\udea8 URGENT - Order Now!":r.daysUntil<=14?"\u26a0\ufe0f Important - Plan Order":"\ud83d\udcc5 Upcoming - Review Soon"}),(0,j.jsxs)("span",{className:"text-xs md:text-sm font-medium px-2 py-1 bg-orange-200 text-orange-800 rounded-full",children:[r.daysUntil," days"]})]}),(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("p",{className:"text-orange-700 font-medium text-sm md:text-base",children:r.holiday}),(0,j.jsx)("p",{className:"text-orange-600 text-xs md:text-sm",children:"Based on last year, expect significant consumption increases"})]}),(0,j.jsxs)("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-3 gap-2 text-xs",children:[(0,j.jsxs)("div",{className:"bg-white bg-opacity-50 rounded p-2",children:[(0,j.jsx)("div",{className:"font-medium text-orange-800",children:"Expected Increase"}),(0,j.jsxs)("div",{className:"text-orange-600",children:["+",o.totalIncrease]})]}),(0,j.jsxs)("div",{className:"bg-white bg-opacity-50 rounded p-2",children:[(0,j.jsx)("div",{className:"font-medium text-orange-800",children:"Top Item Impact"}),(0,j.jsx)("div",{className:"text-orange-600",children:null===(n=o.topItems[0])||void 0===n?void 0:n.name})]}),(0,j.jsxs)("div",{className:"bg-white bg-opacity-50 rounded p-2 col-span-2 md:col-span-1",children:[(0,j.jsx)("div",{className:"font-medium text-orange-800",children:"Peak Day"}),(0,j.jsx)("div",{className:"text-orange-600",children:o.peakDay})]})]})]})]}),(0,j.jsx)("button",{onClick:()=>i(!a),className:"ml-2 p-1 hover:bg-orange-200 rounded transition-colors flex-shrink-0","aria-label":a?"Collapse details":"Expand details",children:a?(0,j.jsx)(yf,{className:"w-4 h-4 text-orange-600"}):(0,j.jsx)(d,{className:"w-4 h-4 text-orange-600"})})]}),a&&(0,j.jsxs)("div",{className:"mt-4 pt-4 border-t border-orange-200",children:[(0,j.jsxs)("h4",{className:"font-medium text-orange-900 mb-3 flex items-center text-sm",children:[(0,j.jsx)(m,{className:"w-4 h-4 mr-2"}),"Last Year's Consumption Pattern"]}),(0,j.jsx)("div",{className:"space-y-3",children:o.topItems.map((e,t)=>(0,j.jsxs)("div",{className:"flex items-center justify-between bg-white bg-opacity-60 rounded p-3",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsx)("span",{className:"w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-orange-900 text-sm",children:e.name}),(0,j.jsxs)("div",{className:"text-xs text-orange-600",children:["Used ",e.consumed," units (normal: ",e.normal,")"]})]})]}),(0,j.jsxs)("div",{className:"text-right",children:[(0,j.jsxs)("div",{className:"font-bold text-orange-800",children:["+",Math.round((e.consumed-e.normal)/e.normal*100),"%"]}),(0,j.jsx)("div",{className:"text-xs text-orange-600",children:"increase"})]})]},e.id))}),(0,j.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row gap-2",children:[(0,j.jsx)("button",{className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition-colors text-sm font-medium",children:"\ud83d\udccb Generate Holiday Order List"}),(0,j.jsx)("button",{className:"flex-1 bg-white border border-orange-300 text-orange-700 px-4 py-2 rounded hover:bg-orange-50 transition-colors text-sm font-medium",children:"\ud83d\udcca View Full Analysis"})]}),(0,j.jsx)("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded",children:(0,j.jsxs)("div",{className:"flex items-start",children:[(0,j.jsx)("span",{className:"text-yellow-600 mr-2",children:"\ud83d\udca1"}),(0,j.jsxs)("div",{className:"text-xs text-yellow-700",children:[(0,j.jsx)("strong",{children:"Pro Tip:"})," Order 2-3 days before the holiday to ensure delivery. Consider staff schedule changes and supplier availability during holiday periods."]})]})})]})]})},xf=e=>{var t,n,r,a,i,o;let{item:s,isSelected:l,onToggleSelection:c}=e;const u=null===(t=s.orderedStatus)||void 0===t?void 0:t.isOrdered;return(0,j.jsxs)("div",{className:"border-2 rounded-lg p-4 ".concat(u?"border-blue-500 bg-blue-50 opacity-75":{out:"border-red-500 bg-red-50",critical:"border-orange-500 bg-orange-50",low:"border-yellow-500 bg-yellow-50",ok:"border-green-500 bg-green-50"}[s.status||"ok"]," ").concat(l?"ring-2 ring-blue-500 ring-offset-2":""),children:[u&&(0,j.jsxs)("div",{className:"mb-3 text-sm bg-blue-100 text-blue-700 px-2 py-1 rounded",children:[(0,j.jsx)(Na,{className:"w-4 h-4 inline mr-1"}),"Ordered ",null===(n=s.orderedStatus)||void 0===n?void 0:n.orderedQuantity," units on ",null!==(r=s.orderedStatus)&&void 0!==r&&r.orderedDate?new Date(s.orderedStatus.orderedDate).toLocaleDateString():"Unknown date",(null===(a=s.orderedStatus)||void 0===a?void 0:a.expectedDelivery)&&(0,j.jsxs)("div",{className:"text-xs mt-1",children:["Expected: ",new Date(s.orderedStatus.expectedDelivery).toLocaleDateString()]})]}),(0,j.jsxs)("div",{className:"flex items-start gap-2 mb-3",children:[!u&&(0,j.jsx)("input",{type:"checkbox",checked:l,onChange:c,className:"w-5 h-5 md:w-4 md:h-4 mt-1 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0"}),(0,j.jsx)("h3",{className:"font-semibold text-lg flex-1 min-w-0",children:(0,j.jsx)("span",{className:"truncate block",title:s.name,children:s.name})}),(0,j.jsx)("span",{className:"text-xs px-2 py-1 rounded-full flex-shrink-0 ".concat({daily:"bg-red-200 text-red-800",weekly:"bg-yellow-200 text-yellow-800",monthly:"bg-green-200 text-green-800",database:"bg-blue-200 text-blue-800",outofstock:"bg-gray-200 text-gray-800"}[s.frequency]),children:s.frequency})]}),(0,j.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Current:"}),(0,j.jsxs)("span",{className:"font-medium",children:[s.currentStock," ",s.unit]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Minimum:"}),(0,j.jsxs)("span",{children:[s.minimumLevel," ",s.unit]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Optimal:"}),(0,j.jsxs)("span",{children:[s.optimalLevel," ",s.unit]})]}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,j.jsxs)("span",{className:"font-medium capitalize ".concat("out"===s.status?"text-red-600":"critical"===s.status?"text-orange-600":"low"===s.status?"text-yellow-600":"text-green-600"),children:[s.status," (",Math.round(s.currentStock/s.minimumLevel*100),"%)"]})]}),(0,j.jsxs)("div",{className:"border-t pt-2 mt-2",children:[(0,j.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,j.jsx)(Fe,{className:"w-4 h-4 mr-1"}),(0,j.jsxs)("span",{children:["~",null===(i=s.forecast)||void 0===i?void 0:i.averageDailyConsumption.toFixed(1)," ",s.unit,"/day"]})]}),(0,j.jsx)("div",{className:"font-medium mt-1 ".concat((s.daysRemaining||0)<=2?"text-red-600":(s.daysRemaining||0)<=7?"text-orange-600":"text-green-600"),children:0===s.daysRemaining?"Out of stock!":s.daysRemaining===1/0?"No consumption data":"Will last ".concat(s.daysRemaining," days")}),(null===(o=s.forecast)||void 0===o?void 0:o.usualOrderThreshold)&&(0,j.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Usually order at ",s.forecast.usualOrderThreshold.toFixed(0),"% of minimum"]})]}),(0,j.jsxs)("div",{className:"border-t pt-2 mt-2 bg-white rounded p-2",children:[(0,j.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"Recommended order:"}),(0,j.jsxs)("div",{className:"font-semibold text-green-600",children:[s.recommendedOrder," ",s.unit,s.unitPackSize&&(0,j.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",Math.ceil((s.recommendedOrder||0)/s.unitPackSize)," packs)"]})]})]})]})]})},wf=()=>{const{dailyItems:e,weeklyItems:n,monthlyItems:r,setDailyItems:a,setWeeklyItems:i,setMonthlyItems:o,quickSave:s,customCategories:l}=vt(),[c,u]=(0,t.useState)("critical"),[d]=(0,t.useState)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;const t=new Date,n=[];return Object.entries(Ea).forEach(r=>{let[a,i]=r;if(!i.date||i.floating)return;const[o,s]=i.date.split("-").map(Number),l=new Date(t.getFullYear(),o-1,s),c=new Date(t.getFullYear()+1,o-1,s),u=l>=t?l:c,d=Math.ceil((u.getTime()-t.getTime())/864e5);d<=e&&d>0&&n.push({holiday:i.name,daysUntil:d,lastYearData:{date:i.date,items:[]},recommendations:[]})}),n.sort((e,t)=>e.daysUntil-t.daysUntil)}()),[h,f]=(0,t.useState)(new Set),[p,m]=(0,t.useState)($e()),g=(0,t.useMemo)(()=>Ca(e,n,r),[e,n,r]),v=(0,t.useMemo)(()=>"all"===c?g:g.filter(e=>e.status===c),[g,c]),y=(()=>{const t=[...e,...n,...r];return{out:t.filter(e=>0===e.currentStock).length,critical:t.filter(e=>{const t=e.currentStock/e.minLevel*100;return t>0&&t<=20}).length,low:t.filter(e=>{const t=e.currentStock/e.minLevel*100;return t>20&&t<=50}).length,total:t.filter(e=>{const t=(0,bt.V0)(e.currentStock,e.minLevel);return["out","critical","low"].includes(t)}).length}})();return(0,j.jsxs)("div",{className:"space-y-6 pb-20",children:[d.length>0&&(0,j.jsx)("div",{className:"space-y-4",children:d.map((e,t)=>(0,j.jsx)(bf,{alert:e},t))}),(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,j.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stock Status Summary"}),(0,j.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,j.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-red-600",children:y.out}),(0,j.jsx)("div",{className:"text-sm text-red-600",children:"Out of Stock"})]}),(0,j.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:y.critical}),(0,j.jsx)("div",{className:"text-sm text-orange-600",children:"Critical (\u226420%)"})]}),(0,j.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:y.low}),(0,j.jsx)("div",{className:"text-sm text-yellow-600",children:"Low Stock (\u226450%)"})]}),(0,j.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,j.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:y.total}),(0,j.jsx)("div",{className:"text-sm text-blue-600",children:"Total Needs Attention"})]})]})]}),"undefined"!==typeof window&&"Notification"in window&&(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[p.enabled?(0,j.jsx)(Sa,{className:"w-5 h-5 text-blue-600 mr-3"}):(0,j.jsx)(ka,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Inventory Notifications"}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Get notified when items are out of stock or running low (\u226420%)"})]})]}),(0,j.jsx)("div",{className:"flex items-center",children:(0,j.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,j.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:p.enabled,onChange:async()=>{try{const e=!p.enabled,t=await(async e=>{if("undefined"===typeof window)return{success:!1,error:"Window not available"};if(!e)return localStorage.setItem(Ge,"false"),console.log("\ud83d\udd15 Notifications disabled by user"),{success:!0,permission:Notification.permission};if(!("Notification"in window))return{success:!1,error:"Notifications not supported in this browser"};try{console.log("\ud83d\udd14 Requesting notification permission...");const e=await Notification.requestPermission();return console.log("\ud83d\udd14 Permission result:",e),"granted"===e?(localStorage.setItem(Ge,"true"),console.log("\u2705 Notifications enabled successfully"),{success:!0,permission:e}):"denied"===e?(localStorage.setItem(Ge,"false"),{success:!1,error:"Notification permission denied. Please enable notifications in your browser settings.",permission:e}):(localStorage.setItem(Ge,"false"),{success:!1,error:"Permission request was dismissed. Please try again and allow notifications.",permission:e})}catch(t){return console.error("\u274c Error requesting notification permission:",t),localStorage.setItem(Ge,"false"),{success:!1,error:"Failed to request permission: ".concat(t instanceof Error?t.message:"Unknown error"),permission:Notification.permission}}})(e);t.success?(m($e()),Be(e?"Notifications enabled!":"Notifications disabled"),e&&(console.log("\ud83d\udd14 Sending test notification..."),setTimeout(()=>rt(),1e3))):(m($e()),t.error?(Be(t.error),console.error("\u274c Notification enable failed:",t.error)):Be("Failed to enable notifications. Please check browser settings."),"denied"===t.permission&&(console.log("\u2139\ufe0f To enable notifications:"),console.log("1. Click the \ud83d\udd12 icon in your browser address bar"),console.log('2. Set Notifications to "Allow"'),console.log("3. Refresh the page and try again")))}catch(e){Be("Error updating notification settings"),console.error("\u274c Notification toggle error:",e),m($e())}}}),(0,j.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})})]}),p.enabled&&(0,j.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,j.jsxs)("div",{className:"flex items-center text-sm text-blue-700",children:[(0,j.jsx)(Na,{className:"w-4 h-4 mr-2"}),(0,j.jsx)("span",{children:"Notifications enabled for this device. You'll be alerted when inventory levels change."})]}),"granted"===p.permission&&(0,j.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"Permission granted - notifications will work even when the app is closed."}),Xe()&&(0,j.jsxs)("div",{className:"text-xs text-green-600 mt-1 flex items-center",children:[(0,j.jsx)("span",{className:"mr-1",children:"\ud83d\udcf1"}),"PWA mode detected - using enhanced notifications for better mobile experience."]}),Qe()&&(0,j.jsxs)("div",{className:"text-xs text-purple-600 mt-1 flex items-center",children:[(0,j.jsx)("span",{className:"mr-1",children:"\ud83c\udf4e"}),"iOS optimized notifications enabled."]})]}),!p.enabled&&(0,j.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,j.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:["Enable notifications to get alerts when items are out of stock or running low.",Xe()?" Using PWA-optimized notifications for better mobile experience.":"",Qe()&&!Xe()?" For best results on iOS, add this app to your home screen.":""]}),"denied"===p.permission&&(0,j.jsxs)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded mt-2",children:[(0,j.jsx)("strong",{children:"Permission Denied:"})," Please enable notifications in your browser settings:",(0,j.jsx)("br",{}),"1. Click the \ud83d\udd12 lock icon in your address bar",(0,j.jsx)("br",{}),'2. Set "Notifications" to "Allow"',(0,j.jsx)("br",{}),"3. Refresh the page and try again",Qe()&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("strong",{children:"iOS Users:"})," Add this app to your home screen for the best notification experience."]})]}),(0,j.jsxs)("div",{className:"mt-2 space-x-4",children:[(0,j.jsx)("button",{onClick:()=>(()=>{if("undefined"===typeof window)return void console.log("\ud83d\udd0d Debug: Running in server environment");const e=$e(),t=localStorage.getItem(Ge);try{var n;console.log("\ud83d\udd0d Notification Debug Status:",{browserSupported:"Notification"in window,permission:Notification.permission,localStorage:t,settingsEnabled:e.enabled,settingsPermission:e.permission,isPWAMode:Xe(),isIOS:Qe(),isServiceWorkerSupported:Je(),serviceWorkerRegistered:null!==(n=navigator.serviceWorker)&&void 0!==n&&n.controller?"Yes":"No",displayMode:window.matchMedia?window.matchMedia("(display-mode: standalone)").matches?"standalone":"browser":"unknown",userAgent:navigator.userAgent,protocol:window.location.protocol,isSecureContext:window.isSecureContext}),Xe()&&console.log("\ud83d\udcf1 PWA Mode detected - will use Service Worker notifications"),Qe()&&console.log("\ud83c\udf4e iOS detected - optimized for iOS PWA notifications"),e.enabled&&"granted"===e.permission&&(console.log("\ud83d\udd0d Attempting debug notification..."),rt())}catch(r){console.error("\u274c Debug function error:",r)}})(),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Debug Notification Status (Check Console)"}),Qe()&&!Xe()&&(0,j.jsx)("span",{className:"text-xs text-purple-600",children:"\ud83d\udca1 Add to home screen for better iOS notifications"})]})]})]}),(0,j.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-2",children:(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("div",{className:"flex space-x-2 min-w-max",children:[(0,j.jsxs)("button",{onClick:()=>u("out"),className:"px-4 py-2 rounded-lg whitespace-nowrap flex items-center ".concat("out"===c?"bg-red-500 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,j.jsx)(Le,{className:"w-4 h-4 mr-2"}),"Out of Stock (",y.out,")"]}),(0,j.jsxs)("button",{onClick:()=>u("critical"),className:"px-4 py-2 rounded-lg whitespace-nowrap flex items-center ".concat("critical"===c?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,j.jsx)(Le,{className:"w-4 h-4 mr-2"}),"Critical (",y.critical,")"]}),(0,j.jsxs)("button",{onClick:()=>u("low"),className:"px-4 py-2 rounded-lg whitespace-nowrap flex items-center ".concat("low"===c?"bg-yellow-500 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,j.jsx)(Fe,{className:"w-4 h-4 mr-2"}),"Low Stock (",y.low,")"]}),(0,j.jsxs)("button",{onClick:()=>u("all"),className:"px-4 py-2 rounded-lg whitespace-nowrap flex items-center ".concat("all"===c?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"),children:["All Items (",g.length,")"]})]})})}),h.size>0&&(0,j.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("span",{className:"text-blue-800 font-medium",children:[h.size," items selected"]}),(0,j.jsxs)("div",{className:"space-x-2",children:[(0,j.jsx)("button",{onClick:()=>f(new Set),className:"px-3 py-1 text-blue-600 hover:bg-blue-100 rounded text-sm",children:"Clear Selection"}),(0,j.jsxs)("button",{onClick:async()=>{if(0===h.size)return void Be("Please select items to mark as ordered");const t=Array.from(h),l=t.map(e=>{const t=g.find(t=>t.id.toString()===e);return(null===t||void 0===t?void 0:t.recommendedOrder)||(null===t||void 0===t?void 0:t.optimalLevel)||(null!==t&&void 0!==t&&t.minLevel?2*t.minLevel:10)});try{const c=(0,bt.Lz)(e,t,l),u=(0,bt.Lz)(n,t,l),d=(0,bt.Lz)(r,t,l);a(c),i(u),o(d),await s("inventoryDailyItems",c),await s("inventoryWeeklyItems",u),await s("inventoryMonthlyItems",d),f(new Set),Be("".concat(h.size," items marked as ordered"))}catch(c){Be("Error marking items as ordered"),console.error("Mark as ordered error:",c)}},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",children:[(0,j.jsx)(Na,{className:"w-4 h-4 inline mr-1"}),"Mark as Ordered"]})]})]})}),0===v.length?(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,j.jsx)(Q,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,j.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Items Found"}),(0,j.jsx)("p",{className:"text-gray-600",children:"all"===c?"All items are well stocked!":"No items with ".concat(c," stock status.")})]}):(0,j.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(e=>(0,j.jsx)(xf,{item:e,isSelected:h.has(e.id.toString()),onToggleSelection:()=>(e=>{const t=new Set(h);t.has(e)?t.delete(e):t.add(e),f(t)})(e.id.toString())},e.id))}),g.length>0&&(0,j.jsx)("div",{className:"fixed bottom-20 md:bottom-6 right-4 md:right-6 z-10",children:(0,j.jsxs)("button",{onClick:()=>{try{const e=vf(g,l);Be('Excel file "'.concat(e,'" generated successfully!'))}catch(e){Be("Error generating Excel file"),console.error("Excel generation error:",e)}},className:"bg-green-500 text-white px-6 py-3 rounded-full shadow-lg hover:bg-green-600 flex items-center transition-colors",children:[(0,j.jsx)(de,{className:"w-5 h-5 mr-2"}),"Generate Excel Order"]})})]})},Sf=u("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),kf=()=>{const{currentTab:e,switchTab:n,dailyItems:r,weeklyItems:a,monthlyItems:i,databaseItems:o,stockCountSnapshots:s,isAdmin:l}=vt(),c=t.useMemo(()=>Ca(r,a,i).length,[r,a,i]),u=[{id:"daily",label:"Daily Items",icon:Sf,count:r.length,color:"red"},{id:"weekly",label:"Weekly Items",icon:ue,count:a.length,color:"yellow"},{id:"monthly",label:"Monthly Items",icon:Q,count:i.length,color:"green"},{id:"outofstock",label:"Out of Stock",icon:Le,count:c,color:"orange"},{id:"database",label:"Items Database",icon:x,count:o.length,color:"blue"},{id:"analytics",label:"Analytics",icon:Oe,count:s.length,color:"purple"}],d=(t,n)=>{const r="flex-shrink-0 flex items-center justify-center px-4 py-3 rounded-lg transition-all font-medium whitespace-nowrap";return e===t?"".concat(r," bg-").concat(n,"-500 text-white"):"".concat(r," text-gray-600 hover:bg-gray-100")},h=(t,n)=>e===t?"ml-2 bg-".concat(n,"-600 px-2 py-1 rounded-full text-xs"):"ml-2 bg-gray-300 text-gray-700 px-2 py-1 rounded-full text-xs";return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"bg-white rounded-xl shadow-sm mb-6 p-2 overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",overflowX:"auto"},children:(0,j.jsx)("div",{className:"flex space-x-2",style:{width:"max-content",minWidth:"100%"},children:u.map(e=>{const t=e.icon,r=(a=e.id,["database","analytics"].includes(a));var a;const i=!r||l;return(0,j.jsxs)("button",{onClick:()=>(e=>{n(e)})(e.id),className:d(e.id,e.color),style:{minWidth:"max-content",display:i?"flex":"none"},children:[(0,j.jsx)(t,{className:"w-5 h-5 mr-2"}),e.label,r&&(0,j.jsx)(w,{className:"w-3 h-3 ml-1"}),(0,j.jsx)("span",{className:h(e.id,e.color),children:e.count})]},e.id)})})})})},Nf=()=>((0,t.useEffect)(()=>{let e=document.getElementById("toastContainer");return e||(e=document.createElement("div"),e.id="toastContainer",e.className="fixed top-4 right-4 z-50 space-y-2 pointer-events-none",document.body.appendChild(e)),()=>{const e=document.getElementById("toastContainer");e&&0===e.children.length&&e.remove()}},[]),(0,j.jsx)("div",{id:"toastContainer",className:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none",style:{zIndex:9999}})),_f=u("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]),jf=u("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Cf=u("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ef=u("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Tf=u("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);function Af(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Af(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Of(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Af(e))&&(r&&(r+=" "),r+=t);return r}var If=n(6135),Pf=n.n(If),Df=n(4879),Mf=n.n(Df),Rf=e=>0===e?0:e>0?1:-1,Lf=e=>"number"==typeof e&&e!=+e,Ff=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Uf=e=>("number"===typeof e||e instanceof Number)&&!Lf(e),zf=e=>Uf(e)||"string"===typeof e,Bf=0,Wf=e=>{var t=++Bf;return"".concat(e||"").concat(t)},Hf=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Uf(e)&&"string"!==typeof e)return r;if(Ff(e)){if(null==t)return r;var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return Lf(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},Vf=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},qf=(e,t)=>Uf(e)&&Uf(t)?n=>e+n*(t-e):()=>t;function Kf(e,t,n){return Uf(e)&&Uf(t)?e+n*(t-e):t}function Yf(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):Mf()(e,t))===n)}var Gf=e=>null===e||"undefined"===typeof e,$f=e=>Gf(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Xf=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]};function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach(function(t){Zf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ep=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=p,(0,t.useImperativeHandle)(n,()=>g.current);var[y,b]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),x=(0,t.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;x(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=Pf()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return x(n,r),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var w=(0,t.useMemo)(()=>{var{containerWidth:e,containerHeight:n}=y;if(e<0||n<0)return null;Xf(Ff(i)||Ff(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,o),Xf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var a=Ff(i)?e:i,d=Ff(o)?n:o;return r&&r>0&&(a?d=a/r:d&&(a=d*r),c&&d>c&&(d=c)),Xf(a>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,d,i,o,s,l,r),t.Children.map(u,e=>(0,t.cloneElement)(e,{width:a,height:d,style:Jf({width:a,height:d},e.props.style)}))},[r,u,o,c,l,s,y,i]);return t.createElement("div",{id:h?"".concat(h):void 0,className:Of("recharts-responsive-container",f),style:Jf(Jf({},m),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),tp=n(4467);function np(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var rp=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),ap=()=>Math.random().toString(36).substring(7).split("").join("."),ip={INIT:"@@redux/INIT".concat(ap()),REPLACE:"@@redux/REPLACE".concat(ap()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(ap())};function op(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function sp(e,t,n){if("function"!==typeof e)throw new Error(np(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(np(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(np(1));return n(sp)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(np(3));return a}function d(e){if("function"!==typeof e)throw new Error(np(4));if(l)throw new Error(np(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(np(6));t=!1,c(),o.delete(n),i=null}}}function h(e){if(!op(e))throw new Error(np(7));if("undefined"===typeof e.type)throw new Error(np(8));if("string"!==typeof e.type)throw new Error(np(17));if(l)throw new Error(np(9));try{l=!0,a=r(a,e)}finally{l=!1}return(i=o).forEach(e=>{e()}),e}h({type:ip.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(np(10));r=e,h({type:ip.REPLACE})},[rp]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(np(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[rp](){return this}}}}}function lp(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:ip.INIT}))throw new Error(np(12));if("undefined"===typeof n(void 0,{type:ip.PROBE_UNKNOWN_ACTION()}))throw new Error(np(13))})}(n)}catch(i){a=i}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1;const o={};for(let a=0;a<r.length;a++){const s=r[a],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(np(14))}o[s]=u,i=i||u!==c}return i=i||r.length!==Object.keys(e).length,i?o:e}}function cp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function up(e){return op(e)&&"type"in e&&"string"===typeof e.type}function dp(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var hp=dp(),fp=dp,pp=Symbol.for("immer-nothing"),mp=Symbol.for("immer-draftable"),gp=Symbol.for("immer-state");function vp(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var yp=Object.getPrototypeOf;function bp(e){return!!e&&!!e[gp]}function xp(e){var t;return!!e&&(Sp(e)||Array.isArray(e)||!!e[mp]||!(null===(t=e.constructor)||void 0===t||!t[mp])||Cp(e)||Ep(e))}var wp=Object.prototype.constructor.toString();function Sp(e){if(!e||"object"!==typeof e)return!1;const t=yp(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===wp}function kp(e,t){0===Np(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Np(e){const t=e[gp];return t?t.type_:Array.isArray(e)?1:Cp(e)?2:Ep(e)?3:0}function _p(e,t){return 2===Np(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jp(e,t,n){const r=Np(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Cp(e){return e instanceof Map}function Ep(e){return e instanceof Set}function Tp(e){return e.copy_||e.base_}function Ap(e,t){if(Cp(e))return new Map(e);if(Ep(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Sp(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[gp];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(yp(e),t)}{const t=yp(e);if(null!==t&&n)return(0,i.A)({},e);const r=Object.create(t);return Object.assign(r,e)}}function Op(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Pp(e)||bp(e)||!xp(e)||(Np(e)>1&&(e.set=e.add=e.clear=e.delete=Ip),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Op(n,!0)})),e}function Ip(){vp(2)}function Pp(e){return Object.isFrozen(e)}var Dp,Mp={};function Rp(e){const t=Mp[e];return t||vp(0),t}function Lp(){return Dp}function Fp(e,t){t&&(Rp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Up(e){zp(e),e.drafts_.forEach(Wp),e.drafts_=null}function zp(e){e===Dp&&(Dp=e.parent_)}function Bp(e){return Dp={drafts_:[],parent_:Dp,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wp(e){const t=e[gp];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Hp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[gp].modified_&&(Up(t),vp(4)),xp(e)&&(e=Vp(t,e),t.parent_||Kp(t,e)),t.patches_&&Rp("Patches").generateReplacementPatches_(n[gp].base_,e,t.patches_,t.inversePatches_)):e=Vp(t,n,[]),Up(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pp?e:void 0}function Vp(e,t,n){if(Pp(t))return t;const r=t[gp];if(!r)return kp(t,(a,i)=>qp(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Kp(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),kp(a,(a,o)=>qp(e,r,t,a,o,n,i)),Kp(e,t,!1),n&&e.patches_&&Rp("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function qp(e,t,n,r,a,i,o){if(bp(a)){const o=Vp(e,a,i&&t&&3!==t.type_&&!_p(t.assigned_,r)?i.concat(r):void 0);if(jp(n,r,o),!bp(o))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(xp(a)&&!Pp(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vp(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Kp(e,a)}}function Kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Op(t,n)}var Yp={get(e,t){if(t===gp)return e;const n=Tp(e);if(!_p(n,t))return function(e,t,n){var r;const a=Xp(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!xp(r)?r:r===$p(e.base_,t)?(Jp(e),e.copy_[t]=Zp(r,e)):r},has:(e,t)=>t in Tp(e),ownKeys:e=>Reflect.ownKeys(Tp(e)),set(e,t,n){const r=Xp(Tp(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=$p(Tp(e),t),o=null===r||void 0===r?void 0:r[gp];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(i=r)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==n||_p(e.base_,t)))return!0;Jp(e),Qp(e)}var a,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==$p(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Jp(e),Qp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Tp(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){vp(11)},getPrototypeOf:e=>yp(e.base_),setPrototypeOf(){vp(12)}},Gp={};function $p(e,t){const n=e[gp];return(n?Tp(n):e)[t]}function Xp(e,t){if(!(t in e))return;let n=yp(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=yp(n)}}function Qp(e){e.modified_||(e.modified_=!0,e.parent_&&Qp(e.parent_))}function Jp(e){e.copy_||(e.copy_=Ap(e.base_,e.scope_.immer_.useStrictShallowCopy_))}kp(Yp,(e,t)=>{Gp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Gp.deleteProperty=function(e,t){return Gp.set.call(this,e,t,void 0)},Gp.set=function(e,t,n){return Yp.set.call(this,e[0],t,n,e[0])};function Zp(e,t){const n=Cp(e)?Rp("MapSet").proxyMap_(e,t):Ep(e)?Rp("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Lp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=Yp;n&&(a=[r],i=Gp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Lp()).drafts_.push(n),n}function em(e){return bp(e)||vp(10),tm(e)}function tm(e){if(!xp(e)||Pp(e))return e;const t=e[gp];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ap(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ap(e,!0);return kp(n,(e,t)=>{jp(n,e,tm(t))}),t&&(t.finalized_=!1),n}var nm=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&vp(6),void 0!==n&&"function"!==typeof n&&vp(7),xp(e)){const a=Bp(this),i=Zp(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?Up(a):zp(a)}return Fp(a,n),Hp(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===pp&&(r=void 0),this.autoFreeze_&&Op(r,!0),n){const t=[],a=[];Rp("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}vp(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xp(e)||vp(8),bp(e)&&(e=em(e));const t=Bp(this),n=Zp(e,void 0);return n[gp].isManual_=!0,zp(t),n}finishDraft(e,t){const n=e&&e[gp];n&&n.isManual_||vp(9);const{scope_:r}=n;return Fp(r,t),Hp(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Rp("Patches").applyPatches_;return bp(e)?r(e,t):this.produce(e,e=>r(e,t))}},rm=nm.produce;nm.produceWithPatches.bind(nm),nm.setAutoFreeze.bind(nm),nm.setUseStrictShallowCopy.bind(nm),nm.applyPatches.bind(nm),nm.createDraft.bind(nm),nm.finishDraft.bind(nm);const am=["reducerPath"];var im="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?cp:cp.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function om(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(eg(0));return(0,i.A)((0,i.A)({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>up(t)&&t.type===e,n}var sm=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function lm(e){return xp(e)?rm(e,()=>{}):e}function cm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var um="RTK_autoBatch",dm=e=>t=>{setTimeout(t,e)},hm=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new sm(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,i=!1;const o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:dm(10):"callback"===e.type?e.queueNotification:dm(e.timeout),l=()=>{i=!1,a&&(a=!1,o.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[um]),a=!r,a&&(i||(i=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function fm(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let i=new sm;return t&&("boolean"===typeof t?i.push(hp):i.push(fp(t.extraArgument))),i},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s,enhancers:l}=e||{};let c,u;if("function"===typeof n)c=n;else{if(!op(n))throw new Error(eg(1));c=lp(n)}u="function"===typeof r?r(t):t();let d=cp;a&&(d=im((0,i.A)({trace:!1},"object"===typeof a&&a)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(np(15))};const s={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},l=t.map(e=>e(s));return o=cp(...l)(a.dispatch),(0,i.A)((0,i.A)({},a),{},{dispatch:o})}}(...u),f=hm(h);return sp(c,s,d(..."function"===typeof l?l(f):f()))}function pm(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(eg(28));if(r in t)throw new Error(eg(29));return t[r]=n,a},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var mm=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var gm=Symbol.for("rtk-slice-createasyncthunk");function vm(e,t){return"".concat(e,"/").concat(t)}function ym(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[gm];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(eg(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return(0,i.A)({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(eg(12));if(n in l.sliceCaseReducersByType)throw new Error(eg(13));return l.sliceCaseReducersByType[n]=t,c},addMatcher:(e,t)=>(l.sliceMatchers.push({matcher:e,reducer:t}),c),exposeAction:(e,t)=>(l.actionCreators[e]=t,c),exposeCaseReducer:(e,t)=>(l.sliceCaseReducersByName[e]=t,c)};function u(){const[t={},n=[],r]="function"===typeof e.extraReducers?pm(e.extraReducers):[e.extraReducers],a=(0,i.A)((0,i.A)({},t),l.sliceCaseReducersByType);return function(e,t){let n,[r,a,i]=pm(t);if("function"===typeof e)n=()=>lm(e());else{const t=lm(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[i]),o.reduce((e,n)=>{if(n){if(bp(e)){const r=n(e,t);return void 0===r?e:r}if(xp(e))return rm(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of l.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}s.forEach(r=>{const i=a[r],o={reducerName:r,type:vm(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,a,{type:i,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(eg(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(i,r).exposeCaseReducer(o,r).exposeAction(o,a?om(i,a):om(i))}(o,i,c):function(e,t,n,r){let{type:a,reducerName:i}=e;if(!r)throw new Error(eg(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(a,o,d);n.exposeAction(i,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(i,{fulfilled:s||wm,pending:l||wm,rejected:c||wm,settled:u||wm})}(o,i,c,n)});const d=e=>e,h=new Map,f=new WeakMap;let p;function m(e,t){return p||(p=u()),p(e,t)}function g(){return p||(p=u()),p.getInitialState()}function v(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=cm(f,r,g)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const r=cm(h,n,()=>new WeakMap);return cm(r,t,()=>{const r={};for(const[i,o]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;r[i]=bm(o,t,()=>cm(f,t,g),n)}return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const y=(0,i.A)((0,i.A)({name:t,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g},v(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,a=o(t,am);const s=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:s,reducer:m},a),(0,i.A)((0,i.A)({},y),v(s,!0))}});return y}}function bm(e,t,n,r){function a(a){let i=t(a);"undefined"===typeof i&&r&&(i=n());for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return e(i,...s)}return a.unwrapped=e,a}var xm=ym();function wm(){}var Sm="listener",km="completed",Nm="cancelled",_m="task-".concat(Nm),jm="task-".concat(km),Cm="".concat(Sm,"-").concat(Nm),Em="".concat(Sm,"-").concat(km),Tm=class{constructor(e){(0,tp.A)(this,"name","TaskAbortError"),(0,tp.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(Nm," (reason: ").concat(e,")")}},Am=(e,t)=>{if("function"!==typeof e)throw new TypeError(eg(32))},Om=()=>{},Im=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Om;return e.catch(t),e},Pm=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Dm=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Mm=e=>{if(e.aborted){const{reason:t}=e;throw new Tm(t)}};function Rm(e,t){let n=Om;return new Promise((r,a)=>{const i=()=>a(new Tm(e.reason));e.aborted?i():(n=Pm(e,i),t.finally(()=>n()).then(r,a))}).finally(()=>{n=Om})}var Lm=e=>t=>Im(Rm(e,t).then(t=>(Mm(e),t))),Fm=e=>{const t=Lm(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Um}=Object,zm={},Bm="listenerMiddleware",Wm=(e,t)=>(n,r)=>{Am(n);const a=new AbortController;var i;i=a,Pm(e,()=>Dm(i,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Tm?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{Mm(e),Mm(a.signal);const t=await n({pause:Lm(a.signal),delay:Fm(a.signal),signal:a.signal});return Mm(a.signal),t},()=>Dm(a,jm));return null!==r&&void 0!==r&&r.autoJoin&&t.push(o.catch(Om)),{result:Lm(e)(o),cancel(){Dm(a,_m)}}},Hm=(e,t)=>(n,r)=>Im((async(n,r)=>{Mm(t);let a=()=>{};const i=[new Promise((t,r)=>{let i=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{i(),r()}})];null!=r&&i.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await Rm(t,Promise.race(i));return Mm(t),e}finally{a()}})(n,r)),Vm=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=om(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(eg(21));return Am(i),{predicate:a,type:t,effect:i}},qm=Um(e=>{const{type:t,predicate:n,effect:r}=Vm(e);return{id:mm(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(eg(22))}}},{withTypes:()=>qm}),Km=(e,t)=>{const{type:n,effect:r,predicate:a}=Vm(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r)},Ym=e=>{e.pending.forEach(e=>{Dm(e,Cm)})},Gm=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},$m=Um(om("".concat(Bm,"/add")),{withTypes:()=>$m}),Xm=om("".concat(Bm,"/removeAll")),Qm=Um(om("".concat(Bm,"/remove")),{withTypes:()=>Qm}),Jm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(Bm,"/error"),...t)},Zm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=Jm}=e;Am(r);const a=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Ym(e)}))(null!==(n=Km(t,e))&&void 0!==n?n:qm(e))};Um(a,{withTypes:()=>a});const i=e=>{const n=Km(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Ym(n)),!!n};Um(i,{withTypes:()=>i});const o=async(e,i,o,s)=>{const l=new AbortController,c=Hm(a,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(i,Um({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:Fm(l.signal),pause:Lm(l.signal),extra:n,signal:l.signal,fork:Wm(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(Dm(e,Cm),n.delete(e))})},cancel:()=>{Dm(l,Cm),e.pending.delete(l)},throwIfCancelled:()=>{Mm(l.signal)}})))}catch(d){d instanceof Tm||Gm(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),Dm(l,Em),e.pending.delete(l)}},s=(e=>()=>{e.forEach(Ym),e.clear()})(t);return{middleware:e=>n=>l=>{if(!up(l))return n(l);if($m.match(l))return a(l.payload);if(Xm.match(l))return void s();if(Qm.match(l))return i(l.payload);let c=e.getState();const u=()=>{if(c===zm)throw new Error(eg(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(l,n,c)}catch(h){a=!1,Gm(r,h,{raisedBy:"predicate"})}a&&o(t,l,e,u)}}}finally{c=zm}return d},startListening:a,stopListening:i,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function eg(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function tg(e,t){if(t){var n=Number.parseInt(t,10);if(!Lf(n))return null===e||void 0===e?void 0:e[n]}}var ng=xm({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rg=ng.reducer,{createEventEmitter:ag}=ng.actions;n(7256);function ig(e){e()}var og={notify(){},get:()=>[]};function sg(e,t){let n,r=og,a=0,i=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){a++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ig(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=og)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,s())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>r};return c}var lg=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),cg=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),ug=(()=>lg||cg?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var dg=Symbol.for("react-redux-context"),hg="undefined"!==typeof globalThis?globalThis:{};function fg(){var e;if(!t.createContext)return{};const n=null!==(e=hg[dg])&&void 0!==e?e:hg[dg]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var pg=fg();var mg=function(e){const{children:n,context:r,serverState:a,store:i}=e,o=t.useMemo(()=>{const e=sg(i);return{store:i,subscription:e,getServerState:a?()=>a:void 0}},[i,a]),s=t.useMemo(()=>i.getState(),[i]);ug(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,s]);const l=r||pg;return t.createElement(l.Provider,{value:o},n)};var gg=Symbol.for("immer-nothing"),vg=Symbol.for("immer-draftable"),yg=Symbol.for("immer-state");function bg(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var xg=Object.getPrototypeOf;function wg(e){return!!e&&!!e[yg]}function Sg(e){var t;return!!e&&(Ng(e)||Array.isArray(e)||!!e[vg]||!(null===(t=e.constructor)||void 0===t||!t[vg])||Tg(e)||Ag(e))}var kg=Object.prototype.constructor.toString();function Ng(e){if(!e||"object"!==typeof e)return!1;const t=xg(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===kg}function _g(e,t){0===jg(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function jg(e){const t=e[yg];return t?t.type_:Array.isArray(e)?1:Tg(e)?2:Ag(e)?3:0}function Cg(e,t){return 2===jg(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Eg(e,t,n){const r=jg(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Tg(e){return e instanceof Map}function Ag(e){return e instanceof Set}function Og(e){return e.copy_||e.base_}function Ig(e,t){if(Tg(e))return new Map(e);if(Ag(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ng(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[yg];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(xg(e),t)}{const t=xg(e);if(null!==t&&n)return(0,i.A)({},e);const r=Object.create(t);return Object.assign(r,e)}}function Pg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Mg(e)||wg(e)||!Sg(e)||(jg(e)>1&&(e.set=e.add=e.clear=e.delete=Dg),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Pg(n,!0)})),e}function Dg(){bg(2)}function Mg(e){return Object.isFrozen(e)}var Rg,Lg={};function Fg(e){const t=Lg[e];return t||bg(0),t}function Ug(){return Rg}function zg(e,t){t&&(Fg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bg(e){Wg(e),e.drafts_.forEach(Vg),e.drafts_=null}function Wg(e){e===Rg&&(Rg=e.parent_)}function Hg(e){return Rg={drafts_:[],parent_:Rg,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vg(e){const t=e[yg];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function qg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[yg].modified_&&(Bg(t),bg(4)),Sg(e)&&(e=Kg(t,e),t.parent_||Gg(t,e)),t.patches_&&Fg("Patches").generateReplacementPatches_(n[yg].base_,e,t.patches_,t.inversePatches_)):e=Kg(t,n,[]),Bg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gg?e:void 0}function Kg(e,t,n){if(Mg(t))return t;const r=t[yg];if(!r)return _g(t,(a,i)=>Yg(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Gg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let a=t,i=!1;3===r.type_&&(a=new Set(t),t.clear(),i=!0),_g(a,(a,o)=>Yg(e,r,t,a,o,n,i)),Gg(e,t,!1),n&&e.patches_&&Fg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Yg(e,t,n,r,a,i,o){if(wg(a)){const o=Kg(e,a,i&&t&&3!==t.type_&&!Cg(t.assigned_,r)?i.concat(r):void 0);if(Eg(n,r,o),!wg(o))return;e.canAutoFreeze_=!1}else o&&n.add(a);if(Sg(a)&&!Mg(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Kg(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Gg(e,a)}}function Gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pg(t,n)}var $g={get(e,t){if(t===yg)return e;const n=Og(e);if(!Cg(n,t))return function(e,t,n){var r;const a=Jg(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Sg(r)?r:r===Qg(e.base_,t)?(ev(e),e.copy_[t]=tv(r,e)):r},has:(e,t)=>t in Og(e),ownKeys:e=>Reflect.ownKeys(Og(e)),set(e,t,n){const r=Jg(Og(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Qg(Og(e),t),o=null===r||void 0===r?void 0:r[yg];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(i=r)?0!==a||1/a===1/i:a!==a&&i!==i)&&(void 0!==n||Cg(e.base_,t)))return!0;ev(e),Zg(e)}var a,i;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Qg(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ev(e),Zg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Og(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){bg(11)},getPrototypeOf:e=>xg(e.base_),setPrototypeOf(){bg(12)}},Xg={};function Qg(e,t){const n=e[yg];return(n?Og(n):e)[t]}function Jg(e,t){if(!(t in e))return;let n=xg(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=xg(n)}}function Zg(e){e.modified_||(e.modified_=!0,e.parent_&&Zg(e.parent_))}function ev(e){e.copy_||(e.copy_=Ig(e.base_,e.scope_.immer_.useStrictShallowCopy_))}_g($g,(e,t)=>{Xg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Xg.deleteProperty=function(e,t){return Xg.set.call(this,e,t,void 0)},Xg.set=function(e,t,n){return $g.set.call(this,e[0],t,n,e[0])};function tv(e,t){const n=Tg(e)?Fg("MapSet").proxyMap_(e,t):Ag(e)?Fg("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ug(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=$g;n&&(a=[r],i=Xg);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:Ug()).drafts_.push(n),n}function nv(e){if(!Sg(e)||Mg(e))return e;const t=e[yg];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ig(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ig(e,!0);return _g(n,(e,t)=>{Eg(n,e,nv(t))}),t&&(t.finalized_=!1),n}var rv=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!==typeof t&&bg(6),void 0!==n&&"function"!==typeof n&&bg(7),Sg(e)){const a=Hg(this),i=tv(e,void 0);let o=!0;try{r=t(i),o=!1}finally{o?Bg(a):Wg(a)}return zg(a,n),qg(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===gg&&(r=void 0),this.autoFreeze_&&Pg(r,!0),n){const t=[],a=[];Fg("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}bg(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;return[this.produce(e,n,(e,t)=>{r=e,a=t}),r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Sg(e)||bg(8),wg(e)&&(e=function(e){wg(e)||bg(10);return nv(e)}(e));const t=Hg(this),n=tv(e,void 0);return n[yg].isManual_=!0,Wg(t),n}finishDraft(e,t){const n=e&&e[yg];n&&n.isManual_||bg(9);const{scope_:r}=n;return zg(r,t),qg(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Fg("Patches").applyPatches_;return wg(e)?r(e,t):this.produce(e,e=>r(e,t))}};rv.produce,rv.produceWithPatches.bind(rv),rv.setAutoFreeze.bind(rv),rv.setUseStrictShallowCopy.bind(rv),rv.applyPatches.bind(rv),rv.createDraft.bind(rv),rv.finishDraft.bind(rv);var av={active:!1,index:null,dataKey:void 0,coordinate:void 0},iv=xm({name:"tooltip",initialState:{itemInteraction:{click:av,hover:av},axisInteraction:{click:av,hover:av},keyboardInteraction:av,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=em(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ov,removeTooltipEntrySettings:sv,setTooltipSettingsState:lv,setActiveMouseOverItemIndex:cv,mouseLeaveItem:uv,mouseLeaveChart:dv,setActiveClickItemIndex:hv,setMouseOverAxisIndex:fv,setMouseClickAxisIndex:pv,setSyncInteraction:mv,setKeyboardInteraction:gv}=iv.actions,vv=iv.reducer,yv=xm({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:bv,setDataStartEndIndexes:xv,setComputedData:wv}=yv.actions,Sv=yv.reducer,kv=xm({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Nv,setLayout:_v,setChartSize:jv,setScale:Cv}=kv.actions,Ev=kv.reducer;function Tv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Av=e=>Array.isArray(e)?e:[e];function Ov(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Iv="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Pv(){return{s:0,v:void 0,o:null,p:null}}function Dv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,i=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Pv(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Pv(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),i++,r){var c,u,d;const e=null!==(c=null===(u=a)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:a;null!=e&&r(e,l)&&(l=e,0!==i&&i--);a="object"===typeof l&&null!==l||"function"===typeof l?new Iv(l):l}return s.s=1,s.v=l,l}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Mv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,s=0,l={},c=t.pop();"object"===typeof c&&(l=c,c=t.pop()),Tv(c,"createSelector expects an output function after the inputs, but received: [".concat(typeof c,"]"));const u=(0,i.A)((0,i.A)({},a),l),{memoize:d,memoizeOptions:h=[],argsMemoize:f=Dv,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,g=Av(h),v=Av(p),y=Ov(t),b=d(function(){return o++,c.apply(null,arguments)},...g);const x=f(function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(y,arguments);return r=b.apply(null,e),r},...v);return Object.assign(x,{resultFunc:c,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var Rv=Mv(Dv),Lv=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rv;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=n.map(t=>e[t]),a=t(r,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return a},{withTypes:()=>Lv}),Fv=n(3044),Uv=(0,t.createContext)(null),zv=e=>e,Bv=()=>{var e=(0,t.useContext)(Uv);return e?e.store.dispatch:zv},Wv=()=>{},Hv=()=>Wv,Vv=(e,t)=>e===t;function qv(e){var n=(0,t.useContext)(Uv);return(0,Fv.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:Hv,n?n.store.getState:Wv,n?n.store.getState:Wv,n?e:Wv,Vv)}var Kv=n(830),Yv=n.n(Kv),Gv=e=>e.legend.settings,$v=Rv([e=>e.legend.payload,Gv],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Yv()(r,n):r});function Xv(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function Qv(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Jv(e){return function(){return e}}function Zv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ey(e,t){return e[t]}function ty(e){const t=[];return t.key=e,t}function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ny(Object(n),!0).forEach(function(t){ay(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ay(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iy=Math.PI/180,oy=e=>180*e/Math.PI,sy=(e,t,n,r)=>({x:e+Math.cos(-iy*r)*n,y:t+Math.sin(-iy*r)*n}),ly=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},cy=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)})({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:oy(l),angleInRadian:l}},uy=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},dy=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:i}=cy({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}})(t),d=i;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?ry(ry({},t),{},{radius:a,angle:uy(d,t)}):null};function hy(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(t){my(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function my(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gy(e,t,n){return Gf(e)||Gf(t)?n:zf(t)?Mf()(e,t,n):"function"===typeof t?t(e):n}var vy=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,yy=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var a,i,o=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate));return a||o.push(t),i||o.push(n),o},by=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m=(t||n)&&"category"===a&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&i&&i.length>=2?2*Rf(i[0]-i[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+m,value:e,offset:m,index:t}}).filter(e=>!Lf(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&!n&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:r?r[e]:e,index:t,offset:m}))},xy=1e-4,wy={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=Lf(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Xv(e,t)}},none:Xv,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}Xv(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,Xv(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=Lf(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},Sy=(e,t,n)=>{var r=wy[n],a=function(){var e=Jv([]),t=Zv,n=Xv,r=ey;function a(a){var i,o,s=Array.from(e.apply(this,arguments),ty),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,a)]).data=e;for(i=0,o=Qv(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Jv(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:Jv(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Zv:"function"===typeof e?e:Jv(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?Xv:e,a):n},a}().keys(t).value((e,t)=>+gy(e,t,0)).order(Zv).offset(r);return a(e)};function ky(e){return null==e?void 0:String(e)}function Ny(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gf(a[t.dataKey])){var s=Yf(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=gy(a,Gf(o)?t.dataKey:o);return Gf(l)?null:t.scale(l)}var _y=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:o}=e;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=gy(i,t.dataKey,t.scale.domain()[o]);return Gf(s)?null:t.scale(s)-a/2+r},jy=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:o}=i,s=o.reduce((e,r)=>{var a=(e=>{var t=e.flat(2).filter(Uf);return[Math.min(...t),Math.max(...t)]})(hy(r,t,n));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Cy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ey=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ty=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Yv()(t,e=>e.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Ay(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return py(py({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Oy(e,t){return e?String(e):"string"===typeof t?t:void 0}var Iy=e=>e.layout.width,Py=e=>e.layout.height,Dy=e=>e.layout.scale,My=e=>e.layout.margin,Ry=Rv(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ly=Rv(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Fy="data-recharts-item-index",Uy="data-recharts-item-data-key";function zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function By(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zy(Object(n),!0).forEach(function(t){Wy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hy=Rv([Iy,Py,My,e=>e.brush.height,Ry,Ly,Gv,e=>e.legend.size],(e,t,n,r,a,i,o,s)=>{var l=i.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return By(By({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=a.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:By(By({},e),{},{[n]:Mf()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=By(By({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==i&&Uf(e[i]))return py(py({},e),{},{[i]:e[i]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===i)&&"middle"!==o&&Uf(e[o]))return py(py({},e),{},{[o]:e[o]+(a||0)})}return e})(u,o,s);var h=e-u.left-u.right,f=t-u.top-u.bottom;return By(By({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(f,0)})}),Vy=Rv(Hy,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),qy=Rv(Iy,Py,(e,t)=>({x:0,y:0,width:e,height:t})),Ky=(0,t.createContext)(null),Yy=()=>null!=(0,t.useContext)(Ky),Gy=e=>e.brush,$y=Rv([Gy,Hy,My],(e,t,n)=>({height:e.height,x:Uf(e.x)?e.x:t.left,y:Uf(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:Uf(e.width)?e.width:t.width})),Xy=()=>{var e,t=Yy(),n=qv(Vy),r=qv($y),a=null===(e=qv(Gy))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},Qy={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Jy=()=>{var e;return null!==(e=qv(Hy))&&void 0!==e?e:Qy},Zy=()=>qv(Iy),eb=()=>qv(Py),tb={top:0,right:0,bottom:0,left:0},nb=e=>e.layout.layoutType,rb=()=>qv(nb),ab=n(8354),ib=n.n(ab);function ob(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sb(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class lb extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hb;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(cb(this,e))}has(e){return super.has(cb(this,e))}set(e,t){return super.set(ub(this,e),t)}delete(e){return super.delete(db(this,e))}}Set;function cb(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function ub(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function db(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function hb(e){return null!==e&&"object"===typeof e?e.valueOf():e}const fb=Symbol("implicit");function pb(){var e=new lb,t=[],n=[],r=fb;function a(a){let i=e.get(a);if(void 0===i){if(r!==fb)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new lb;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return pb(t,n).unknown(r)},ob.apply(a,arguments),a}function mb(){var e,t,n=pb().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<i,h=d?o:i,f=d?i:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return h+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return mb(r(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},ob.apply(d(),arguments)}function gb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gb(t())},e}function vb(){return gb(mb.apply(null,arguments).paddingInner(1))}const yb=Math.sqrt(50),bb=Math.sqrt(10),xb=Math.sqrt(2);function wb(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=yb?10:i>=bb?5:i>=xb?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?wb(e,t,2*n):[s,l,c]}function Sb(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?wb(t,e,n):wb(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function kb(e,t,n){return wb(e=+e,t=+t,n=+n)[2]}function Nb(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?kb(t,e,n):kb(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function _b(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jb(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cb(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=_b,n=(t,n)=>_b(e(t),n),r=(t,n)=>e(t)-n):(t=e===_b||e===jb?e:Eb,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function Eb(){return 0}function Tb(e){return null===e?NaN:+e}const Ab=Cb(_b),Ob=Ab.right,Ib=(Ab.left,Cb(Tb).center,Ob);function Pb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Db(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mb(){}var Rb=.7,Lb=1/Rb,Fb="\\s*([+-]?\\d+)\\s*",Ub="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bb=/^#([0-9a-f]{3,8})$/,Wb=new RegExp("^rgb\\(".concat(Fb,",").concat(Fb,",").concat(Fb,"\\)$")),Hb=new RegExp("^rgb\\(".concat(zb,",").concat(zb,",").concat(zb,"\\)$")),Vb=new RegExp("^rgba\\(".concat(Fb,",").concat(Fb,",").concat(Fb,",").concat(Ub,"\\)$")),qb=new RegExp("^rgba\\(".concat(zb,",").concat(zb,",").concat(zb,",").concat(Ub,"\\)$")),Kb=new RegExp("^hsl\\(".concat(Ub,",").concat(zb,",").concat(zb,"\\)$")),Yb=new RegExp("^hsla\\(".concat(Ub,",").concat(zb,",").concat(zb,",").concat(Ub,"\\)$")),Gb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $b(){return this.rgb().formatHex()}function Xb(){return this.rgb().formatRgb()}function Qb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Jb(t):3===n?new tx(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Zb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Zb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Wb.exec(e))?new tx(t[1],t[2],t[3],1):(t=Hb.exec(e))?new tx(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Vb.exec(e))?Zb(t[1],t[2],t[3],t[4]):(t=qb.exec(e))?Zb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Kb.exec(e))?sx(t[1],t[2]/100,t[3]/100,1):(t=Yb.exec(e))?sx(t[1],t[2]/100,t[3]/100,t[4]):Gb.hasOwnProperty(e)?Jb(Gb[e]):"transparent"===e?new tx(NaN,NaN,NaN,0):null}function Jb(e){return new tx(e>>16&255,e>>8&255,255&e,1)}function Zb(e,t,n,r){return r<=0&&(e=t=n=NaN),new tx(e,t,n,r)}function ex(e,t,n,r){return 1===arguments.length?((a=e)instanceof Mb||(a=Qb(a)),a?new tx((a=a.rgb()).r,a.g,a.b,a.opacity):new tx):new tx(e,t,n,null==r?1:r);var a}function tx(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function nx(){return"#".concat(ox(this.r)).concat(ox(this.g)).concat(ox(this.b))}function rx(){const e=ax(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ix(this.r),", ").concat(ix(this.g),", ").concat(ix(this.b)).concat(1===e?")":", ".concat(e,")"))}function ax(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ix(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ox(e){return((e=ix(e))<16?"0":"")+e.toString(16)}function sx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cx(e,t,n,r)}function lx(e){if(e instanceof cx)return new cx(e.h,e.s,e.l,e.opacity);if(e instanceof Mb||(e=Qb(e)),!e)return new cx;if(e instanceof cx)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new cx(o,s,l,e.opacity)}function cx(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ux(e){return(e=(e||0)%360)<0?e+360:e}function dx(e){return Math.max(0,Math.min(1,e||0))}function hx(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function fx(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}Pb(Mb,Qb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$b,formatHex:$b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return lx(this).formatHsl()},formatRgb:Xb,toString:Xb}),Pb(tx,ex,Db(Mb,{brighter(e){return e=null==e?Lb:Math.pow(Lb,e),new tx(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Rb:Math.pow(Rb,e),new tx(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tx(ix(this.r),ix(this.g),ix(this.b),ax(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nx,formatHex:nx,formatHex8:function(){return"#".concat(ox(this.r)).concat(ox(this.g)).concat(ox(this.b)).concat(ox(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:rx,toString:rx})),Pb(cx,function(e,t,n,r){return 1===arguments.length?lx(e):new cx(e,t,n,null==r?1:r)},Db(Mb,{brighter(e){return e=null==e?Lb:Math.pow(Lb,e),new cx(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Rb:Math.pow(Rb,e),new cx(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new tx(hx(e>=240?e-240:e+120,a,r),hx(e,a,r),hx(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new cx(ux(this.h),dx(this.s),dx(this.l),ax(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ax(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ux(this.h),", ").concat(100*dx(this.s),"%, ").concat(100*dx(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const px=e=>()=>e;function mx(e,t){return function(n){return e+n*t}}function gx(e){return 1===(e=+e)?vx:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):px(isNaN(t)?n:t)}}function vx(e,t){var n=t-e;return n?mx(e,n):px(isNaN(e)?t:e)}const yx=function e(t){var n=gx(t);function r(e,t){var r=n((e=ex(e)).r,(t=ex(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=vx(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function bx(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=ex(t[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=e(i),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=s(e),r+""}}}bx(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return fx((n-r/t)*t,o,a,i,s)}}),bx(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return fx((n-r/t)*t,a,i,o,s)}});function xx(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Ex(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function wx(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kx(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Ex(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Nx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_x=new RegExp(Nx.source,"g");function jx(e,t){var n,r,a,i=Nx.lastIndex=_x.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Nx.exec(e))&&(r=_x.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Sx(n,r)})),i=_x.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Cx(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Ex(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?px(t):("number"===a?Sx:"string"===a?(n=Qb(t))?(t=n,yx):jx:t instanceof Qb?yx:t instanceof Date?wx:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?xx:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?kx:Sx:Cx))(e,t)}function Tx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ax(e){return+e}var Ox=[0,1];function Ix(e){return e}function Px(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Dx(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Px(a,r),i=n(o,i)):(r=Px(r,a),i=n(i,o)),function(e){return i(r(e))}}function Mx(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Px(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=Ib(e,t,1,r)-1;return i[n](a[n](t))}}function Rx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lx(){var e,t,n,r,a,i,o=Ox,s=Ox,l=Ex,c=Ix;function u(){var e=Math.min(o.length,s.length);return c!==Ix&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Mx:Dx,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,o.map(e),Sx)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Ax),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Tx,u()},d.clamp=function(e){return arguments.length?(c=!!e||Ix,u()):c!==Ix},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Fx(){return Lx()(Ix,Ix)}var Ux,zx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bx(e){if(!(t=zx.exec(e)))throw new Error("invalid format: "+e);var t;return new Wx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Wx(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Hx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vx(e){return(e=Hx(Math.abs(e)))?e[1]:NaN}function qx(e,t){var n=Hx(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Bx.prototype=Wx.prototype,Wx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Kx={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qx(100*e,t),r:qx,s:function(e,t){var n=Hx(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Ux=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Hx(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yx(e){return e}var Gx,$x,Xx,Qx=Array.prototype.map,Jx=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Zx(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Yx:(t=Qx.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Yx:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Qx.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Bx(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Kx[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?i:/[%p]/.test(y)?l:"",w=Kx[y],S=/[defgprs%]/.test(y);function k(e){var a,i,l,h=b,k=x;if("c"===y)k=w(e)+k,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===y?Jx[8+Ux/3]:"")+k+(N&&"("===d?")":""),S)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){k=(46===l?o+e.slice(a+1):e.slice(a))+k,e=e.slice(0,a);break}}m&&!f&&(e=r(e,1/0));var _=h.length+e.length+k.length,j=_<p?new Array(p-_+1).join(t):"";switch(m&&f&&(e=r(j+e,j.length?p-k.length:1/0),j=""),n){case"<":e=h+e+k+j;break;case"=":e=h+j+e+k;break;case"^":e=j.slice(0,_=j.length>>1)+h+e+k+j.slice(_);break;default:e=j+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=Bx(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Vx(t)/3))),a=Math.pow(10,-r),i=Jx[8+r/3];return function(e){return n(a*e)+i}}}}function ew(e,t,n,r){var a,i=Nb(e,t,n);switch((r=Bx(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Vx(t)/3)))-Vx(Math.abs(e)))}(i,o))||(r.precision=a),Xx(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vx(t)-Vx(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-Vx(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return $x(r)}function tw(e){var t=e.domain;return e.ticks=function(e){var n=t();return Sb(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ew(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=kb(l,c,n))===r)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function nw(){var e=Fx();return e.copy=function(){return Rx(e,nw())},ob.apply(e,arguments),tw(e)}function rw(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Ax),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return rw(e).unknown(t)},e=arguments.length?Array.from(e,Ax):[0,1],tw(n)}function aw(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function iw(e){return Math.log(e)}function ow(e){return Math.exp(e)}function sw(e){return-Math.log(-e)}function lw(e){return-Math.exp(-e)}function cw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uw(e){return(t,n)=>-e(-t,n)}function dw(e){const t=e(iw,ow),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?cw:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=uw(r),a=uw(a),e(sw,lw)):e(iw,ow),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(i%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=Sb(o,s,f))}else p=Sb(d,h,Math.min(h-d,f)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=Bx(n)).precision||(n.trim=!0),n=$x(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(aw(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function hw(){const e=dw(Lx()).domain([1,10]);return e.copy=()=>Rx(e,hw()).base(e.base()),ob.apply(e,arguments),e}function fw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mw(e){var t=1,n=e(fw(t),pw(t));return n.constant=function(n){return arguments.length?e(fw(t=+n),pw(t)):t},tw(n)}function gw(){var e=mw(Lx());return e.copy=function(){return Rx(e,gw()).constant(e.constant())},ob.apply(e,arguments)}function vw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bw(e){return e<0?-e*e:e*e}function xw(e){var t=e(Ix,Ix),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Ix,Ix):.5===n?e(yw,bw):e(vw(n),vw(1/n)):n},tw(t)}function ww(){var e=xw(Lx());return e.copy=function(){return Rx(e,ww()).exponent(e.exponent())},ob.apply(e,arguments),e}function Sw(){return ww.apply(null,arguments).exponent(.5)}function kw(e){return Math.sign(e)*e*e}function Nw(){var e,t=Fx(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(kw(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Ax)).map(kw)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Nw(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},ob.apply(a,arguments),tw(a)}function _w(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function jw(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Cw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_b;if(e===_b)return Ew;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Ew(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Tw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Ew:Cw(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Tw(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(Aw(e,n,t),a(e[r],i)>0&&Aw(e,n,r);o<s;){for(Aw(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?Aw(e,n,s):(++s,Aw(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Aw(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ow(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return jw(e);if(t>=1)return _w(e);var r,a=(r-1)*t,i=Math.floor(a),o=_w(Tw(e,i).subarray(0,i+1));return o+(jw(e.subarray(i+1))-o)*(a-i)}}function Iw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tb;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function Pw(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=Iw(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[Ib(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(_b),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return Pw().domain(t).range(n).unknown(e)},ob.apply(i,arguments)}function Dw(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[Ib(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return Dw().domain([t,n]).range(i).unknown(e)},ob.apply(tw(o),arguments)}function Mw(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[Ib(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Mw().domain(t).range(n).unknown(e)},ob.apply(a,arguments)}Gx=Zx({thousands:",",grouping:[3],currency:["$",""]}),$x=Gx.format,Xx=Gx.formatPrefix;const Rw=1e3,Lw=6e4,Fw=36e5,Uw=864e5,zw=6048e5,Bw=2592e6,Ww=31536e6,Hw=new Date,Vw=new Date;function qw(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>qw(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Hw.setTime(+t),Vw.setTime(+r),e(Hw),e(Vw),Math.floor(n(Hw,Vw))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Kw=qw(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kw.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?qw(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Kw:null);Kw.range;const Yw=qw(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rw)},(e,t)=>(t-e)/Rw,e=>e.getUTCSeconds()),Gw=(Yw.range,qw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rw)},(e,t)=>{e.setTime(+e+t*Lw)},(e,t)=>(t-e)/Lw,e=>e.getMinutes())),$w=(Gw.range,qw(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lw)},(e,t)=>(t-e)/Lw,e=>e.getUTCMinutes())),Xw=($w.range,qw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rw-e.getMinutes()*Lw)},(e,t)=>{e.setTime(+e+t*Fw)},(e,t)=>(t-e)/Fw,e=>e.getHours())),Qw=(Xw.range,qw(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fw)},(e,t)=>(t-e)/Fw,e=>e.getUTCHours())),Jw=(Qw.range,qw(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lw)/Uw,e=>e.getDate()-1)),Zw=(Jw.range,qw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Uw,e=>e.getUTCDate()-1)),eS=(Zw.range,qw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Uw,e=>Math.floor(e/Uw)));eS.range;function tS(e){return qw(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lw)/zw)}const nS=tS(0),rS=tS(1),aS=tS(2),iS=tS(3),oS=tS(4),sS=tS(5),lS=tS(6);nS.range,rS.range,aS.range,iS.range,oS.range,sS.range,lS.range;function cS(e){return qw(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/zw)}const uS=cS(0),dS=cS(1),hS=cS(2),fS=cS(3),pS=cS(4),mS=cS(5),gS=cS(6),vS=(uS.range,dS.range,hS.range,fS.range,pS.range,mS.range,gS.range,qw(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),yS=(vS.range,qw(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),bS=(yS.range,qw(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));bS.every=e=>isFinite(e=Math.floor(e))&&e>0?qw(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;bS.range;const xS=qw(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xS.every=e=>isFinite(e=Math.floor(e))&&e>0?qw(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;xS.range;function wS(e,t,n,r,a,i){const o=[[Yw,1,Rw],[Yw,5,5e3],[Yw,15,15e3],[Yw,30,3e4],[i,1,Lw],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Fw],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Uw],[r,2,1728e5],[n,1,zw],[t,1,Bw],[t,3,7776e6],[e,1,Ww]];function s(t,n,r){const a=Math.abs(n-t)/r,i=Cb(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(Nb(t/Ww,n/Ww,r));if(0===i)return Kw.every(Math.max(Nb(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}const[SS,kS]=wS(xS,yS,uS,eS,Qw,$w),[NS,_S]=wS(bS,vS,nS,Jw,Xw,Gw);function jS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ES(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var TS,AS,OS,IS={"-":"",_:" ",0:"0"},PS=/^\s*\d+/,DS=/^%/,MS=/[\\^$*+?|[\]().{}]/g;function RS(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function LS(e){return e.replace(MS,"\\$&")}function FS(e){return new RegExp("^(?:"+e.map(LS).join("|")+")","i")}function US(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function zS(e,t,n){var r=PS.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function BS(e,t,n){var r=PS.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function WS(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function HS(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function VS(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function qS(e,t,n){var r=PS.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function KS(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YS(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GS(e,t,n){var r=PS.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function $S(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function XS(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function QS(e,t,n){var r=PS.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function JS(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ZS(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ek(e,t,n){var r=PS.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function tk(e,t,n){var r=PS.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nk(e,t,n){var r=PS.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rk(e,t,n){var r=DS.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ak(e,t,n){var r=PS.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ik(e,t,n){var r=PS.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ok(e,t){return RS(e.getDate(),t,2)}function sk(e,t){return RS(e.getHours(),t,2)}function lk(e,t){return RS(e.getHours()%12||12,t,2)}function ck(e,t){return RS(1+Jw.count(bS(e),e),t,3)}function uk(e,t){return RS(e.getMilliseconds(),t,3)}function dk(e,t){return uk(e,t)+"000"}function hk(e,t){return RS(e.getMonth()+1,t,2)}function fk(e,t){return RS(e.getMinutes(),t,2)}function pk(e,t){return RS(e.getSeconds(),t,2)}function mk(e){var t=e.getDay();return 0===t?7:t}function gk(e,t){return RS(nS.count(bS(e)-1,e),t,2)}function vk(e){var t=e.getDay();return t>=4||0===t?oS(e):oS.ceil(e)}function yk(e,t){return e=vk(e),RS(oS.count(bS(e),e)+(4===bS(e).getDay()),t,2)}function bk(e){return e.getDay()}function xk(e,t){return RS(rS.count(bS(e)-1,e),t,2)}function wk(e,t){return RS(e.getFullYear()%100,t,2)}function Sk(e,t){return RS((e=vk(e)).getFullYear()%100,t,2)}function kk(e,t){return RS(e.getFullYear()%1e4,t,4)}function Nk(e,t){var n=e.getDay();return RS((e=n>=4||0===n?oS(e):oS.ceil(e)).getFullYear()%1e4,t,4)}function _k(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+RS(t/60|0,"0",2)+RS(t%60,"0",2)}function jk(e,t){return RS(e.getUTCDate(),t,2)}function Ck(e,t){return RS(e.getUTCHours(),t,2)}function Ek(e,t){return RS(e.getUTCHours()%12||12,t,2)}function Tk(e,t){return RS(1+Zw.count(xS(e),e),t,3)}function Ak(e,t){return RS(e.getUTCMilliseconds(),t,3)}function Ok(e,t){return Ak(e,t)+"000"}function Ik(e,t){return RS(e.getUTCMonth()+1,t,2)}function Pk(e,t){return RS(e.getUTCMinutes(),t,2)}function Dk(e,t){return RS(e.getUTCSeconds(),t,2)}function Mk(e){var t=e.getUTCDay();return 0===t?7:t}function Rk(e,t){return RS(uS.count(xS(e)-1,e),t,2)}function Lk(e){var t=e.getUTCDay();return t>=4||0===t?pS(e):pS.ceil(e)}function Fk(e,t){return e=Lk(e),RS(pS.count(xS(e),e)+(4===xS(e).getUTCDay()),t,2)}function Uk(e){return e.getUTCDay()}function zk(e,t){return RS(dS.count(xS(e)-1,e),t,2)}function Bk(e,t){return RS(e.getUTCFullYear()%100,t,2)}function Wk(e,t){return RS((e=Lk(e)).getUTCFullYear()%100,t,2)}function Hk(e,t){return RS(e.getUTCFullYear()%1e4,t,4)}function Vk(e,t){var n=e.getUTCDay();return RS((e=n>=4||0===n?pS(e):pS.ceil(e)).getUTCFullYear()%1e4,t,4)}function qk(){return"+0000"}function Kk(){return"%"}function Yk(e){return+e}function Gk(e){return Math.floor(+e/1e3)}function $k(e){return new Date(e)}function Xk(e){return e instanceof Date?+e:+new Date(+e)}function Qk(e,t,n,r,a,i,o,s,l,c){var u=Fx(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?v:y:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Xk)):h().map($k)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(aw(n,e)):u},u.copy=function(){return Rx(u,Qk(e,t,n,r,a,i,o,s,l,c))},u}function Jk(){return ob.apply(Qk(NS,_S,bS,vS,nS,Jw,Xw,Gw,Yw,AS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zk(){return ob.apply(Qk(SS,kS,xS,yS,uS,Zw,Qw,$w,Yw,OS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eN(){var e,t,n,r,a,i=0,o=1,s=Ix,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Ex),c.rangeRound=u(Tx),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function tN(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nN(){var e=tw(eN()(Ix));return e.copy=function(){return tN(e,nN())},sb.apply(e,arguments)}function rN(){var e=dw(eN()).domain([1,10]);return e.copy=function(){return tN(e,rN()).base(e.base())},sb.apply(e,arguments)}function aN(){var e=mw(eN());return e.copy=function(){return tN(e,aN()).constant(e.constant())},sb.apply(e,arguments)}function iN(){var e=xw(eN());return e.copy=function(){return tN(e,iN()).exponent(e.exponent())},sb.apply(e,arguments)}function oN(){return iN.apply(null,arguments).exponent(.5)}function sN(){var e=[],t=Ix;function n(n){if(null!=n&&!isNaN(n=+n))return t((Ib(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(_b),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Ow(e,r/t))},n.copy=function(){return sN(t).domain(e)},sb.apply(n,arguments)}function lN(){var e,t,n,r,a,i,o,s=0,l=.5,c=1,u=1,d=Ix,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=Ex);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Ex),f.rangeRound=p(Tx),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function cN(){var e=tw(lN()(Ix));return e.copy=function(){return tN(e,cN())},sb.apply(e,arguments)}function uN(){var e=dw(lN()).domain([.1,1,10]);return e.copy=function(){return tN(e,uN()).base(e.base())},sb.apply(e,arguments)}function dN(){var e=mw(lN());return e.copy=function(){return tN(e,dN()).constant(e.constant())},sb.apply(e,arguments)}function hN(){var e=xw(lN());return e.copy=function(){return tN(e,hN()).exponent(e.exponent())},sb.apply(e,arguments)}function fN(){return hN.apply(null,arguments).exponent(.5)}!function(e){TS=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=FS(a),u=US(a),d=FS(i),h=US(i),f=FS(o),p=US(o),m=FS(s),g=US(s),v=FS(l),y=US(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ok,e:ok,f:dk,g:Sk,G:Nk,H:sk,I:lk,j:ck,L:uk,m:hk,M:fk,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Yk,s:Gk,S:pk,u:mk,U:gk,V:yk,w:bk,W:xk,x:null,X:null,y:wk,Y:kk,Z:_k,"%":Kk},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:jk,e:jk,f:Ok,g:Wk,G:Vk,H:Ck,I:Ek,j:Tk,L:Ak,m:Ik,M:Pk,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Yk,s:Gk,S:Dk,u:Mk,U:Rk,V:Fk,w:Uk,W:zk,x:null,X:null,y:Bk,Y:Hk,Z:qk,"%":Kk},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:XS,e:XS,f:nk,g:KS,G:qS,H:JS,I:JS,j:QS,L:tk,m:$S,M:ZS,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:GS,Q:ak,s:ik,S:ek,u:BS,U:WS,V:HS,w:zS,W:VS,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:KS,Y:qS,Z:YS,"%":rk};function S(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=IS[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function k(e,t){return function(n){var r,a,i=ES(1900,void 0,1);if(N(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=CS(ES(i.y,0,1))).getUTCDay(),r=a>4||0===a?dS.ceil(r):dS(r),r=Zw.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=jS(ES(i.y,0,1))).getDay(),r=a>4||0===a?rS.ceil(r):rS(r),r=Jw.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?CS(ES(i.y,0,1)).getUTCDay():jS(ES(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,CS(i)):jS(i)}}function N(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in IS?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),AS=TS.format,TS.parse,OS=TS.utcFormat,TS.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var pN=e=>e.chartData,mN=Rv([pN],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gN=(e,t,n,r)=>r?mN(e):pN(e);function vN(e){return Number.isFinite(e)}function yN(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function bN(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(vN(t)&&vN(n))return!0}return!1}function xN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var wN=n(4441),SN=n.n(wN),kN=e=>e,NN={"@@functional/placeholder":!0},_N=e=>e===NN,jN=e=>function t(){return 0===arguments.length||1===arguments.length&&_N(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},CN=(e,t)=>1===e?t:jN(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(e=>e!==NN).length;return i>=e?t(...r):CN(e-i,jN(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=r.map(e=>_N(e)?n.shift():e);return t(...i,...n)}))}),EN=e=>CN(e.length,e),TN=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},AN=EN((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),ON=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),IN=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=a,n=e(...a))}};function PN(e){return 0===e?1:Math.floor(new(SN())(e).abs().log(10).toNumber())+1}function DN(e,t,n){for(var r=new(SN())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}EN((e,t,n)=>{var r=+e;return r+n*(+t-r)}),EN((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),EN((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var MN=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},RN=(e,t,n)=>{if(e.lte(0))return new(SN())(0);var r=PN(e.toNumber()),a=new(SN())(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new(SN())(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?new(SN())(s.toNumber()):new(SN())(Math.ceil(s.toNumber()))},LN=(e,t,n)=>{var r=new(SN())(1),a=new(SN())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(SN())(10).pow(PN(e)-1),a=new(SN())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(SN())(Math.floor(e)))}else 0===e?a=new(SN())(Math.floor((t-1)/2)):n||(a=new(SN())(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return kN;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((e,t)=>t(e),a(...arguments))}}(AN(e=>a.add(new(SN())(e-o).mul(r)).toNumber()),TN)(0,t)},FN=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(SN())(0),tickMin:new(SN())(0),tickMax:new(SN())(0)};var i,o=RN(new(SN())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(SN())(0):(i=new(SN())(e).add(t).div(2)).sub(new(SN())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(SN())(t).sub(i).div(o).toNumber()),c=s+l+1;return c>n?FN(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:i.sub(new(SN())(s).mul(o)),tickMax:i.add(new(SN())(l).mul(o))})};var UN=IN(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(r,2),[o,s]=MN([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...TN(0,r-1).map(()=>1/0)]:[...TN(0,r-1).map(()=>-1/0),s];return t>n?ON(l):l}if(o===s)return LN(o,r,a);var{step:c,tickMin:u,tickMax:d}=FN(o,s,i,a,0),h=DN(u,d.add(new(SN())(.1).mul(c)),c);return t>n?ON(h):h}),zN=IN(function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[i,o]=MN([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=RN(new(SN())(o).sub(i).div(s-1),a,0),c=[...DN(new(SN())(i),new(SN())(o),l),o];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?ON(c):c}),BN=e=>e.rootProps.maxBarSize,WN=e=>e.rootProps.barCategoryGap,HN=e=>e.rootProps.stackOffset,VN=e=>e.options.chartName,qN=e=>e.rootProps.syncId,KN=e=>e.rootProps.syncMethod,YN=e=>e.options.eventEmitter,GN=0,$N="auto",XN=!0,QN=!1,JN=!0,ZN=0,e_="auto",t_=!0,n_=5,r_=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},a_={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:GN,includeHidden:!1,name:void 0,reversed:!1,scale:$N,tick:XN,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},i_={allowDataOverflow:QN,allowDecimals:!1,allowDuplicatedCategory:JN,dataKey:void 0,domain:void 0,id:ZN,includeHidden:!1,name:void 0,reversed:!1,scale:e_,tick:t_,tickCount:n_,ticks:void 0,type:"number",unit:void 0},o_={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:GN,includeHidden:!1,name:void 0,reversed:!1,scale:$N,tick:XN,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},s_={allowDataOverflow:QN,allowDecimals:!1,allowDuplicatedCategory:JN,dataKey:void 0,domain:void 0,id:ZN,includeHidden:!1,name:void 0,reversed:!1,scale:e_,tick:t_,tickCount:n_,ticks:void 0,type:"category",unit:void 0},l_=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?o_:a_,c_=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?s_:i_,u_=e=>e.polarOptions,d_=Rv([Iy,Py,Hy],ly),h_=Rv([u_,d_],(e,t)=>{if(null!=e)return Hf(e.innerRadius,t,0)}),f_=Rv([u_,d_],(e,t)=>{if(null!=e)return Hf(e.outerRadius,t,.8*t)}),p_=Rv([u_],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),m_=(Rv([l_,p_],r_),Rv([d_,h_,f_],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),g_=(Rv([c_,m_],r_),Rv([nb,u_,h_,f_,Iy,Py],(e,t,n,r,a,i)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Hf(o,a,a/2),cy:Hf(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),v_=(e,t)=>t,y_=(e,t,n)=>n;function b_(e){return null===e||void 0===e?void 0:e.id}var x_=e=>{var t=nb(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},w_=e=>e.tooltip.settings.axisId,S_=e=>{var t=x_(e),n=w_(e);return R_(e,t,n)};function k_(e,t,n){var{chartData:r=[]}=t,a=null===n||void 0===n?void 0:n.dataKey,i=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=b_(e);n.forEach((t,n)=>{var r,s=null==a?n:String(gy(t,a,null)),l=gy(t,e.dataKey,0);r=i.has(s)?i.get(s):{},Object.assign(r,{[o]:l}),i.set(s,r)})}}),Array.from(i.values())}function N_(e){return null!=e.stackId&&null!=e.dataKey}function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?__(Object(n),!0).forEach(function(t){C_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E_=[0,"auto"],T_={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},A_=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?T_:n},O_={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},I_=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?O_:n},P_={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},D_=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?P_:n},M_=(e,t,n)=>{switch(t){case"xAxis":return A_(e,n);case"yAxis":return I_(e,n);case"zAxis":return D_(e,n);case"angleAxis":return l_(e,n);case"radiusAxis":return c_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},R_=(e,t,n)=>{switch(t){case"xAxis":return A_(e,n);case"yAxis":return I_(e,n);case"angleAxis":return l_(e,n);case"radiusAxis":return c_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},L_=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function F_(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var U_=e=>e.graphicalItems.cartesianItems,z_=Rv([v_,y_],F_),B_=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),W_=Rv([U_,M_,z_],B_),H_=Rv([W_],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(N_)),V_=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),q_=Rv([W_],V_),K_=e=>e.map(e=>e.data).filter(Boolean).flat(1),Y_=Rv([W_],K_),G_=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},$_=Rv([Y_,gN],G_),X_=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:gy(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:gy(e,t)}))):e.map(e=>({value:e})),Q_=Rv([$_,M_,W_],X_);function J_(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Z_(e){return e.filter(e=>zf(e)||e instanceof Date).map(Number).filter(e=>!1===Lf(e))}function ej(e,t,n){return!n||"number"!==typeof t||Lf(t)?[]:n.length?Z_(n.flatMap(n=>{var r,a,i=gy(e,n.dataKey);if(Array.isArray(i)?[r,a]=i:r=a=i,vN(r)&&vN(a))return[t-r,t+a]})):[]}var tj=Rv([H_,gN,S_],k_),nj=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,a]=t,i=a.map(b_);return[r,{stackedData:Sy(e,i,n),graphicalItems:a}]}))},rj=Rv([tj,H_,HN],nj),aj=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if("zAxis"!==n){var i=jy(e,r,a);if(null==i||0!==i[0]||0!==i[1])return i}},ij=Rv([rj,pN,v_],aj),oj=(e,t,n,r,a)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,o,s=null===(i=r[n.id])||void 0===i?void 0:i.filter(e=>J_(a,e)),l=gy(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:l,errorDomain:ej(e,l,s)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:gy(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),sj=e=>e.errorBars,lj=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>J_(n,e)),cj=(Rv([q_,sj,v_],lj),Rv([$_,M_,q_,sj,v_],oj));function uj(e){var{value:t}=e;if(zf(t)||t instanceof Date)return t}var dj=e=>{var t=Z_(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},hj=e=>{var t;if(null==e||!("domain"in e))return E_;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=Z_(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:E_},fj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},pj=e=>e.referenceElements.dots,mj=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),gj=Rv([pj,v_,y_],mj),vj=e=>e.referenceElements.areas,yj=Rv([vj,v_,y_],mj),bj=e=>e.referenceElements.lines,xj=Rv([bj,v_,y_],mj),wj=(e,t)=>{var n=Z_(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Sj=Rv(gj,v_,wj),kj=(e,t)=>{var n=Z_(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Nj=Rv([yj,v_],kj),_j=(e,t)=>{var n=Z_(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},jj=Rv(xj,v_,_j),Cj=Rv(Sj,jj,Nj,(e,t,n)=>fj(e,n,t)),Ej=Rv([M_],hj),Tj=(e,t,n,r,a,i,o)=>{var s=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,i]=e;if(vN(a))n=a;else if("function"===typeof a)return;if(vN(i))r=i;else if("function"===typeof i)return;var o=[n,r];if(bN(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(bN(r))return xN(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,i,[o,s]=e;if("auto"===o)null!=t&&(a=Math.min(...t));else if(Uf(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof o&&Cy.test(o)){var l=Cy.exec(o);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(i=Math.max(...t));else if(Uf(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof s&&Ey.test(s)){var u=Ey.exec(s);if(null==u||null==t)i=void 0;else{var d=+u[1];i=t[1]+d}}else i=null===t||void 0===t?void 0:t[1];var h=[a,i];if(bN(h))return null==t?h:xN(h,t,n)}}}(t,"vertical"===i&&"xAxis"===o||"horizontal"===i&&"yAxis"===o?fj(n,a,dj(r)):fj(a,dj(r)),e.allowDataOverflow)},Aj=Rv([M_,Ej,ij,cj,Cj,nb,v_],Tj),Oj=[0,1],Ij=(e,t,n,r,a,i,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var{dataKey:s,type:l}=e,c=vy(t,i);return c&&null==s?ib()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(uj).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&Vf(r))?ib()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===a?Oj:o}},Pj=Rv([M_,nb,$_,Q_,HN,v_,Aj],Ij),Dj=(t,n,r,a,i)=>{if(null!=t){var{scale:o,type:s}=t;if("auto"===o)return"radial"===n&&"radiusAxis"===i?"band":"radial"===n&&"angleAxis"===i?"linear":"category"===s&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof o){var l="scale".concat($f(o));return l in e?l:"point"}}},Mj=Rv([M_,nb,L_,VN,v_],Dj);function Rj(t,n,r,a){if(null!=r&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(a);var i=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat($f(t));return n in e?e[n]():void 0}}(n);if(null!=i){var o=i.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-xy,i=Math.max(r[0],r[1])+xy,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}})(o),o}}}var Lj=(e,t,n)=>{var r=hj(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&bN(e)?UN(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&bN(e)?zN(e,t.tickCount,t.allowDecimals):void 0},Fj=Rv([Pj,R_,Mj],Lj),Uj=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&bN(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},zj=Rv([M_,Pj,Fj,v_],Uj),Bj=Rv(Q_,M_,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(Z_(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(0===a)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/a}}),Wj=Rv(Bj,nb,WN,Hy,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!vN(e))return 0;var i="vertical"===t?r.height:r.width;if("gap"===a)return e*i/2;if("no-gap"===a){var o=Hf(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),Hj=Rv(A_,(e,t)=>{var n=A_(e,t);return null==n||"string"!==typeof n.padding?0:Wj(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),Vj=Rv(I_,(e,t)=>{var n=I_(e,t);return null==n||"string"!==typeof n.padding?0:Wj(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),qj=Rv([Hy,Hj,$y,Gy,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Kj=Rv([Hy,nb,Vj,$y,Gy,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yj=(e,t,n,r)=>{var a;switch(t){case"xAxis":return qj(e,n,r);case"yAxis":return Kj(e,n,r);case"zAxis":return null===(a=D_(e,n))||void 0===a?void 0:a.range;case"angleAxis":return p_(e);case"radiusAxis":return m_(e,n);default:return}},Gj=Rv([M_,Yj],r_),$j=Rv([M_,Mj,zj,Gj],Rj);Rv([W_,sj,v_],lj);function Xj(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qj=(e,t)=>t,Jj=(e,t,n)=>n,Zj=Rv(Ry,Qj,Jj,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(Xj)),eC=Rv(Ly,Qj,Jj,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(Xj)),tC=(e,t)=>({width:e.width,height:t.height}),nC=Rv(Hy,A_,tC),rC=Rv(Py,Hy,Zj,Qj,Jj,(e,t,n,r,a)=>{var i,o={};return n.forEach(n=>{var s=tC(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!a||"bottom"===r&&a;o[n.id]=i-Number(l)*s.height,i+=(l?-1:1)*s.height}),o}),aC=Rv(Iy,Hy,eC,Qj,Jj,(e,t,n,r,a)=>{var i,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==i&&(i=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!a||"right"===r&&a;o[n.id]=i-Number(l)*s.width,i+=(l?-1:1)*s.width}),o}),iC=Rv(Hy,I_,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),oC=(e,t,n)=>{switch(t){case"xAxis":return nC(e,n).width;case"yAxis":return iC(e,n).height;default:return}},sC=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=vy(e,r),l=t.map(e=>e.value);return o&&s&&"category"===i&&a&&Vf(l)?l:void 0}},lC=Rv([nb,Q_,M_,v_],sC),cC=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:i}=n;return!vy(e,r)||"number"!==a&&"auto"===i?void 0:t.map(e=>e.value)}},uC=Rv([nb,Q_,R_,v_],cC),dC=Rv([nb,(e,t,n)=>{switch(t){case"xAxis":return A_(e,n);case"yAxis":return I_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mj,$j,lC,uC,Yj,Fj,v_],(e,t,n,r,a,i,o,s,l)=>{if(null==t)return null;var c=vy(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),hC=Rv([nb,R_,Mj,$j,Fj,Yj,lC,uC,v_],(e,t,n,r,a,i,o,s,l)=>{if(null!=t&&null!=r){var c=vy(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=i&&i.length>=2?2*Rf(i[0]-i[1])*p:p;var m=d||a;return m?m.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!Lf(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),fC=Rv([nb,R_,$j,Yj,lC,uC,v_],(e,t,n,r,a,i,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=vy(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null===r||void 0===r?void 0:r.length)>=2?2*Rf(r[0]-r[1])*c:c,s&&i?i.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),pC=Rv(M_,$j,(e,t)=>{if(null!=e&&null!=t)return j_(j_({},e),{},{scale:t})}),mC=Rv([M_,Mj,Pj,Gj],Rj),gC=(Rv((e,t,n)=>D_(e,n),mC,(e,t)=>{if(null!=e&&null!=t)return j_(j_({},e),{},{scale:t})}),Rv([nb,Ry,Ly],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),vC=e=>e.options.defaultTooltipEventType,yC=e=>e.options.validateTooltipEventTypes;function bC(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function xC(e,t){return bC(t,vC(e),yC(e))}var wC=(e,t)=>{var n,r=Number(t);if(!Lf(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(t){NC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _C=(e,t,n,r)=>{if(null==t)return av;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return av;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var i=!0===e.settings.active;if(null!=a.index){if(i)return kC(kC({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return kC(kC({},av),{},{coordinate:a.coordinate})},jC=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!vN(r))return n;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(r,a)))},CC=(e,t,n,r,a,i,o,s)=>{if(null!=i&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,i);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(i)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},EC=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},TC=e=>e.options.tooltipPayloadSearcher,AC=e=>e.tooltip;function OC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OC(Object(n),!0).forEach(function(t){PC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DC=(e,t,n,r,a,i,o)=>{if(null!=t&&null!=i){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,s),v=Array.isArray(g)?hy(g,c,u):g,y=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:null===r||void 0===r?void 0:r.dataKey,b=null===m||void 0===m?void 0:m.nameKey;(h=null!==r&&void 0!==r&&r.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===o?Yf(v,r.dataKey,a):i(v,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=IC(IC({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Ay({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:gy(t.payload,t.dataKey),name:t.name}))}):e.push(Ay({tooltipEntrySettings:m,dataKey:y,payload:h,value:gy(h,y),name:null!==(f=gy(h,b))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},MC=Rv([S_,nb,L_,VN,x_],Dj),RC=Rv([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),LC=Rv([x_,w_],F_),FC=Rv([RC,S_,LC],B_),UC=Rv([FC],e=>e.filter(N_)),zC=Rv([FC],K_),BC=Rv([zC,pN],G_),WC=Rv([UC,pN,S_],k_),HC=Rv([BC,S_,FC],X_),VC=Rv([S_],hj),qC=Rv([FC],e=>e.filter(N_)),KC=Rv([WC,qC,HN],nj),YC=Rv([KC,pN,x_],aj),GC=Rv([FC],V_),$C=Rv([BC,S_,GC,sj,x_],oj),XC=Rv([pj,x_,w_],mj),QC=Rv([XC,x_],wj),JC=Rv([vj,x_,w_],mj),ZC=Rv([JC,x_],kj),eE=Rv([bj,x_,w_],mj),tE=Rv([eE,x_],_j),nE=Rv([QC,tE,ZC],fj),rE=Rv([S_,VC,YC,$C,nE,nb,x_],Tj),aE=Rv([S_,nb,BC,HC,HN,x_,rE],Ij),iE=Rv([aE,S_,MC],Lj),oE=Rv([S_,aE,iE,x_],Uj),sE=e=>{var t=x_(e),n=w_(e);return Yj(e,t,n,!1)},lE=Rv([S_,sE],r_),cE=Rv([S_,MC,oE,lE],Rj),uE=Rv([nb,HC,S_,x_],sC),dE=Rv([nb,HC,S_,x_],cC),hE=Rv([nb,S_,MC,cE,sE,uE,dE,x_],(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=vy(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*Rf(a[0]-a[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:i?i[e]:e,index:t,offset:d}))}}}),fE=Rv([vC,yC,e=>e.tooltip.settings],(e,t,n)=>bC(n.shared,e,t)),pE=e=>e.tooltip.settings.trigger,mE=e=>e.tooltip.settings.defaultIndex,gE=Rv([AC,fE,pE,mE],_C),vE=Rv([gE,BC],jC),yE=Rv([hE,vE],wC),bE=Rv([gE],e=>{if(e)return e.dataKey}),xE=Rv([AC,fE,pE,mE],EC),wE=Rv([Iy,Py,nb,Hy,hE,mE,xE,TC],CC),SE=Rv([gE,wE],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),kE=Rv([gE],e=>e.active),NE=Rv([xE,vE,pN,S_,yE,TC,fE],DC),_E=Rv([NE],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),jE=()=>qv(VN),CE=(e,t)=>t,EE=(e,t,n)=>n,TE=(e,t,n,r)=>r,AE=Rv(hE,e=>Yv()(e,e=>e.coordinate)),OE=Rv([AC,CE,EE,TE],_C),IE=Rv([OE,BC],jC),PE=Rv([AC,CE,EE,TE],EC),DE=Rv([Iy,Py,nb,Hy,hE,TE,PE,TC],CC),ME=Rv([OE,DE],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),RE=Rv(hE,IE,wC),LE=Rv([PE,IE,pN,S_,RE,TC,CE],DC),FE=Rv([OE],e=>({isActive:e.active,activeIndex:e.index})),UE=Rv([(e,t)=>t,nb,g_,x_,lE,hE,AE,Hy],(e,t,n,r,a,i,o,s)=>{if(e&&t&&r&&a&&i){var l=function(e,t,n,r,a){return"horizontal"===n||"vertical"===n?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:r?dy({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,a)=>{var i,o=-1,s=null!==(i=null===t||void 0===t?void 0:t.length)&&void 0!==i?i:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Rf(u-c)!==Rf(d-u)){var f=[];if(Rf(d-u)===Rf(a[1]-a[0])){h=d;var p=u+a[1]-a[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+a[1]-a[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:o}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,i,r,a),d=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,{radius:o}=r;return py(py(py({},r),sy(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return py(py(py({},r),sy(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),zE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},BE=om("mouseClick"),WE=Zm();WE.startListening({actionCreator:BE,effect:(e,t)=>{var n=e.payload,r=UE(t.getState(),zE(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(pv({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var HE=om("mouseMove"),VE=Zm();function qE(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(t){GE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}VE.startListening({actionCreator:HE,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=xC(r,r.tooltip.settings.shared),i=UE(r,zE(n));"axis"===a&&(null!=(null===i||void 0===i?void 0:i.activeIndex)?t.dispatch(fv({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(dv()))}});var $E=xm({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=YE(YE({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:XE,removeXAxis:QE,addYAxis:JE,removeYAxis:ZE,addZAxis:eT,removeZAxis:tT,updateYAxisWidth:nT}=$E.actions,rT=$E.reducer,aT=xm({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=em(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=em(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=em(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:iT,replaceCartesianGraphicalItem:oT,removeCartesianGraphicalItem:sT,addPolarGraphicalItem:lT,removePolarGraphicalItem:cT}=aT.actions,uT=aT.reducer,dT=xm({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=em(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=em(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=em(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:hT,removeDot:fT,addArea:pT,removeArea:mT,addLine:gT,removeLine:vT}=dT.actions,yT=dT.reducer,bT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xT=xm({name:"brush",initialState:bT,reducers:{setBrushSettings:(e,t)=>null==t.payload?bT:t.payload}}),{setBrushSettings:wT}=xT.actions,ST=xT.reducer,kT=xm({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=em(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:NT,setLegendSettings:_T,addLegendPayload:jT,removeLegendPayload:CT}=kT.actions,ET=kT.reducer,TT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},AT=xm({name:"rootProps",initialState:TT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:TT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),OT=AT.reducer,{updateOptions:IT}=AT.actions,PT=xm({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DT,removeRadiusAxis:MT,addAngleAxis:RT,removeAngleAxis:LT}=PT.actions,FT=PT.reducer,UT=xm({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zT}=UT.actions,BT=UT.reducer,WT=om("keyDown"),HT=om("focus"),VT=Zm();VT.startListening({actionCreator:WT,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var i=Number(jC(r,BC(n))),o=hE(n);if("Enter"!==a){var s=i+("ArrowRight"===a?1:-1)*("left-to-right"===gC(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=DE(n,"axis","hover",String(s));t.dispatch(gv({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=DE(n,"axis","hover",String(r.index));t.dispatch(gv({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),VT.startListening({actionCreator:HT,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=DE(n,"axis","hover",String("0"));t.dispatch(gv({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var qT=om("externalEvent"),KT=Zm();KT.startListening({actionCreator:qT,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:SE(n),activeDataKey:bE(n),activeIndex:vE(n),activeLabel:yE(n),activeTooltipIndex:vE(n),isTooltipActive:kE(n)};e.payload.handler(r,e.payload.reactEvent)}}});var YT=Rv([AC],e=>e.tooltipItemPayloads),GT=Rv([YT,TC,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(e=>e.settings.dataKey===r);if(null!=a){var{positions:i}=a;if(null!=i)return t(i,n)}}),$T=om("touchMove"),XT=Zm();XT.startListening({actionCreator:$T,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=xC(r,r.tooltip.settings.shared);if("axis"===a){var i=UE(r,zE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===i||void 0===i?void 0:i.activeIndex)&&t.dispatch(fv({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Fy),u=null!==(o=l.getAttribute(Uy))&&void 0!==o?o:void 0,d=GT(t.getState(),c,u);t.dispatch(cv({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var QT=xm({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:JT,removeErrorBar:ZT}=QT.actions,eA=lp({brush:ST,cartesianAxis:rT,chartData:Sv,errorBars:QT.reducer,graphicalItems:uT,layout:Ev,legend:ET,options:rg,polarAxis:FT,polarOptions:BT,referenceElements:yT,rootProps:OT,tooltip:vv});function tA(e){var{preloadedState:n,children:r,reduxStoreName:a}=e,i=Yy(),o=(0,t.useRef)(null);if(i)return r;null==o.current&&(o.current=function(e){return fm({reducer:eA,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([WE.middleware,VE.middleware,VT.middleware,KT.middleware,XT.middleware]),devTools:{serialize:{replacer:qE},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,a));var s=Uv;return t.createElement(mg,{context:s,store:o.current},r)}var nA=e=>{var{chartData:n}=e,r=Bv(),a=Yy();return(0,t.useEffect)(()=>a?()=>{}:(r(bv(n)),()=>{r(bv(void 0))}),[n,r,a]),null};function rA(e){var{layout:n,width:r,height:a,margin:i}=e,o=Bv(),s=Yy();return(0,t.useEffect)(()=>{s||(o(_v(n)),o(jv({width:r,height:a})),o(Nv(i)))},[o,s,n,r,a,i]),null}function aA(e){var n=Bv();return(0,t.useEffect)(()=>{n(IT(e))},[n,e]),null}var iA=()=>qv(e=>e.rootProps.accessibilityLayer),oA=n(6879),sA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lA(e){return"string"===typeof e&&sA.includes(e)}var cA=["points","pathLength"],uA={svg:["viewBox","children"],polygon:cA,polyline:cA},dA=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{lA(e)&&(a[e]=n||(t=>r[e](r,t)))}),a},hA=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];lA(a)&&"function"===typeof i&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(i,t,n))}),r},fA=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function pA(e){return"string"===typeof e&&fA.includes(e)}function mA(e){var t=Object.entries(e).filter(e=>{var[t]=e;return pA(t)});return Object.fromEntries(t)}var gA=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",vA=null,yA=null,bA=e=>{if(e===vA&&Array.isArray(yA))return yA;var n=[];return t.Children.forEach(e,e=>{Gf(e)||((0,oA.zv)(e)?n=n.concat(bA(e.props.children)):n.push(e))}),yA=n,vA=e,n};function xA(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>gA(e)):[gA(t)],bA(e).forEach(e=>{var t=Mf()(e,"type.displayName")||Mf()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var wA=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),SA=(e,n,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,t.isValidElement)(e)&&(a=e.props),"object"!==typeof a&&"function"!==typeof a)return null;var i={};return Object.keys(a).forEach(e=>{var t;((e,t,n,r)=>{var a;if("symbol"===typeof t||"number"===typeof t)return!0;var i=null!==(a=r&&(null===uA||void 0===uA?void 0:uA[r]))&&void 0!==a?a:[],o=t.startsWith("data-"),s="function"!==typeof e&&(Boolean(r)&&i.includes(t)||pA(t)),l=Boolean(n)&&lA(t);return o||s||l})(null===(t=a)||void 0===t?void 0:t[e],e,n,r)&&(i[e]=a[e])}),i},kA=["children","width","height","viewBox","className","style","title","desc"];function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NA.apply(null,arguments)}var _A=(0,t.forwardRef)((e,n)=>{var{children:r,width:a,height:i,viewBox:o,className:s,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,kA),h=o||{width:a,height:i,x:0,y:0},f=Of("recharts-surface",s);return t.createElement("svg",NA({},SA(d,!0,"svg"),{className:f,width:a,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),jA=["children"];function CA(){return CA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CA.apply(null,arguments)}var EA={width:"100%",height:"100%"},TA=(0,t.forwardRef)((e,n)=>{var r=Zy(),a=eb(),i=iA();if(!yN(r)||!yN(a))return null;var o,s,{children:l,otherAttributes:c,title:u,desc:d}=e;return o="number"===typeof c.tabIndex?c.tabIndex:i?0:void 0,s="string"===typeof c.role?c.role:i?"application":void 0,t.createElement(_A,CA({},c,{title:u,desc:d,role:s,tabIndex:o,width:r,height:a,style:EA,ref:n}),l)}),AA=e=>{var{children:n}=e,r=qv($y);if(!r)return null;var{width:a,height:i,y:o,x:s}=r;return t.createElement(_A,{width:a,height:i,x:s,y:o},n)},OA=(0,t.forwardRef)((e,n)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,jA);return Yy()?t.createElement(AA,null,r):t.createElement(TA,CA({ref:n},a),r)});var IA=new(n(5438)),PA="recharts.syncEvent.tooltip",DA="recharts.syncEvent.brush";function MA(e){return e.tooltip.syncInteraction}var RA=()=>{};function LA(){var e=Bv();(0,t.useEffect)(()=>{e(ag())},[e]),function(){var e=qv(qN),n=qv(YN),r=Bv(),a=qv(KN),i=qv(hE),o=rb(),s=Xy(),l=qv(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return RA;var t=(t,l,c)=>{if(n!==c&&e===t)if("index"!==a){if(null!=i){var u;if("function"===typeof a){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(i,d);u=i[h]}else"value"===a&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:m}=f,g=Math.min(p,s.x+s.width),v=Math.min(m,s.y+s.height),y={x:"horizontal"===o?u.coordinate:g,y:"horizontal"===o?v:u.coordinate},b=mv({active:l.payload.active,coordinate:y,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});r(b)}else r(mv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else r(l)};return IA.on(PA,t),()=>{IA.off(PA,t)}},[l,r,n,e,a,i,o,s])}(),function(){var e=qv(qN),n=qv(YN),r=Bv();(0,t.useEffect)(()=>{if(null==e)return RA;var t=(t,a,i)=>{n!==i&&e===t&&r(xv(a))};return IA.on(DA,t),()=>{IA.off(DA,t)}},[r,n,e])}()}function FA(e,n,r,a,i,o){var s=qv(t=>((e,t,n)=>{if(null!=t){var r=AC(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=qv(YN),c=qv(qN),u=qv(KN),d=qv(MA),h=null===d||void 0===d?void 0:d.active;(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=mv({active:o,coordinate:r,dataKey:s,index:i,label:"number"===typeof a?String(a):a});IA.emit(PA,c,e,l)}},[h,r,s,i,a,l,c,u,o])}var UA=(0,t.createContext)(null),zA=(0,t.createContext)(null);function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(t){HA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VA=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y}=e,b=Bv(),[x,w]=(0,t.useState)(null),[S,k]=(0,t.useState)(null);LA();var N=function(){var e=Bv(),[n,r]=(0,t.useState)(null),a=qv(Dy);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;vN(t)&&t!==a&&e(Cv(t))}},[n,e,a]),r}(),_=(0,t.useCallback)(e=>{N(e),"function"===typeof n&&n(e),w(e),k(e)},[N,n,w,k]),j=(0,t.useCallback)(e=>{b(BE(e)),b(qT({handler:o,reactEvent:e}))},[b,o]),C=(0,t.useCallback)(e=>{b(HE(e)),b(qT({handler:u,reactEvent:e}))},[b,u]),E=(0,t.useCallback)(e=>{b(dv()),b(qT({handler:d,reactEvent:e}))},[b,d]),T=(0,t.useCallback)(e=>{b(HE(e)),b(qT({handler:h,reactEvent:e}))},[b,h]),A=(0,t.useCallback)(()=>{b(HT())},[b]),O=(0,t.useCallback)(e=>{b(WT(e.key))},[b]),I=(0,t.useCallback)(e=>{b(qT({handler:s,reactEvent:e}))},[b,s]),P=(0,t.useCallback)(e=>{b(qT({handler:l,reactEvent:e}))},[b,l]),D=(0,t.useCallback)(e=>{b(qT({handler:c,reactEvent:e}))},[b,c]),M=(0,t.useCallback)(e=>{b(qT({handler:f,reactEvent:e}))},[b,f]),R=(0,t.useCallback)(e=>{b(qT({handler:g,reactEvent:e}))},[b,g]),L=(0,t.useCallback)(e=>{b($T(e)),b(qT({handler:m,reactEvent:e}))},[b,m]),F=(0,t.useCallback)(e=>{b(qT({handler:p,reactEvent:e}))},[b,p]);return t.createElement(UA.Provider,{value:x},t.createElement(zA.Provider,{value:S},t.createElement("div",{className:Of("recharts-wrapper",a),style:WA({position:"relative",cursor:"default",width:y,height:i},v),onClick:j,onContextMenu:I,onDoubleClick:P,onFocus:A,onKeyDown:O,onMouseDown:D,onMouseEnter:C,onMouseLeave:E,onMouseMove:T,onMouseUp:M,onTouchEnd:F,onTouchMove:L,onTouchStart:R,ref:_},r)))}),qA=Rv([Hy],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),KA=Rv([qA,Iy,Py],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),YA=()=>qv(KA),GA=(0,t.createContext)(void 0),$A=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(Wf("recharts"),"-clip")),a=YA();if(null==a)return null;var{x:i,y:o,width:s,height:l}=a;return t.createElement(GA.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:i,y:o,height:l,width:s}))),n)},XA=["children","className","width","height","style","compact","title","desc"];var QA=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,width:i,height:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,XA),h=mA(d);return l?t.createElement(OA,{otherAttributes:h,title:c,desc:u},r):t.createElement(VA,{className:a,style:s,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(OA,{otherAttributes:h,title:c,desc:u,ref:n},t.createElement($A,null,r)))});function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eO(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(t){ZA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t,a=Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n);return a}var tO=["width","height"];function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nO.apply(null,arguments)}var rO={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},aO=(0,t.forwardRef)(function(e,n){var r,a=eO(e.categoricalChartProps,rO),{width:i,height:o}=a,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,tO);if(!yN(i)||!yN(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return t.createElement(tA,{preloadedState:{options:f},reduxStoreName:null!==(r=h.id)&&void 0!==r?r:l},t.createElement(nA,{chartData:h.data}),t.createElement(rA,{width:i,height:o,layout:a.layout,margin:a.margin}),t.createElement(aA,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(QA,nO({},s,{width:i,height:o,ref:n})))}),iO=["axis"],oO=(0,t.forwardRef)((e,n)=>t.createElement(aO,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iO,tooltipPayloadSearcher:tg,categoricalChartProps:e,ref:n})),sO=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function lO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(t){dO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hO=uO({},{cacheSize:2e3,enableCache:!0}),fO=new class{constructor(e){lO(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(hO.cacheSize),pO={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mO="recharts_measurement_span";var gO=(e,t)=>{try{var n=document.getElementById(mO);n||((n=document.createElement("span")).setAttribute("id",mO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,pO,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(a){return{width:0,height:0}}},vO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||sO)return{width:0,height:0};if(!hO.enableCache)return gO(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}(e,t),r=fO.get(n);if(r)return r;var a=gO(e,t);return fO.set(n,a),a};function yO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bO{static create(e){return new bO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}yO(bO,"EPS",1e-4);function xO(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function wO(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function SO(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(t){_O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jO(e,t,n){var r,{tick:a,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!a)return[];if(Uf(c)||sO)return null!==(r=function(e,t){return xO(e,t+1)}(i,Uf(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?vO(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var a="function"===typeof u?u(e.value,r):e.value;return"width"===p?wO(vO(a,{fontSize:t,letterSpacing:n}),m,h):vO(a,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?Rf(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:a,y:i,width:o,height:s}=e;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(o,v,p);return"equidistantPreserveStart"===c?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:xO(r,u)};var i,o=c,h=()=>(void 0===i&&(i=n(t,o)),i),f=t.coordinate,p=0===c||SO(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+a),c+=u)};u<=o.length;)if(i=h())return i.v;return[]}(v,y,g,i,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=NO(NO({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),SO(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=NO(NO({},u),{},{isShow:!0}))}for(var f=i?s-1:s,p=function(t){var r,i=o[t],s=()=>(void 0===r&&(r=n(i,t)),r);if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=NO(NO({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=NO(NO({},i),{},{tickCoord:i.coordinate});SO(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=NO(NO({},i),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(v,y,g,i,s,"preserveStartEnd"===c):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=i[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=NO(NO({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=NO(NO({},c),{},{tickCoord:c.coordinate});SO(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=NO(NO({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(v,y,g,i,s),f.filter(e=>e.isShow))}function CO(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var EO=["children","className"];function TO(){return TO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TO.apply(null,arguments)}var AO=t.forwardRef((e,n)=>{var{children:r,className:a}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,EO),o=Of("recharts-layer",a);return t.createElement("g",TO({className:o},SA(i,!0),{ref:n}),r)}),OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PO=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DO=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},RO=Object.keys(MO),LO="NaN";class FO{static parse(e){var t,[,n,r]=null!==(t=DO.exec(e))&&void 0!==t?t:[];return new FO(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Lf(e)&&(this.unit=""),""===t||PO.test(t)||(this.num=NaN,this.unit=""),RO.includes(t)&&(this.num=function(e,t){return e*MO[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new FO(NaN,""):new FO(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new FO(NaN,""):new FO(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new FO(NaN,""):new FO(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new FO(NaN,""):new FO(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Lf(this.num)}}function UO(e){if(e.includes(LO))return LO;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=null!==(n=OO.exec(t))&&void 0!==n?n:[],o=FO.parse(null!==r&&void 0!==r?r:""),s=FO.parse(null!==i&&void 0!==i?i:""),l="*"===a?o.multiply(s):o.divide(s);if(l.isNaN())return LO;t=t.replace(OO,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=IO.exec(t))&&void 0!==c?c:[],f=FO.parse(null!==u&&void 0!==u?u:""),p=FO.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return LO;t=t.replace(IO,m.toString())}return t}var zO=/\(([^()]*)\)/;function BO(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=zO.exec(n));){var[,r]=t;n=n.replace(zO,UO(r))}return n}(t),t=UO(t)}function WO(e){var t=function(e){try{return BO(e)}catch(t){return LO}}(e.slice(5,-1));return t===LO?"":t}var HO=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],VO=["dx","dy","angle","className","breakAll"];function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qO.apply(null,arguments)}function KO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var YO=/[ \f\n\r\t\v\u2028\u2029]+/,GO=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return Gf(t)||(a=n?t.toString().split(""):t.toString().split(YO)),{wordsWithComputedWidth:a.map(e=>({word:e,width:vO(e,r).width})),spaceWidth:n?0:vO("\xa0",r).width}}catch(i){return null}},$O=e=>[{words:Gf(e)?[]:e.toString().split(YO)}],XO=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!sO){var s=GO({breakAll:i,children:r,style:a});if(!s)return $O(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=Uf(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:i,width:o}=t,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>i||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=GO({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n);return[a.length>i||f(a).width>Number(r),a]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var b=Math.floor((g+v)/2),x=b-1,[w,S]=m(x),[k]=m(b);if(w||k||(g=b+1),w&&k&&(v=b-1),!w&&k){p=S;break}y++}return p||h})({breakAll:i,children:r,maxLines:o,style:a},l,c,t,n)}return $O(r)},QO="#808080",JO=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:a=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=QO}=e,d=KO(e,HO),h=(0,t.useMemo)(()=>XO({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:v}=d,y=KO(d,VO);if(!zf(r)||!zf(a))return null;var b,x=r+(Uf(f)?f:0),w=a+(Uf(p)?p:0);switch(c){case"start":b=WO("calc(".concat(o,")"));break;case"middle":b=WO("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:b=WO("calc(".concat(h.length-1," * -").concat(i,")"))}var S=[];if(s){var k=h[0].width,{width:N}=d;S.push("scale(".concat(Uf(N)?N/k:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),S.length&&(y.transform=S.join(" ")),t.createElement("text",qO({},SA(y,!0),{ref:n,x:x,y:w,className:Of("recharts-text",g),textAnchor:l,fill:u.includes("url")?QO:u}),h.map((e,n)=>{var r=e.words.join(v?"":" ");return t.createElement("tspan",{x:x,dy:0===n?b:i,key:"".concat(r,"-").concat(n)},r)}))});JO.displayName="Text";var ZO=["offset"],eI=["labelRef"];function tI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(t){aI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iI(){return iI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iI.apply(null,arguments)}var oI=e=>null!=e&&"function"===typeof e,sI=(e,n,r,a)=>{var i,o,{position:s,offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=a,v=(h+f)/2,y=((e,t)=>Rf(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=y>=0?1:-1;"insideStart"===s?(i=p+b*l,o=g):"insideEnd"===s?(i=m-b*l,o=!g):"end"===s&&(i=m+b*l,o=g),o=y<=0?o:!o;var x=sy(u,d,v,i),w=sy(u,d,v,i+359*(o?1:-1)),S="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),k=Gf(e.id)?Wf("recharts-radial-line-"):e.id;return t.createElement("text",iI({},r,{dominantBaseline:"central",className:Of("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:k,d:S})),t.createElement("textPath",{xlinkHref:"#".concat(k)},n))};function lI(e){var{offset:n=5}=e,r=rI({offset:n},tI(e,ZO)),{viewBox:a,position:i,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=qv(g_),f=Xy(),p=a||("center"===i?f:null!==h&&void 0!==h?h:f);if(!p||Gf(o)&&Gf(s)&&!(0,t.isValidElement)(l)&&"function"!==typeof l)return null;var m,g=rI(rI({},r),{},{viewBox:p});if((0,t.isValidElement)(l)){var{labelRef:v}=g,y=tI(g,eI);return(0,t.cloneElement)(l,y)}if("function"===typeof l){if(m=(0,t.createElement)(l,g),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=Gf(e.children)?t:e.children;return"function"===typeof n?n(r):r})(r);var b=(e=>"cx"in e&&Uf(e.cx))(p),x=SA(r,!0);if(b&&("insideStart"===i||"insideEnd"===i||"end"===i))return sI(r,m,x,p);var w=b?((e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=sy(r,a,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:f,y:p}=sy(r,a,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:i,y:o,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",h=c>0?"start":"end",f=s>=0?1:-1,p=f*r,m=f>0?"end":"start",g=f>0?"start":"end";if("top"===a)return rI(rI({},{x:i+s/2,y:o-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(o-n.y,0),width:s}:{});if("bottom"===a)return rI(rI({},{x:i+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(o+l),0),width:s}:{});if("left"===a){var v={x:i-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"};return rI(rI({},v),n?{width:Math.max(v.x-n.x,0),height:l}:{})}if("right"===a){var y={x:i+s+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return rI(rI({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===a?rI({x:i+p,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?rI({x:i+s-p,y:o+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideTop"===a?rI({x:i+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===a?rI({x:i+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===a?rI({x:i+p,y:o+u,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===a?rI({x:i+s-p,y:o+u,textAnchor:m,verticalAnchor:h},b):"insideBottomLeft"===a?rI({x:i+p,y:o+l-u,textAnchor:g,verticalAnchor:d},b):"insideBottomRight"===a?rI({x:i+s-p,y:o+l-u,textAnchor:m,verticalAnchor:d},b):a&&"object"===typeof a&&(Uf(a.x)||Ff(a.x))&&(Uf(a.y)||Ff(a.y))?rI({x:i+Hf(a.x,s),y:o+Hf(a.y,l),textAnchor:"end",verticalAnchor:"end"},b):rI({x:i+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(r,p);return t.createElement(JO,iI({ref:d,className:Of("recharts-label",c)},x,w,{breakAll:u}),m)}lI.displayName="Label";var cI=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:i,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:f,width:p,height:m,clockWise:g,labelViewBox:v}=e;if(v)return v;if(Uf(p)&&Uf(m)){if(Uf(u)&&Uf(d))return{x:u,y:d,width:p,height:m};if(Uf(h)&&Uf(f))return{x:h,y:f,width:p,height:m}}return Uf(u)&&Uf(d)?{x:u,y:d,width:0,height:0}:Uf(t)&&Uf(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:void 0};lI.parseViewBox=cI,lI.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:i}=e,o=cI(e),s=xA(a,lI).map((e,r)=>(0,t.cloneElement)(e,{viewBox:n||o,key:"label-".concat(r)}));if(!r)return s;var l=((e,n,r)=>{if(!e)return null;var a={viewBox:n,labelRef:r};return!0===e?t.createElement(lI,iI({key:"label-implicit"},a)):zf(e)?t.createElement(lI,iI({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===lI?(0,t.cloneElement)(e,rI({key:"label-implicit"},a)):t.createElement(lI,iI({key:"label-implicit",content:e},a)):oI(e)?t.createElement(lI,iI({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement(lI,iI({},e,{key:"label-implicit"},a)):null})(e.label,n||o,i);return[l,...s]};var uI=["viewBox"],dI=["viewBox"];function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hI.apply(null,arguments)}function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fI(Object(n),!0).forEach(function(t){gI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vI extends t.Component{constructor(e){super(e),this.tickRefs=t.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=mI(e,uI),a=this.props,{viewBox:i}=a,o=mI(a,dI);return!CO(n,i)||!CO(r,o)||!CO(t,this.state)}getTickLineCoord(e){var t,n,r,a,i,o,{x:s,y:l,width:c,height:u,orientation:d,tickSize:h,mirror:f,tickMargin:p}=this.props,m=f?-1:1,g=e.tickSize||h,v=Uf(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(a=l+ +!f*u)-m*g)-m*p,i=v;break;case"left":r=a=e.coordinate,i=(t=(n=s+ +!f*c)-m*g)-m*p,o=v;break;case"right":r=a=e.coordinate,i=(t=(n=s+ +f*c)+m*g)+m*p,o=v;break;default:t=n=e.coordinate,o=(r=(a=l+ +f*u)+m*g)+m*p,i=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s}=this.props,l=pI(pI(pI({},SA(this.props,!1)),SA(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!o||"bottom"===i&&o);l=pI(pI({},l),{},{x1:e,y1:n+c*a,x2:e+r,y2:n+c*a})}else{var u=+("left"===i&&!o||"right"===i&&o);l=pI(pI({},l),{},{x1:e+u*r,y1:n,x2:e+u*r,y2:n+a})}return t.createElement("line",hI({},l,{className:Of("recharts-cartesian-axis-line",Mf()(s,"className"))}))}static renderTickItem(e,n,r){var a,i=Of(n.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(e))a=t.cloneElement(e,pI(pI({},n),{},{className:i}));else if("function"===typeof e)a=e(pI(pI({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(o=Of(o,e.className)),a=t.createElement(JO,hI({},n,{className:o}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:s,unit:l,padding:c}=this.props,u=jO(pI(pI({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=mA(this.props),p=SA(o,!1),m=pI(pI({},f),{},{fill:"none"},SA(a,!1)),g=u.map((e,n)=>{var{line:r,tick:g}=this.getTickLineCoord(e),v=pI(pI(pI(pI({textAnchor:d,verticalAnchor:h},f),{},{stroke:"none",fill:i},p),g),{},{index:n,payload:e,visibleTicksCount:u.length,tickFormatter:s,padding:c});return t.createElement(AO,hI({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},hA(this.props,e,n)),a&&t.createElement("line",hI({},m,r,{className:Of("recharts-cartesian-axis-tick-line",Mf()(a,"className"))})),o&&vI.renderTickItem(o,v,"".concat("function"===typeof s?s(e.value,n):e.value).concat(l||"")))});return g.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return null!=n&&n<=0||null!=r&&r<=0?null:t.createElement(AO,{className:Of("recharts-cartesian-axis",a),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,a=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&a===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),lI.renderCallByParent(this.props))}}gI(vI,"displayName","CartesianAxis"),gI(vI,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yI=["x1","y1","x2","y2","key"],bI=["offset"],xI=["xAxisId","yAxisId"],wI=["xAxisId","yAxisId"];function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(t){NI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_I.apply(null,arguments)}function jI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var CI=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:a,y:i,width:o,height:s,ry:l}=e;return t.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function EI(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:a,y1:i,x2:o,y2:s,key:l}=n,c=mA(jI(n,yI)),{offset:u}=c,d=jI(c,bI);r=t.createElement("line",_I({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function TI(e){var{x:n,width:r,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=jI(e,xI),c=i.map((e,t)=>{var i=kI(kI({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return EI(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function AI(e){var{y:n,height:r,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=jI(e,wI),c=i.map((e,t)=>{var i=kI(kI({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return EI(a,i)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function OI(e){var{horizontalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:o,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function II(e){var{vertical:n=!0,verticalFill:r,fillOpacity:a,x:i,y:o,width:s,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?i+s-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:o,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var PI=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return yy(jO(kI(kI(kI({},vI.defaultProps),n),{},{ticks:by(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},DI=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return yy(jO(kI(kI(kI({},vI.defaultProps),n),{},{ticks:by(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},MI={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function RI(e){var n=Zy(),r=eb(),a=Jy(),i=kI(kI({},eO(e,MI)),{},{x:Uf(e.x)?e.x:a.left,y:Uf(e.y)?e.y:a.top,width:Uf(e.width)?e.width:a.width,height:Uf(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,m=Yy(),g=qv(e=>dC(e,"xAxis",o,m)),v=qv(e=>dC(e,"yAxis",s,m));if(!Uf(u)||u<=0||!Uf(d)||d<=0||!Uf(l)||l!==+l||!Uf(c)||c!==+c)return null;var y=i.verticalCoordinatesGenerator||PI,b=i.horizontalCoordinatesGenerator||DI,{horizontalPoints:x,verticalPoints:w}=i;if((!x||!x.length)&&"function"===typeof b){var S=f&&f.length,k=b({yAxis:v?kI(kI({},v),{},{ticks:S?f:v.ticks}):void 0,width:n,height:r,offset:a},!!S||h);Xf(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(x=k)}if((!w||!w.length)&&"function"===typeof y){var N=p&&p.length,_=y({xAxis:g?kI(kI({},g),{},{ticks:N?p:g.ticks}):void 0,width:n,height:r,offset:a},!!N||h);Xf(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(CI,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),t.createElement(OI,_I({},i,{horizontalPoints:x})),t.createElement(II,_I({},i,{verticalPoints:w})),t.createElement(TI,_I({},i,{offset:a,horizontalPoints:x,xAxis:g,yAxis:v})),t.createElement(AI,_I({},i,{offset:a,verticalPoints:w,xAxis:g,yAxis:v})))}RI.displayName="CartesianGrid";var LI=["children"],FI=["dangerouslySetInnerHTML","ticks"];function UI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zI(){return zI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zI.apply(null,arguments)}function BI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WI(e){var n=Bv(),r=(0,t.useMemo)(()=>{var{children:t}=e;return BI(e,LI)},[e]),a=qv(e=>A_(e,r.id)),i=r===a;return(0,t.useEffect)(()=>(n(XE(r)),()=>{n(QE(r))}),[r,n]),i?e.children:null}var HI=e=>{var{xAxisId:n,className:r}=e,a=qv(qy),i=Yy(),o="xAxis",s=qv(e=>$j(e,o,n,i)),l=qv(e=>hC(e,o,n,i)),c=qv(e=>nC(e,n)),u=qv(e=>((e,t)=>{var n=Hy(e),r=A_(e,t);if(null!=r){var a=rC(e,r.orientation,r.mirror)[t];return null==a?{x:n.left,y:0}:{x:n.left,y:a}}})(e,n));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=BI(e,FI);return t.createElement(vI,zI({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Of("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:l}))},VI=e=>{var n,r,a,i,o;return t.createElement(WI,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},t.createElement(HI,e))};class qI extends t.Component{render(){return t.createElement(VI,this.props)}}UI(qI,"displayName","XAxis"),UI(qI,"defaultProps",{allowDataOverflow:T_.allowDataOverflow,allowDecimals:T_.allowDecimals,allowDuplicatedCategory:T_.allowDuplicatedCategory,height:T_.height,hide:!1,mirror:T_.mirror,orientation:T_.orientation,padding:T_.padding,reversed:T_.reversed,scale:T_.scale,tickCount:T_.tickCount,type:T_.type,xAxisId:0});var KI=["dangerouslySetInnerHTML","ticks"];function YI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GI(){return GI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GI.apply(null,arguments)}function $I(e){var n=Bv();return(0,t.useEffect)(()=>(n(JE(e)),()=>{n(ZE(e))}),[e,n]),null}var XI=e=>{var n,{yAxisId:r,className:a,width:i,label:o}=e,s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=qv(qy),u=Yy(),d=Bv(),h="yAxis",f=qv(e=>$j(e,h,r,u)),p=qv(e=>iC(e,r)),m=qv(e=>((e,t)=>{var n=Hy(e),r=I_(e,t);if(null!=r){var a=aC(e,r.orientation,r.mirror)[t];return null==a?{x:0,y:n.top}:{x:a,y:n.top}}})(e,r)),g=qv(e=>hC(e,h,r,u));if((0,t.useLayoutEffect)(()=>{var e;if("auto"===i&&p&&!oI(o)&&!(0,t.isValidElement)(o)){var n=s.current,a=null===n||void 0===n||null===(e=n.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=n.props,h=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(a+i)+s+(n?r:0);return Math.round(l)}return 0})({ticks:a,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(h)&&d(nT({id:r,width:h}))}},[s,null===s||void 0===s||null===(n=s.current)||void 0===n||null===(n=n.tickRefs)||void 0===n?void 0:n.current,null===p||void 0===p?void 0:p.width,p,d,o,r,i]),null==p||null==m)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,b=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,KI);return t.createElement(vI,GI({},b,{ref:s,labelRef:l,scale:f,x:m.x,y:m.y,width:p.width,height:p.height,className:Of("recharts-".concat(h," ").concat(h),a),viewBox:c,ticks:g}))},QI=e=>{var n,r,a,i,o;return t.createElement(t.Fragment,null,t.createElement($I,{interval:null!==(n=e.interval)&&void 0!==n?n:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(r=e.includeHidden)&&void 0!==r&&r,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(a=e.angle)&&void 0!==a?a:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),t.createElement(XI,e))},JI={allowDataOverflow:O_.allowDataOverflow,allowDecimals:O_.allowDecimals,allowDuplicatedCategory:O_.allowDuplicatedCategory,hide:!1,mirror:O_.mirror,orientation:O_.orientation,padding:O_.padding,reversed:O_.reversed,scale:O_.scale,tickCount:O_.tickCount,type:O_.type,width:O_.width,yAxisId:0};class ZI extends t.Component{render(){return t.createElement(QI,this.props)}}function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eP.apply(null,arguments)}function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(t){rP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aP(e){return Array.isArray(e)&&zf(e[0])&&zf(e[1])?e.join(" ~ "):e}YI(ZI,"displayName","YAxis"),YI(ZI,"defaultProps",JI);var iP=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:a={},labelStyle:i={},payload:o,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=nP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=nP({margin:0},i),g=!Gf(d),v=g?d:"",y=Of("recharts-default-tooltip",c),b=Of("recharts-tooltip-label",u);g&&h&&void 0!==o&&null!==o&&(v=h(d,o));var x=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",eP({className:y,style:p},x),t.createElement("p",{className:b,style:m},t.isValidElement(v)?v:"".concat(v)),(()=>{if(o&&o.length){var e=(l?Yv()(o,l):o).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||s||aP,{value:l,name:c}=e,u=l,d=c;if(i){var h=i(l,c,e,r,o);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=nP({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},zf(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,zf(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},oP="recharts-tooltip-wrapper",sP={visibility:"hidden"};function lP(e){var{coordinate:t,translateX:n,translateY:r}=e;return Of(oP,{["".concat(oP,"-right")]:Uf(n)&&t&&Uf(t.x)&&n>=t.x,["".concat(oP,"-left")]:Uf(n)&&t&&Uf(t.x)&&n<t.x,["".concat(oP,"-bottom")]:Uf(r)&&t&&Uf(t.y)&&r>=t.y,["".concat(oP,"-top")]:Uf(r)&&t&&Uf(t.y)&&r<t.y})}function cP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&Uf(i[r]))return i[r];var u=n[r]-s-(a>0?a:0),d=n[r]+a;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(t){hP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fP extends t.PureComponent{constructor(){super(...arguments),hP(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hP(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:i,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&i?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=cP({allowEscapeViewBox:a,coordinate:i,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=cP({allowEscapeViewBox:a,coordinate:i,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):sP,{cssProperties:t,cssClasses:lP({translateX:n,translateY:r,coordinate:i})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),x=v?{}:dP(dP({transition:l&&e?"transform ".concat(r,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=dP(dP({},x),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},i)}}var pP=n(2239),mP=n.n(pP);function gP(e,t,n){return!0===t?mP()(e,n):"function"===typeof t?mP()(e,t):e}var vP,yP,bP,xP,wP,SP,kP,NP,_P,jP,CP,EP,TP,AP;function OP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-n.height)>1||Math.abs(a.left-n.left)>1||Math.abs(a.top-n.top)>1||Math.abs(a.width-n.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,a]}function IP(){}function PP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function DP(e){this._context=e}function MP(e){this._context=e}function RP(e){this._context=e}DP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:PP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:PP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},MP.prototype={areaStart:IP,areaEnd:IP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:PP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:PP(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class LP{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function FP(e){this._context=e}function UP(e){this._context=e}function zP(e){return new UP(e)}function BP(e){return e<0?-1:1}function WP(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(BP(i)+BP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function HP(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function VP(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function qP(e){this._context=e}function KP(e){this._context=new YP(e)}function YP(e){this._context=e}function GP(e){this._context=e}function $P(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function XP(e,t){this._context=e,this._t=t}function QP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}FP.prototype={areaStart:IP,areaEnd:IP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},UP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VP(this,this._t0,HP(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,VP(this,HP(this,n=WP(this,e,t)),n);break;default:VP(this,this._t0,n=WP(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(KP.prototype=Object.create(qP.prototype)).point=function(e,t){qP.prototype.point.call(this,t,e)},YP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=$P(e),a=$P(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},XP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const JP=Math.PI,ZP=2*JP,eD=1e-6,tD=ZP-eD;function nD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class rD{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?nD:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return nD;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(vP||(vP=QP(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(yP||(yP=QP(["Z"]))))}lineTo(e,t){this._append(bP||(bP=QP(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(xP||(xP=QP(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,i){this._append(wP||(wP=QP(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+i)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(SP||(SP=QP(["M",",",""])),this._x1=e,this._y1=t);else if(d>eD)if(Math.abs(u*s-l*c)>eD&&a){let h=n-i,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=a*Math.tan((JP-Math.acos((p+d-m)/(2*g*v)))/2),b=y/v,x=y/g;Math.abs(b-1)>eD&&this._append(NP||(NP=QP(["L",",",""])),e+b*c,t+b*u),this._append(_P||(_P=QP(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+x*s,this._y1=t+x*l)}else this._append(kP||(kP=QP(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,d=i?r-a:a-r;null===this._x1?this._append(jP||(jP=QP(["M",",",""])),l,c):(Math.abs(this._x1-l)>eD||Math.abs(this._y1-c)>eD)&&this._append(CP||(CP=QP(["L",",",""])),l,c),n&&(d<0&&(d=d%ZP+ZP),d>tD?this._append(EP||(EP=QP(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>eD&&this._append(TP||(TP=QP(["A",",",",0,",",",",",",",""])),n,n,+(d>=JP),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(AP||(AP=QP(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function aD(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new rD(t)}function iD(e){return e[0]}function oD(e){return e[1]}function sD(e,t){var n=Jv(!0),r=null,a=zP,i=null,o=aD(s);function s(s){var l,c,u,d=(s=Qv(s)).length,h=!1;for(null==r&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?iD:Jv(e),t="function"===typeof t?t:void 0===t?oD:Jv(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Jv(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Jv(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Jv(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function lD(e,t,n){var r=null,a=Jv(!0),i=null,o=zP,s=null,l=aD(c);function c(c){var u,d,h,f,p,m=(c=Qv(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),s.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return sD().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?iD:Jv(+e),t="function"===typeof t?t:Jv(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?oD:Jv(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Jv(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Jv(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Jv(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Jv(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Jv(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Jv(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Jv(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}function cD(){return cD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cD.apply(null,arguments)}function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(t){hD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fD={curveBasisClosed:function(e){return new MP(e)},curveBasisOpen:function(e){return new RP(e)},curveBasis:function(e){return new DP(e)},curveBumpX:function(e){return new LP(e,!0)},curveBumpY:function(e){return new LP(e,!1)},curveLinearClosed:function(e){return new FP(e)},curveLinear:zP,curveMonotoneX:function(e){return new qP(e)},curveMonotoneY:function(e){return new KP(e)},curveNatural:function(e){return new GP(e)},curveStep:function(e){return new XP(e,.5)},curveStepAfter:function(e){return new XP(e,1)},curveStepBefore:function(e){return new XP(e,0)}},pD=e=>vN(e.x)&&vN(e.y),mD=e=>e.x,gD=e=>e.y,vD=e=>{var t,{type:n="linear",points:r=[],baseLine:a,layout:i,connectNulls:o=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat($f(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?fD[n]||zP:fD["".concat(n).concat("vertical"===t?"Y":"X")]})(n,i),l=o?r.filter(pD):r;if(Array.isArray(a)){var c=o?a.filter(e=>pD(e)):a,u=l.map((e,t)=>dD(dD({},e),{},{base:c[t]}));return(t="vertical"===i?lD().y(gD).x1(mD).x0(e=>e.base.x):lD().x(mD).y1(gD).y0(e=>e.base.y)).defined(pD).curve(s),t(u)}return(t="vertical"===i&&Uf(a)?lD().y(gD).x1(mD).x0(a):Uf(a)?lD().x(mD).y1(gD).y0(a):sD().x(mD).y(gD)).defined(pD).curve(s),t(l)},yD=e=>{var{className:n,points:r,path:a,pathRef:i}=e;if((!r||!r.length)&&!a)return null;var o=r&&r.length?vD(e):a;return t.createElement("path",cD({},mA(e),dA(e),{className:Of("recharts-curve",n),d:null===o?void 0:o,ref:i}))},bD=["x","y","top","left","width","height","className"];function xD(){return xD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xD.apply(null,arguments)}function wD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kD=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),ND=e=>{var{x:n=0,y:r=0,top:a=0,left:i=0,width:o=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,bD),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(n),!0).forEach(function(t){SD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:a,left:i,width:o,height:s},c);return Uf(n)&&Uf(r)&&Uf(o)&&Uf(s)&&Uf(a)&&Uf(i)?t.createElement("path",xD({},SA(u,!0),{className:Of("recharts-cross",l),d:kD(n,r,o,s,a,i)})):null};var _D=n(9035),jD=n.n(_D),CD=1e-4,ED=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],TD=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),AD=(e,t)=>n=>{var r=ED(e,t);return TD(r,n)},OD=function(){for(var e,t,n,r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];if(1===i.length)switch(i[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=i[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===i.length&&([e,n,t,r]=i);var l,c,u=AD(e,t),d=AD(n,r),h=(l=e,c=t,e=>{var t=[...ED(l,c).map((e,t)=>e*t).slice(1),0];return TD(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=u(n)-t,i=h(n);if(Math.abs(a-t)<CD||i<CD)return d(n);n=f(n-a/i)}return d(n)};return p.isStepper=!1,p},ID=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OD(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,i)=>{var o=i+(-(e-a)*t-i*n)*r/1e3,s=i*r/1e3+e;return Math.abs(s-a)<CD&&Math.abs(o)<CD?[a,0]:[s,o]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return OD(e)}return"function"===typeof e?e:null};function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(n),!0).forEach(function(t){MD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RD=(e,t)=>Object.keys(t).reduce((n,r)=>DD(DD({},n),{},{[r]:e(r,t[r])}),{});function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(t){UD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zD=(e,t,n)=>e+(t-e)*n,BD=e=>{var{from:t,to:n}=e;return t!==n},WD=(e,t,n)=>{var r=RD((t,n)=>{if(BD(n)){var[r,a]=e(n.from,n.to,n.velocity);return FD(FD({},n),{},{from:r,velocity:a})}return n},t);return n<1?RD((e,t)=>BD(t)?FD(FD({},t),{},{velocity:zD(t.velocity,r[e].velocity,n),from:zD(t.from,r[e].from,n)}):t,t):WD(e,r,n-1)};function HD(e,t,n,r,a,i){var o,s=r.reduce((n,r)=>FD(FD({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=WD(n,s,u),a(FD(FD(FD({},e),t),RD((e,t)=>t.from,s))),o=r,Object.values(s).filter(BD).length&&(l=i.setTimeout(c))};return()=>(l=i.setTimeout(c),()=>{l()})}const VD=(e,t,n,r,a,i)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?HD(e,t,n,l,a,i):function(e,t,n,r,a,i,o){var s,l=null,c=a.reduce((n,r)=>FD(FD({},n),{},{[r]:[e[r],t[r]]}),{}),u=a=>{s||(s=a);var d=(a-s)/r,h=RD((e,t)=>zD(...t,n(d)),c);if(i(FD(FD(FD({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=RD((e,t)=>zD(...t,n(1)),c);i(FD(FD(FD({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,a,i)};class qD{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=i=>{i-n>=t?e(i):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}function KD(){return function(e){var t=()=>null,n=!1,r=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[s,...l]=o;return"number"===typeof s?void(r=e.setTimeout(a.bind(null,l),s)):(a(s),void(r=e.setTimeout(a.bind(null,l))))}"string"===typeof i&&t(i),"object"===typeof i&&t(i),"function"===typeof i&&i()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new qD)}var YD=(0,t.createContext)(KD);function GD(e,n){var r=(0,t.useContext)(YD);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}var $D=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function XD(){return XD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XD.apply(null,arguments)}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QD(Object(n),!0).forEach(function(t){ZD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eM extends t.PureComponent{constructor(e,t){super(e,t),ZD(this,"mounted",!1),ZD(this,"manager",void 0),ZD(this,"stopJSAnimation",null),ZD(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:a,to:i,children:o,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"===typeof o&&(this.state={style:i}));if(a){if("function"===typeof o)return void(this.state={style:a});this.state={style:r?{[r]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:a,to:i,from:o}=this.props,{style:s}=this.state;if(n)if(t){if(!(jD()(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||a?o:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(JD(JD({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:i}:i};this.state&&s&&(r&&s[r]!==i||!r&&s!==i)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:a,begin:i,onAnimationEnd:o,onAnimationStart:s}=e,l=VD(t,n,ID(a),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,i,()=>{this.stopJSAnimation=l()},r,o])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:a,easing:i,onAnimationStart:o,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i){var c=r?{[r]:a}:a,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,i);this.manager.start([o,t,JD(JD({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:i,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:f,animationManager:p}=e,m=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,$D),g=t.Children.count(n),v=this.state.style;if("function"===typeof n)return n(v);if(!s||0===g||a<=0)return n;var y=e=>{var{style:n={},className:r}=e.props;return(0,t.cloneElement)(e,JD(JD({},m),{},{style:JD(JD({},n),v),className:r}))};return 1===g?y(t.Children.only(n)):t.createElement("div",null,t.Children.map(n,e=>y(e)))}}function tM(e){var n,r=GD(null!==(n=e.attributeName)&&void 0!==n?n:Object.keys(e.to).join(","),e.animationManager);return t.createElement(eM,XD({},e,{animationManager:r}))}function nM(){return nM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nM.apply(null,arguments)}ZD(eM,"displayName","Animate"),ZD(eM,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var rM=(e,t,n,r,a)=>{var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},aM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iM=e=>{var n=eO(e,aM),r=(0,t.useRef)(null),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var v=Of("recharts-rectangle",d);return g?t.createElement(tM,{canBegin:a>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:f,animationEasing:h,isActive:g},e=>{var{width:i,height:o,x:s,y:l}=e;return t.createElement(tM,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},t.createElement("path",nM({},SA(n,!0),{className:v,d:rM(s,l,i,o,u),ref:r})))}):t.createElement("path",nM({},SA(n,!0),{className:v,d:rM(o,s,l,c,u)}))};function oM(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e;return{points:[sy(t,n,r,a),sy(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function sM(){return sM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sM.apply(null,arguments)}var lM=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/iy,d=l?a:a+i*u,h=l?a-i*u:a;return{center:sy(t,n,c,d),circleTangency:sy(t,n,r,d),lineTangency:sy(t,n,c*Math.cos(u*iy),h),theta:u}},cM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=((e,t)=>Rf(t-e)*Math.min(Math.abs(t-e),359.999))(i,o),l=i+s,c=sy(t,n,a,i),u=sy(t,n,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=sy(t,n,r,i),f=sy(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},uM={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dM=e=>{var n=eO(e,uM),{cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(o<i||u===d)return null;var f,p=Of("recharts-sector",h),m=o-i,g=Hf(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=Rf(c-l),{circleTangency:d,lineTangency:h,theta:f}=lM({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=lM({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):cM({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:x,theta:w}=lM({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:S,lineTangency:k,theta:N}=lM({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),_=s?Math.abs(l-c):Math.abs(l-c)-w-N;if(_<0&&0===i)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(k.x,",").concat(k.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(_>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):cM({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d}),t.createElement("path",sM({},SA(n,!0),{className:p,d:f}))};function hM(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return oM(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=sy(s,l,c,d),f=sy(s,l,u,d);r=h.x,a=h.y,i=f.x,o=f.y}return[{x:r,y:a},{x:i,y:o}]}function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(t){mM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gM=()=>{var e=qv(S_),t=qv(hE),n=qv(cE);return Ty(pM(pM({},e),{},{scale:n}),t)};function vM(){return vM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vM.apply(null,arguments)}function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(t){xM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wM(e){var n,r,{coordinate:a,payload:i,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,p=i,m=o;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=ND;else if("BarChart"===h)n=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,s,l),r=iM;else if("radial"===c){var{cx:g,cy:v,radius:y,startAngle:b,endAngle:x}=oM(f);n={cx:g,cy:v,startAngle:b,endAngle:x,innerRadius:y,outerRadius:y},r=dM}else n={points:hM(c,f,s)},r=yD;var w="object"===typeof u&&"className"in u?u.className:void 0,S=bM(bM(bM(bM({stroke:"#ccc",pointerEvents:"none"},s),n),SA(u,!1)),{},{payload:p,payloadIndex:m,className:Of("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,S):(0,t.createElement)(r,S)}function SM(e){var n=gM(),r=Jy(),a=rb(),i=jE();return t.createElement(wM,vM({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:n,chartName:i}))}function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(t){_M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jM(e){return e.dataKey}var CM=[],EM={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sO,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function TM(e){var n=eO(e,EM),{active:r,allowEscapeViewBox:a,animationDuration:i,animationEasing:o,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:y,defaultIndex:b,portal:x,axisId:w}=n,S=Bv(),k="number"===typeof b?String(b):b;(0,t.useEffect)(()=>{S(lv({shared:v,trigger:y,axisId:w,active:r,defaultIndex:k}))},[S,v,y,w,r,k]);var N=Xy(),_=iA(),j=function(e){return qv(t=>xC(t,e))}(v),{activeIndex:C,isActive:E}=qv(e=>FE(e,j,y,k)),T=qv(e=>LE(e,j,y,k)),A=qv(e=>RE(e,j,y,k)),O=qv(e=>ME(e,j,y,k)),I=T,P=(0,t.useContext)(UA),D=null!==r&&void 0!==r?r:E,[M,R]=OP([I,D]),L="axis"===j?A:void 0;FA(j,y,O,L,C,D);var F=null!==x&&void 0!==x?x:P;if(null==F)return null;var U=null!==I&&void 0!==I?I:CM;D||(U=CM),l&&U.length&&(U=gP(I.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,jM));var z=U.length>0,B=t.createElement(fP,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:c,active:D,coordinate:O,hasPayload:z,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:N,wrapperStyle:m,lastBoundingBox:M,innerRef:R,hasPortalFromProps:Boolean(x)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(iP,n)}(s,NM(NM({},n),{},{payload:U,label:L,active:D,coordinate:O,accessibilityLayer:_})));return t.createElement(t.Fragment,null,(0,At.createPortal)(B,F),D&&t.createElement(SM,{cursor:g,tooltipEventType:j,coordinate:O,payload:I,index:C}))}Math.abs,Math.atan2;const AM=Math.cos,OM=(Math.max,Math.min,Math.sin),IM=Math.sqrt,PM=Math.PI,DM=2*PM;const MM={draw(e,t){const n=IM(t/PM);e.moveTo(n,0),e.arc(0,0,n,0,DM)}},RM={draw(e,t){const n=IM(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},LM=IM(1/3),FM=2*LM,UM={draw(e,t){const n=IM(t/FM),r=n*LM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},zM={draw(e,t){const n=IM(t),r=-n/2;e.rect(r,r,n,n)}},BM=OM(PM/10)/OM(7*PM/10),WM=OM(DM/10)*BM,HM=-AM(DM/10)*BM,VM={draw(e,t){const n=IM(.8908130915292852*t),r=WM*n,a=HM*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=DM*i/5,o=AM(t),s=OM(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},qM=IM(3),KM={draw(e,t){const n=-IM(t/(3*qM));e.moveTo(0,2*n),e.lineTo(-qM*n,-n),e.lineTo(qM*n,-n),e.closePath()}},YM=-.5,GM=IM(3)/2,$M=1/IM(12),XM=3*($M/2+1),QM={draw(e,t){const n=IM(t/XM),r=n/2,a=n*$M,i=r,o=n*$M+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(YM*r-GM*a,GM*r+YM*a),e.lineTo(YM*i-GM*o,GM*i+YM*o),e.lineTo(YM*s-GM*l,GM*s+YM*l),e.lineTo(YM*r+GM*a,YM*a-GM*r),e.lineTo(YM*i+GM*o,YM*o-GM*i),e.lineTo(YM*s+GM*l,YM*l-GM*s),e.closePath()}};IM(3),IM(3);var JM=["type","size","sizeType"];function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZM.apply(null,arguments)}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(t){nR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rR={symbolCircle:MM,symbolCross:RM,symbolDiamond:UM,symbolSquare:zM,symbolStar:VM,symbolTriangle:KM,symbolWye:QM},aR=Math.PI/180,iR=e=>{var{type:n="circle",size:r=64,sizeType:a="area"}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,JM),o=tR(tR({},i),{},{type:n,size:r,sizeType:a}),{className:s,cx:l,cy:c}=o,u=SA(o,!0);return l===+l&&c===+c&&r===+r?t.createElement("path",ZM({},u,{className:Of("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat($f(e));return rR[t]||MM})(n),t=function(e,t){let n=null,r=aD(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:Jv(e||MM),t="function"===typeof t?t:Jv(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Jv(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Jv(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*aR;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,n));return t()})()})):null};function oR(){return oR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oR.apply(null,arguments)}function sR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}iR.registerSymbol=(e,t)=>{rR["symbol".concat($f(e))]=t};var cR=32;class uR extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,a=16,i=cR/6,o=cR/3,s=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:cR,y2:a,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,"\n            H").concat(cR,"M").concat(2*o,",").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(cR,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sR(Object(n),!0).forEach(function(t){lR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(iR,{fill:s,cx:a,cy:a,size:cR,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=this.props,s={x:0,y:0,width:cR,height:cR},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||a,d=Of({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?i:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",oR({className:d,style:l,key:"legend-item-".concat(r)},hA(this.props,e,r)),t.createElement(_A,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}lR(uR,"displayName","Legend"),lR(uR,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var dR=["contextPayload"];function hR(){return hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hR.apply(null,arguments)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(t){mR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gR(e){return e.value}function vR(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,dR),a=gP(n,e.payloadUniqBy,gR),i=pR(pR({},r),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,i):"function"===typeof e.content?t.createElement(e.content,i):t.createElement(uR,i)}function yR(e){var n=Bv();return(0,t.useEffect)(()=>{n(_T(e))},[n,e]),null}function bR(e){var n=Bv();return(0,t.useEffect)(()=>(n(NT(e)),()=>{n(NT({width:0,height:0}))}),[n,e]),null}function xR(e){var n=qv($v),r=(0,t.useContext)(zA),a=(()=>{var e;return null!==(e=qv(e=>e.layout.margin))&&void 0!==e?e:tb})(),{width:i,height:o,wrapperStyle:s,portal:l}=e,[c,u]=OP([n]),d=Zy(),h=eb(),f=d-(a.left||0)-(a.right||0),p=wR.getWidthOrHeight(e.layout,o,i,f),m=l?s:pR(pR({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||i||"auto",height:(null===p||void 0===p?void 0:p.height)||o||"auto"},function(e,t,n,r,a,i){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((r||0)-i.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),pR(pR({},o),s)}(s,e,a,d,h,c)),s),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var v=t.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},t.createElement(yR,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(bR,{width:c.width,height:c.height}),t.createElement(vR,hR({},e,p,{margin:a,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,At.createPortal)(v,g)}class wR extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Uf(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(xR,this.props)}}function SR(){return SR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SR.apply(null,arguments)}mR(wR,"displayName","Legend"),mR(wR,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var kR=e=>{var{cx:n,cy:r,r:a,className:i}=e,o=Of("recharts-dot",i);return n===+n&&r===+r&&a===+a?t.createElement("circle",SR({},mA(e),dA(e),{className:o,cx:n,cy:r,r:a})):null},NR=n(6667),_R=n.n(NR),jR=["valueAccessor"],CR=["data","dataKey","clockWise","id","textBreakAll"];function ER(){return ER=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ER.apply(null,arguments)}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(t){OR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var PR=e=>Array.isArray(e.value)?_R()(e.value):e.value;function DR(e){var{valueAccessor:n=PR}=e,r=IR(e,jR),{data:a,dataKey:i,clockWise:o,id:s,textBreakAll:l}=r,c=IR(r,CR);return a&&a.length?t.createElement(AO,{className:"recharts-label-list"},a.map((e,r)=>{var a=Gf(i)?n(e,r):gy(e&&e.payload,i),u=Gf(s)?{}:{id:"".concat(s,"-").concat(r)};return t.createElement(lI,ER({},SA(e,!0),c,u,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:lI.parseViewBox(Gf(o)?e:AR(AR({},e),{},{clockWise:o})),key:"label-".concat(r),index:r}))})):null}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(t){LR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}DR.displayName="LabelList",DR.renderCallByParent=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var{children:a}=e,i=xA(a,DR).map((e,r)=>(0,t.cloneElement)(e,{data:n,key:"labelList-".concat(r)}));return r?[function(e,n){return e?!0===e?t.createElement(DR,{key:"labelList-implicit",data:n}):t.isValidElement(e)||oI(e)?t.createElement(DR,{key:"labelList-implicit",data:n,content:e}):"object"===typeof e?t.createElement(DR,ER({data:n},e,{key:"labelList-implicit"})):null:null}(e.label,n),...i]:i};function FR(e){var{points:n,mainColor:r,activeDot:a,itemDataKey:i}=e,o=qv(vE),s=qv(_E);if(null==n||null==s)return null;var l=n.find(e=>s.includes(e.payload));return Gf(l)?null:(e=>{var{point:n,childIndex:r,mainColor:a,activeDot:i,dataKey:o}=e;if(!1===i||null==n.x||null==n.y)return null;var s,l=RR(RR({index:r,dataKey:o,cx:n.x,cy:n.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},SA(i,!1)),dA(i));return s=(0,t.isValidElement)(i)?(0,t.cloneElement)(i,l):"function"===typeof i?i(l):t.createElement(kR,l),t.createElement(AO,{className:"recharts-active-dot"},s)})({point:l,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:a})}function UR(e){var{fn:n,args:r}=e,a=Bv(),i=Yy();return(0,t.useEffect)(()=>{if(!i){var e=n(r);return a(ov(e)),()=>{a(sv(e))}}},[n,r,a,i]),null}var zR=["children"];var BR={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WR=(0,t.createContext)(BR);function HR(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,zR);return t.createElement(WR.Provider,{value:r},n)}function VR(e,t){var n,r,a=qv(t=>A_(t,e)),i=qv(e=>I_(e,t)),o=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:T_.allowDataOverflow,s=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:O_.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function qR(e){var{xAxisId:n,yAxisId:r,clipPathId:a}=e,i=YA(),{needClipX:o,needClipY:s,needClip:l}=VR(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=i;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:o?c:c-d/2,y:s?u:u-h/2,width:o?d:2*d,height:s?h:2*h}))}var KR=(e,t,n,r)=>pC(e,"xAxis",t,r),YR=(e,t,n,r)=>fC(e,"xAxis",t,r),GR=(e,t,n,r)=>pC(e,"yAxis",n,r),$R=(e,t,n,r)=>fC(e,"yAxis",n,r),XR=Rv([nb,KR,GR,YR,$R],(e,t,n,r,a)=>vy(e,"xAxis")?Ty(t,r,!1):Ty(n,a,!1));function QR(e){return"line"===e.type}var JR,ZR=Rv([U_,(e,t,n,r,a)=>a],(e,t)=>e.filter(QR).find(e=>e.id===t)),eL=Rv([nb,KR,GR,YR,$R,ZR,XR,gN],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=i&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=o){var d,{dataKey:h,data:f}=i;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=gy(e,o);if("horizontal"===t)return{x:Ny({axis:n,ticks:a,bandSize:s,entry:e,index:l}),y:Gf(c)?null:r.scale(c),value:c,payload:e};var u=Gf(c)?null:n.scale(c),d=Ny({axis:r,ticks:i,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:d})}}),tL=()=>{};function nL(e){var{legendPayload:n}=e,r=Bv(),a=Yy();return(0,t.useEffect)(()=>a?tL:(r(jT(n)),()=>{r(CT(n))}),[r,a,n]),null}function rL(e){var{legendPayload:n}=e,r=Bv(),a=qv(nb);return(0,t.useEffect)(()=>"centric"!==a&&"radial"!==a?tL:(r(jT(n)),()=>{r(CT(n))}),[r,a,n]),null}function aL(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(Wf(n)),a=(0,t.useRef)(e);return a.current!==e&&(r.current=Wf(n),a.current=e),r.current}var iL=null!==(JR=r["useId".toString()])&&void 0!==JR?JR:()=>{var[e]=t.useState(()=>Wf("uid-"));return e};var oL=(0,t.createContext)(void 0),sL=e=>{var{id:n,type:r,children:a}=e,i=function(e,t){var n=iL();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(oL.Provider,{value:i},a(i))};function lL(e){var n=Bv(),r=(0,t.useRef)(null);return(0,t.useEffect)(()=>{null===r.current?n(iT(e)):r.current!==e&&n(oT({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useEffect)(()=>()=>{r.current&&(n(sT(r.current)),r.current=null)},[n]),null}function cL(e){var n=Bv();return(0,t.useEffect)(()=>(n(lT(e)),()=>{n(cT(e))}),[n,e]),null}function uL(){}var dL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hL={t:0},fL={t:1};function pL(e){var n=eO(e,dL),{isActive:r,canBegin:a,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=GD("JavascriptAnimate",n.animationManager),[h,f]=(0,t.useState)(r?hL:fL),p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(fL)},[r]),(0,t.useEffect)(()=>{if(!r||!a)return uL;var e=VD(hL,fL,ID(o),i,f,d.getTimeoutController());return d.start([c,s,()=>{p.current=e()},i,l]),()=>{d.stop(),p.current&&p.current(),l()}},[r,a,i,o,s,c,l,d]),u(h.t)}var mL=["id"],gL=["type","layout","connectNulls","needClip"],vL=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(t){xL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wL(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SL(){return SL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SL.apply(null,arguments)}var kL=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Oy(n,t),payload:e}]};function NL(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Oy(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var _L=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function jL(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}function CL(e){var{clipPathId:n,points:r,props:a}=e,{dot:i,dataKey:o,needClip:s}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,i))return null;var{id:l}=a,c=wL(a,mL),u=wA(i),d=mA(c),h=SA(i,!0),f=r.map((e,n)=>{var a=bL(bL(bL({key:"dot-".concat(n),r:3},d),h),{},{index:n,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:r});return function(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var a=Of("recharts-line-dot","boolean"!==typeof e?e.className:"");r=t.createElement(kR,SL({},n,{className:a}))}return r}(i,a)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(n,")"):void 0};return t.createElement(AO,SL({className:"recharts-line-dots",key:"dots"},p),f)}function EL(e){var{clipPathId:n,pathRef:r,points:a,strokeDasharray:i,props:o,showLabels:s}=e,{type:l,layout:c,connectNulls:u,needClip:d}=o,h=wL(o,gL),f=bL(bL({},SA(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(n,")"):void 0,points:a,type:l,layout:c,connectNulls:u,strokeDasharray:null!==i&&void 0!==i?i:o.strokeDasharray});return t.createElement(t.Fragment,null,(null===a||void 0===a?void 0:a.length)>1&&t.createElement(yD,SL({},f,{pathRef:r})),t.createElement(CL,{points:a,clipPathId:n,props:o}),s&&DR.renderCallByParent(o,a))}function TL(e){var{clipPathId:n,props:r,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:v}=r,y=i.current,b=aL(r,"recharts-line-"),[x,w]=(0,t.useState)(!1),S=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),k=(0,t.useCallback)(()=>{"function"===typeof v&&v(),w(!0)},[v]),N=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(a.current),_=o.current;return t.createElement(pL,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:S,onAnimationStart:k,key:b},e=>{var c,u=Kf(_,N+_,e),d=Math.min(u,N);if(l){var h="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return _L(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var u=s.length%2===0?[0,o]:[o];return[...jL(n,a),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(d,N,h)}else c=_L(N,d);if(y){var g=y.length/s.length,v=1===e?s:s.map((t,n)=>{var r=Math.floor(n*g);if(y[r]){var a=y[r];return bL(bL({},t),{},{x:Kf(a.x,t.x,e),y:Kf(a.y,t.y,e)})}return bL(bL({},t),{},f?{x:Kf(2*p,t.x,e),y:Kf(m/2,t.y,e)}:{x:t.x,y:t.y})});return i.current=v,t.createElement(EL,{props:r,points:v,clipPathId:n,pathRef:a,showLabels:!x,strokeDasharray:c})}return e>0&&N>0&&(i.current=s,o.current=d),t.createElement(EL,{props:r,points:s,clipPathId:n,pathRef:a,showLabels:!x,strokeDasharray:c})})}function AL(e){var{clipPathId:n,props:r}=e,{points:a,isAnimationActive:i}=r,o=(0,t.useRef)(null),s=(0,t.useRef)(0),l=(0,t.useRef)(null),c=o.current;return i&&a&&a.length&&c!==a?t.createElement(TL,{props:r,clipPathId:n,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:l}):t.createElement(EL,{props:r,points:a,clipPathId:n,pathRef:l,showLabels:!0})}var OL=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:gy(e.payload,t)});class IL extends t.Component{render(){var e,{hide:n,dot:r,points:a,className:i,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:f}=this.props;if(n)return null;var p=Of("recharts-line",i),m=h,{r:g=3,strokeWidth:v=2}=null!==(e=SA(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=wA(r),b=2*g+v;return t.createElement(t.Fragment,null,t.createElement(AO,{className:p},f&&t.createElement("defs",null,t.createElement(qR,{clipPathId:m,xAxisId:o,yAxisId:s}),!y&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),t.createElement(AL,{props:this.props,clipPathId:m}),t.createElement(HR,{xAxisId:o,yAxisId:s,data:a,dataPointFormatter:OL,errorBarOffset:0},this.props.children)),t.createElement(FR,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var PL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!sO,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function DL(e){var n=eO(e,PL),{activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=n,v=wL(n,vL),{needClip:y}=VR(p,m),b=YA(),x=rb(),w=Yy(),S=qv(e=>eL(e,p,m,w,g));if("horizontal"!==x&&"vertical"!==x||null==S||null==b)return null;var{height:k,width:N,x:_,y:j}=b;return t.createElement(IL,SL({},v,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:a,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:S,layout:x,height:k,width:N,left:_,top:j,needClip:y}))}function ML(e){var n=eO(e,PL),r=Yy();return t.createElement(sL,{id:n.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(nL,{legendPayload:kL(n)}),t.createElement(UR,{fn:NL,args:n}),t.createElement(lL,{type:"line",id:e,data:n.data,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,hide:n.hide,isPanorama:r}),t.createElement(DL,SL({},n,{id:e}))))}ML.displayName="Line";var RL=["axis","item"],LL=(0,t.forwardRef)((e,n)=>t.createElement(aO,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RL,tooltipPayloadSearcher:tg,categoricalChartProps:e,ref:n})),FL=e=>null;FL.displayName="Cell";var UL="Invariant failed";var zL=n(2540),BL=n.n(zL);function WL(){return WL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WL.apply(null,arguments)}var HL=(e,t,n,r,a)=>{var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},VL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qL=e=>{var n=eO(e,VL),r=(0,t.useRef)(),[a,i]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=n;if(o!==+o||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=Of("recharts-trapezoid",d);return m?t.createElement(tM,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:o,y:s},duration:f,animationEasing:h,isActive:m},e=>{var{upperWidth:i,lowerWidth:o,height:s,x:l,y:c}=e;return t.createElement(tM,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},t.createElement("path",WL({},SA(n,!0),{className:g,d:HL(l,c,i,o,s),ref:r})))}):t.createElement("g",null,t.createElement("path",WL({},SA(n,!0),{className:g,d:HL(o,s,l,c,u)})))},KL=["option","shapeType","propTransformer","activeClassName","isActive"];function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(t){$L(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XL(e,t){return GL(GL({},t),e)}function QL(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(iM,r);case"trapezoid":return t.createElement(qL,r);case"sector":return t.createElement(dM,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(iR,r);break;default:return null}}function JL(e){var n,{option:r,shapeType:a,propTransformer:i=XL,activeClassName:o="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,KL);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,GL(GL({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(BL()(r)&&"boolean"!==typeof r){var c=i(r,l);n=t.createElement(QL,{shapeType:a,elementProps:c})}else{var u=l;n=t.createElement(QL,{shapeType:a,elementProps:u})}return s?t.createElement(AO,{className:o},n):n}var ZL=["x","y"];function eF(){return eF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eF.apply(null,arguments)}function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(t){rF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aF(e,t){var{x:n,y:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ZL),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return nF(nF(nF(nF(nF({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function iF(e){return t.createElement(JL,eF({shapeType:"rectangle",propTransformer:aF,activeClassName:"recharts-active-bar"},e))}var oF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Uf(e))return e;var a=Uf(n)||Gf(n);return a?e(n,r):(a||function(e){if(!e)throw new Error(UL)}(!1),t)}},sF=(e,t)=>{var n=Bv();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(cv({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},lF=e=>{var t=Bv();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),t(uv())}},cF=(e,t)=>{var n=Bv();return(r,a)=>i=>{null===e||void 0===e||e(r,a,i),n(hv({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function uF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uF(Object(n),!0).forEach(function(t){hF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fF=Rv([U_,(e,t,n,r,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),pF=Rv([fF],e=>null===e||void 0===e?void 0:e.maxBarSize),mF=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!Gf(r))return Hf(r,t,0)},gF=Rv([nb,U_,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),vF=Rv([gF,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===nb(e)?oC(e,"xAxis",t):oC(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(N_),a=e.filter(e=>null==e.stackId),i=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),o=Object.entries(i).map(e=>{var[r,a]=e;return{stackId:r,dataKeys:a.map(e=>e.dataKey),barSize:mF(t,n,a[0].barSize)}});return[...o,...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:mF(t,n,e.barSize)}))]}),yF=(e,t,n,r)=>{var a,i;return"horizontal"===nb(e)?(a=pC(e,"xAxis",t,r),i=fC(e,"xAxis",t,r)):(a=pC(e,"yAxis",n,r),i=fC(e,"yAxis",n,r)),Ty(a,i)};var bF=Rv([vF,BN,e=>e.rootProps.barGap,WN,(e,t,n,r,a)=>{var i,o,s=fF(e,t,n,r,a);if(null!=s){var l,c,u=nb(e),d=BN(e),{maxBarSize:h}=s,f=Gf(h)?d:h;return"horizontal"===u?(l=pC(e,"xAxis",t,r),c=fC(e,"xAxis",t,r)):(l=pC(e,"yAxis",n,r),c=fC(e,"yAxis",n,r)),null!==(i=null!==(o=Ty(l,c,!0))&&void 0!==o?o:f)&&void 0!==i?i:0}},yF,pF],(e,t,n,r,a,i,o)=>{var s=Gf(o)?t:o,l=function(e,t,n,r,a){var i=r.length;if(!(i<1)){var o,s=Hf(e,n,0,!0),l=[];if(vN(r[0].barSize)){var c=!1,u=n/i,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(i-1)*s)>=n&&(d-=(i-1)*s,s=0),d>=n&&u>0&&(c=!0,d=i*(u*=.9));var h={offset:((n-d)/2|0)-s,size:0};o=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=Hf(t,n,0,!0);n-2*f-(i-1)*s<=0&&(s=0);var p=(n-2*f-(i-1)*s)/i;p>1&&(p>>=0);var m=vN(a)?Math.min(p,a):p;o=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*n+(p-m)/2,size:m}}],l)}return o}}(n,r,a!==i?a:i,e,s);return a!==i&&null!=l&&(l=l.map(e=>dF(dF({},e),{},{position:dF(dF({},e.position),{},{offset:e.position.offset-a/2})}))),l}),xF=Rv([bF,fF],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),wF=Rv([(e,t,n,r)=>"horizontal"===nb(e)?rj(e,"yAxis",n,r):rj(e,"xAxis",t,r),fF],(e,t)=>{var n=b_(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var a=e[r];if(a){var{stackedData:i}=a;if(i)return i.find(e=>e.key===n)}}}}),SF=Rv([Hy,(e,t,n,r)=>pC(e,"xAxis",t,r),(e,t,n,r)=>pC(e,"yAxis",n,r),(e,t,n,r)=>fC(e,"xAxis",t,r),(e,t,n,r)=>fC(e,"yAxis",n,r),xF,nb,gN,yF,wF,fF,(e,t,n,r,a,i)=>i],(e,t,n,r,a,i,o,s,l,c,u,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=s;if(null!=u&&null!=i&&("horizontal"===o||"vertical"===o)&&null!=t&&null!=n&&null!=r&&null!=a&&null!=l){var m,{data:g}=u;if(null!=(m=null!=g&&g.length>0?g:null===h||void 0===h?void 0:h.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f}=e,p="horizontal"===t?s:o,m=u?p.scale.domain():null,g=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]})({numericAxis:p});return d.map((e,d)=>{var p,v,y,b,x,w;u?p=((e,t)=>{if(!t||2!==t.length||!Uf(t[0])||!Uf(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Uf(e[0])||e[0]<n)&&(a[0]=n),(!Uf(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a})(u[d],m):(p=gy(e,n),Array.isArray(p)||(p=[g,p]));var S=oF(r,FF)(p[1],d);if("horizontal"===t){var k,[N,_]=[s.scale(p[0]),s.scale(p[1])];v=_y({axis:o,ticks:l,bandSize:i,offset:a.offset,entry:e,index:d}),y=null!==(k=null!==_&&void 0!==_?_:N)&&void 0!==k?k:void 0,b=a.size;var j=N-_;if(x=Lf(j)?0:j,w={x:v,y:h.top,width:b,height:h.height},Math.abs(S)>0&&Math.abs(x)<Math.abs(S)){var C=Rf(x||S)*(Math.abs(S)-Math.abs(x));y-=C,x+=C}}else{var[E,T]=[o.scale(p[0]),o.scale(p[1])];if(v=E,y=_y({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:e,index:d}),b=T-E,x=a.size,w={x:h.left,y:y,width:h.width,height:x},Math.abs(S)>0&&Math.abs(b)<Math.abs(S))b+=Rf(b||S)*(Math.abs(S)-Math.abs(b))}return null==v||null==y||null==b||null==x?null:TF(TF({},e),{},{x:v,y:y,width:b,height:x,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:v+b/2,y:y+x/2}},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:o,barSettings:u,pos:i,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:d})}}),kF=["onMouseEnter","onMouseLeave","onClick"],NF=["value","background","tooltipPosition"],_F=["id"],jF=["onMouseEnter","onClick","onMouseLeave"];function CF(){return CF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CF.apply(null,arguments)}function EF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EF(Object(n),!0).forEach(function(t){AF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OF(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var IF=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Oy(n,t),payload:e}]};function PF(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Oy(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function DF(e){var n=qv(vE),{data:r,dataKey:a,background:i,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=o,u=OF(o,kF),d=sF(s,a),h=lF(l),f=cF(c,a);if(!i||null==r)return null;var p=SA(i,!1);return t.createElement(t.Fragment,null,r.map((e,r)=>{var{value:o,background:s,tooltipPosition:l}=e,c=OF(e,NF);if(!s)return null;var m=d(e,r),g=h(e,r),v=f(e,r),y=TF(TF(TF(TF(TF({option:i,isActive:String(r)===n},c),{},{fill:"#eee"},s),p),hA(u,e,r)),{},{onMouseEnter:m,onMouseLeave:g,onClick:v,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(iF,CF({key:"background-bar-".concat(r)},y))}))}function MF(e){var{data:n,props:r,showLabels:a}=e,i=mA(r),{id:o}=i,s=OF(i,_F),{shape:l,dataKey:c,activeBar:u}=r,d=qv(vE),h=qv(bE),{onMouseEnter:f,onClick:p,onMouseLeave:m}=r,g=OF(r,jF),v=sF(f,c),y=lF(m),b=cF(p,c);return n?t.createElement(t.Fragment,null,n.map((e,n)=>{var r=u&&String(n)===d&&(null==h||c===h),a=r?u:l,i=TF(TF(TF({},s),e),{},{isActive:r,option:a,index:n,dataKey:c});return t.createElement(AO,CF({className:"recharts-bar-rectangle"},hA(g,e,n),{onMouseEnter:v(e,n),onMouseLeave:y(e,n),onClick:b(e,n),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),t.createElement(iF,i))}),a&&DR.renderCallByParent(r,n)):null}function RF(e){var{props:n,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,f=aL(n,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),v=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(pL,{begin:s,duration:l,isActive:o,easing:c,onAnimationEnd:g,onAnimationStart:v,key:f},e=>{var o=1===e?a:null===a||void 0===a?void 0:a.map((t,n)=>{var r=h&&h[n];if(r)return TF(TF({},t),{},{x:Kf(r.x,t.x,e),y:Kf(r.y,t.y,e),width:Kf(r.width,t.width,e),height:Kf(r.height,t.height,e)});if("horizontal"===i){var a=Kf(0,t.height,e);return TF(TF({},t),{},{y:t.y+t.height-a,height:a})}var o=Kf(0,t.width,e);return TF(TF({},t),{},{width:o})});return e>0&&(r.current=null!==o&&void 0!==o?o:null),null==o?null:t.createElement(AO,null,t.createElement(MF,{props:n,data:o,showLabels:!p}))})}function LF(e){var{data:n,isAnimationActive:r}=e,a=(0,t.useRef)(null);return r&&n&&n.length&&(null==a.current||a.current!==n)?t.createElement(RF,{previousRectanglesRef:a,props:e}):t.createElement(MF,{props:e,data:n,showLabels:!0})}var FF=0,UF=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:gy(e,t)}};class zF extends t.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e)return null;var u=Of("recharts-bar",a),d=c;return t.createElement(AO,{className:u,id:c},s&&t.createElement("defs",null,t.createElement(qR,{clipPathId:d,xAxisId:i,yAxisId:o})),t.createElement(AO,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},t.createElement(DF,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),t.createElement(LF,this.props)),this.props.children)}}var BF={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!sO,legendType:"rect",minPointSize:FF,xAxisId:0,yAxisId:0};function WF(e){var n,{xAxisId:r,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=VR(r,a),p=rb(),m=Yy(),g=xA(e.children,FL),v=qv(t=>SF(t,r,a,m,e.id,g));if("vertical"!==p&&"horizontal"!==p)return null;var y=null===v||void 0===v?void 0:v[0];return n=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,t.createElement(HR,{xAxisId:r,yAxisId:a,data:v,dataPointFormatter:UF,errorBarOffset:n},t.createElement(zF,CF({},e,{layout:p,needClip:f,data:v,xAxisId:r,yAxisId:a,hide:i,legendType:o,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function HF(e){var n=eO(e,BF),r=Yy();return t.createElement(sL,{id:n.id,type:"bar"},e=>t.createElement(t.Fragment,null,t.createElement(nL,{legendPayload:IF(n)}),t.createElement(UR,{fn:PF,args:n}),t.createElement(lL,{type:"bar",id:e,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:ky(n.stackId),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:r}),t.createElement(WF,CF({},n,{id:e}))))}function VF(e){var n=Bv();return(0,t.useEffect)(()=>{n(zT(e))},[n,e]),null}HF.displayName="Bar";var qF=["width","height","layout"];function KF(){return KF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KF.apply(null,arguments)}var YF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},GF=(0,t.forwardRef)(function(e,n){var r,a=eO(e.categoricalChartProps,YF),{width:i,height:o,layout:s}=a,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,qF);if(!yN(i)||!yN(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return t.createElement(tA,{preloadedState:{options:f},reduxStoreName:null!==(r=a.id)&&void 0!==r?r:c},t.createElement(nA,{chartData:a.data}),t.createElement(rA,{width:i,height:o,layout:s,margin:a.margin}),t.createElement(aA,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(VF,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(QA,KF({width:i,height:o},l,{ref:n})))}),$F=["item"],XF={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},QF=(0,t.forwardRef)((e,n)=>{var r=eO(e,XF);return t.createElement(GF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:$F,tooltipPayloadSearcher:tg,categoricalChartProps:r,ref:n})}),JF=e=>e.graphicalItems.polarItems,ZF=Rv([v_,y_],F_),eU=Rv([JF,M_,ZF],B_),tU=Rv([eU],K_),nU=Rv([tU,mN],G_),rU=Rv([nU,M_,eU],X_),aU=Rv([nU,M_,eU],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:gy(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:gy(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),iU=()=>{},oU=Rv([M_,Ej,iU,aU,iU,nb,v_],Tj),sU=Rv([M_,nb,nU,rU,HN,v_,oU],Ij),lU=Rv([sU,M_,Mj],Lj);Rv([M_,sU,lU,v_],Uj);function cU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cU(Object(n),!0).forEach(function(t){dU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hU=Rv([JF,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),fU=[],pU=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?fU:n,mU=Rv([mN,hU,pU],(e,t,n)=>{var r,{chartData:a}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&r.length||null==n||(r=n.map(e=>uU(uU({},t.presentationProps),e.props))),null!=r))return r}),gU=Rv([mU,hU,pU],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var a,i,o=gy(e,t.nameKey,t.name);return i=null!==n&&void 0!==n&&null!==(a=n[r])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Oy(o,t.dataKey),color:i,payload:e,type:t.legendType}})}),vU=Rv([mU,hU,pU,Hy],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:a,displayedData:i,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,p=Math.abs(a.minAngle),m=TU(c,u),g=Math.abs(m),v=i.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,y=i.filter(e=>0!==gy(e,d,0)).length,b=g-y*p-(g>=360?y:y-1)*v,x=i.reduce((e,t)=>{var n=gy(t,d,0);return e+(Uf(n)?n:0)},0);x>0&&(n=i.map((e,t)=>{var n,i=gy(e,d,0),u=gy(e,h,t),g=EU(a,s,e),y=(Uf(i)?i:0)/x,w=kU(kU({},e),o&&o[t]&&o[t].props),S=(n=t?r.endAngle+Rf(m)*v*(0!==i?1:0):c)+Rf(m)*((0!==i?p:0)+y*b),k=(n+S)/2,N=(g.innerRadius+g.outerRadius)/2,_=[{name:u,value:i,payload:w,dataKey:d,type:f}],j=sy(g.cx,g.cy,N,k);return r=kU(kU(kU(kU({},a.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:_,midAngle:k,middleRadius:N,tooltipPosition:j},w),g),{},{value:gy(e,d),startAngle:n,endAngle:S,payload:w,paddingAngle:Rf(m)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),yU=["onMouseEnter","onClick","onMouseLeave"],bU=["id"],xU=["id"];function wU(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SU(Object(n),!0).forEach(function(t){NU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _U(){return _U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_U.apply(null,arguments)}function jU(e){var n=(0,t.useMemo)(()=>xA(e.children,FL),[e.children]),r=qv(t=>gU(t,e.id,n));return null==r?null:t.createElement(rL,{legendPayload:r})}function CU(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===r||void 0===r?void 0:r.map(e=>e.tooltipPayload),positions:null===r||void 0===r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:Oy(s,t),hide:l,type:c,color:o,unit:""}}}var EU=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=ly(i,o),l=a+Hf(e.cx,i,i/2),c=r+Hf(e.cy,o,o/2),u=Hf(e.innerRadius,s,0),d=((e,t,n)=>"function"===typeof t?t(e):Hf(t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(i*i+o*o)/2}},TU=(e,t)=>Rf(t-e)*Math.min(Math.abs(t-e),360);function AU(e){var{sectors:n,props:r,showLabels:a}=e,{label:i,labelLine:o,dataKey:s}=r;if(!a||!i||!n)return null;var l=mA(r),c=SA(i,!1),u=SA(o,!1),d="object"===typeof i&&"offsetRadius"in i&&i.offsetRadius||20,h=n.map((e,n)=>{var r,a,h=(e.startAngle+e.endAngle)/2,f=sy(e.cx,e.cy,e.outerRadius+d,h),p=kU(kU(kU(kU({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:(r=f.x,a=e.cx,r>a?"start":r<a?"end":"middle")},f),m=kU(kU(kU(kU({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[sy(e.cx,e.cy,e.outerRadius,h),f],key:"line"});return t.createElement(AO,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},o&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=Of("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(yD,_U({},n,{type:"linear",className:r}))})(o,m),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var a=r;if("function"===typeof e&&(a=e(n),t.isValidElement(a)))return a;var i=Of("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return t.createElement(JO,_U({},n,{alignmentBaseline:"middle",className:i}),a)})(i,p,gy(e,s)))});return t.createElement(AO,{className:"recharts-pie-labels"},h)}function OU(e){var{sectors:n,activeShape:r,inactiveShape:a,allOtherPieProps:i,showLabels:o}=e,s=qv(vE),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=wU(i,yU),h=sF(l,i.dataKey),f=lF(u),p=cF(c,i.dataKey);return null==n?null:t.createElement(t.Fragment,null,n.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(o)===s,c=l?r:s?a:null,u=kU(kU({},e),{},{stroke:e.stroke,tabIndex:-1,[Fy]:o,[Uy]:i.dataKey});return t.createElement(AO,_U({tabIndex:-1,className:"recharts-pie-sector"},hA(d,e,o),{onMouseEnter:h(e,o),onMouseLeave:f(e,o),onClick:p(e,o),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),t.createElement(JL,_U({option:c,isActive:l,shapeType:"sector"},u)))}),t.createElement(AU,{sectors:n,props:i,showLabels:o}))}function IU(e){var{props:n,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=aL(n,"recharts-pie-"),p=r.current,[m,g]=(0,t.useState)(!0),v=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(pL,{begin:o,duration:s,isActive:i,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var i=[],o=(a&&a[0]).startAngle;return a.forEach((t,n)=>{var r=p&&p[n],a=n>0?Mf()(t,"paddingAngle",0):0;if(r){var s=qf(r.endAngle-r.startAngle,t.endAngle-t.startAngle),l=kU(kU({},t),{},{startAngle:o+a,endAngle:o+s(e)+a});i.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=qf(0,c-u)(e),h=kU(kU({},t),{},{startAngle:o+a,endAngle:o+d+a});i.push(h),o=h.endAngle}}),r.current=i,t.createElement(AO,null,t.createElement(OU,{sectors:i,activeShape:c,inactiveShape:u,allOtherPieProps:n,showLabels:!m}))})}function PU(e){var{sectors:n,isAnimationActive:r,activeShape:a,inactiveShape:i}=e,o=(0,t.useRef)(null),s=o.current;return r&&n&&n.length&&(!s||s!==n)?t.createElement(IU,{props:e,previousSectorsRef:o}):t.createElement(OU,{sectors:n,activeShape:a,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function DU(e){var{hide:n,className:r,rootTabIndex:a}=e,i=Of("recharts-pie",r);return n?null:t.createElement(AO,{tabIndex:a,className:i},t.createElement(PU,e))}var MU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!sO,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function RU(e){var{id:n}=e,r=wU(e,bU),a=(0,t.useMemo)(()=>xA(e.children,FL),[e.children]),i=qv(e=>vU(e,n,a));return t.createElement(t.Fragment,null,t.createElement(UR,{fn:CU,args:kU(kU({},e),{},{sectors:i})}),t.createElement(DU,_U({},r,{sectors:i})))}function LU(e){var n=eO(e,MU),{id:r}=n,a=wU(n,xU),i=mA(a);return t.createElement(sL,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(cL,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:i}),t.createElement(jU,_U({},a,{id:e})),t.createElement(RU,_U({},a,{id:e})),a.children))}LU.displayName="Pie";var FU=["axis"],UU=(0,t.forwardRef)((e,n)=>t.createElement(aO,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FU,tooltipPayloadSearcher:tg,categoricalChartProps:e,ref:n})),zU=(e,t,n,r)=>pC(e,"xAxis",t,r),BU=(e,t,n,r)=>fC(e,"xAxis",t,r),WU=(e,t,n,r)=>pC(e,"yAxis",n,r),HU=(e,t,n,r)=>fC(e,"yAxis",n,r),VU=Rv([nb,zU,WU,BU,HU],(e,t,n,r,a)=>vy(e,"xAxis")?Ty(t,r,!1):Ty(n,a,!1)),qU=Rv([U_,(e,t,n,r,a)=>a],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),KU=Rv([nb,zU,WU,BU,HU,(e,t,n,r,a)=>{var i,o=qU(e,t,n,r,a);if(null!=o){var s,l=nb(e);if(null!=(s=vy(l,"xAxis")?rj(e,"yAxis",n,r):rj(e,"xAxis",t,r))){var{stackId:c}=o,u=b_(o);if(null!=c&&null!=u){var d=null===(i=s[c])||void 0===i?void 0:i.stackedData;return null===d||void 0===d?void 0:d.find(e=>e.key===u)}}}},gN,VU,qU],(e,t,n,r,a,i,o,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=s){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:a},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,m=i&&i.length,g=fz(o,s,r,l,c),v="horizontal"===o,y=!1,b=u.map((e,t)=>{var r;m?r=i[d+t]:(r=gy(e,a),Array.isArray(r)?y=!0:r=[g,r]);var o=null==r[1]||m&&!n&&null==gy(e,a);return v?{x:Ny({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:o?null:c.scale(r[1]),value:r,payload:e}:{x:o?null:l.scale(r[1]),y:Ny({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:r,payload:e}});t=m||y?b.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}}):v?c.scale(g):l.scale(g);return{points:b,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:i,displayedData:h,chartBaseValue:undefined,bandSize:s})}}}),YU=["id"],GU=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function $U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XU(Object(n),!0).forEach(function(t){JU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZU(){return ZU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZU.apply(null,arguments)}function ez(e,t){return e&&"none"!==e?e:t}var tz=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:ez(r,a),value:Oy(n,t),payload:e}]};function nz(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Oy(o,t),hide:s,type:e.tooltipType,color:ez(r,i),unit:l}}}function rz(e){var{clipPathId:n,points:r,props:a}=e,{needClip:i,dot:o,dataKey:s}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,o))return null;var l=wA(o),c=mA(a),u=SA(o,!0),d=r.map((e,n)=>{var a=QU(QU(QU({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,dataKey:s,value:e.value,payload:e.payload,points:r});return((e,n)=>{var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var a=Of("recharts-area-dot","boolean"!==typeof e?e.className:"");r=t.createElement(kR,ZU({},n,{className:a}))}return r})(o,a)}),h={clipPath:i?"url(#clipPath-".concat(l?"":"dots-").concat(n,")"):void 0};return t.createElement(AO,ZU({className:"recharts-area-dots"},h),d)}function az(e){var{points:n,baseLine:r,needClip:a,clipPathId:i,props:o,showLabels:s}=e,{layout:l,type:c,stroke:u,connectNulls:d,isRange:h}=o,{id:f}=o,p=$U(o,YU),m=mA(p);return t.createElement(t.Fragment,null,(null===n||void 0===n?void 0:n.length)>1&&t.createElement(AO,{clipPath:a?"url(#clipPath-".concat(i,")"):void 0},t.createElement(yD,ZU({},m,{id:f,points:n,connectNulls:d,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==u&&t.createElement(yD,ZU({},m,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),"none"!==u&&h&&t.createElement(yD,ZU({},m,{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r}))),t.createElement(rz,{points:n,props:p,clipPathId:i}),s&&DR.renderCallByParent(p,n))}function iz(e){var{alpha:n,baseLine:r,points:a,strokeWidth:i}=e,o=a[0].y,s=a[a.length-1].y;if(!vN(o)||!vN(s))return null;var l=n*Math.abs(o-s),c=Math.max(...a.map(e=>e.x||0));return Uf(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.x||0),c)),Uf(c)?t.createElement("rect",{x:0,y:o<s?o:o-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function oz(e){var{alpha:n,baseLine:r,points:a,strokeWidth:i}=e,o=a[0].x,s=a[a.length-1].x;if(!vN(o)||!vN(s))return null;var l=n*Math.abs(o-s),c=Math.max(...a.map(e=>e.y||0));return Uf(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.y||0),c)),Uf(c)?t.createElement("rect",{x:o<s?o:o-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function sz(e){var{alpha:n,layout:r,points:a,baseLine:i,strokeWidth:o}=e;return"vertical"===r?t.createElement(iz,{alpha:n,points:a,baseLine:i,strokeWidth:o}):t.createElement(oz,{alpha:n,points:a,baseLine:i,strokeWidth:o})}function lz(e){var{needClip:n,clipPathId:r,props:a,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=a,m=aL(a,"recharts-area-"),[g,v]=(0,t.useState)(!0),y=(0,t.useCallback)(()=>{"function"===typeof p&&p(),v(!1)},[p]),b=(0,t.useCallback)(()=>{"function"===typeof f&&f(),v(!0)},[f]),x=i.current,w=o.current;return t.createElement(pL,{begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:y,onAnimationStart:b,key:m},e=>{if(x){var c,u=x.length/s.length,d=1===e?s:s.map((t,n)=>{var r=Math.floor(n*u);if(x[r]){var a=x[r];return QU(QU({},t),{},{x:Kf(a.x,t.x,e),y:Kf(a.y,t.y,e)})}return t});return c=Uf(l)?Kf(w,l,e):Gf(l)||Lf(l)?Kf(w,0,e):l.map((t,n)=>{var r=Math.floor(n*u);if(Array.isArray(w)&&w[r]){var a=w[r];return QU(QU({},t),{},{x:Kf(a.x,t.x,e),y:Kf(a.y,t.y,e)})}return t}),e>0&&(i.current=d,o.current=c),t.createElement(az,{points:d,baseLine:c,needClip:n,clipPathId:r,props:a,showLabels:!g})}return e>0&&(i.current=s,o.current=l),t.createElement(AO,null,t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(r)},t.createElement(sz,{alpha:e,points:s,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),t.createElement(AO,{clipPath:"url(#animationClipPath-".concat(r,")")},t.createElement(az,{points:s,baseLine:l,needClip:n,clipPathId:r,props:a,showLabels:!0})))})}function cz(e){var{needClip:n,clipPathId:r,props:a}=e,{points:i,baseLine:o,isAnimationActive:s}=a,l=(0,t.useRef)(null),c=(0,t.useRef)(),u=l.current,d=c.current;return s&&i&&i.length&&(u!==i||d!==o)?t.createElement(lz,{needClip:n,clipPathId:r,props:a,previousPointsRef:l,previousBaselineRef:c}):t.createElement(az,{points:i,baseLine:o,needClip:n,clipPathId:r,props:a,showLabels:!0})}class uz extends t.PureComponent{render(){var e,{hide:n,dot:r,points:a,className:i,top:o,left:s,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p}=this.props;if(n)return null;var m=Of("recharts-area",i),g=f,{r:v=3,strokeWidth:y=2}=null!==(e=SA(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},b=wA(r),x=2*v+y;return t.createElement(t.Fragment,null,t.createElement(AO,{className:m},l&&t.createElement("defs",null,t.createElement(qR,{clipPathId:g,xAxisId:c,yAxisId:u}),!b&&t.createElement("clipPath",{id:"clipPath-dots-".concat(g)},t.createElement("rect",{x:s-x/2,y:o-x/2,width:d+x,height:h+x}))),t.createElement(cz,{needClip:l,clipPathId:g,props:this.props})),t.createElement(FR,{points:a,mainColor:ez(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&t.createElement(FR,{points:p,mainColor:ez(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var dz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!sO,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function hz(e){var n,r=eO(e,dz),{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:m,xAxisId:g,yAxisId:v}=r,y=$U(r,GU),b=rb(),x=jE(),{needClip:w}=VR(g,v),S=Yy(),{points:k,isRange:N,baseLine:_}=null!==(n=qv(t=>KU(t,g,v,S,e.id)))&&void 0!==n?n:{},j=YA();if("horizontal"!==b&&"vertical"!==b||null==j)return null;if("AreaChart"!==x&&"ComposedChart"!==x)return null;var{height:C,width:E,x:T,y:A}=j;return k&&k.length?t.createElement(uz,ZU({},y,{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:_,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:C,hide:h,layout:b,isAnimationActive:f,isRange:N,legendType:p,needClip:w,points:k,stroke:m,width:E,left:T,top:A,xAxisId:g,yAxisId:v})):null}var fz=(e,t,n,r,a)=>{var i=null!==n&&void 0!==n?n:t;if(Uf(i))return i;var o="horizontal"===e?a:r,s=o.scale.domain();if("number"===o.type){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return"dataMin"===i?c:"dataMax"===i||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===i?s[0]:"dataMax"===i?s[1]:s[0]};function pz(e){var n=eO(e,dz),r=Yy();return t.createElement(sL,{id:n.id,type:"area"},e=>t.createElement(t.Fragment,null,t.createElement(nL,{legendPayload:tz(n)}),t.createElement(UR,{fn:nz,args:n}),t.createElement(lL,{type:"area",id:e,data:n.data,dataKey:n.dataKey,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,stackId:ky(n.stackId),hide:n.hide,barSize:void 0,baseValue:n.baseValue,isPanorama:r,connectNulls:n.connectNulls}),t.createElement(hz,ZU({},n,{id:e}))))}pz.displayName="Area";const mz="#3B82F6",gz="#10B981",vz="#EF4444",yz=[mz,gz,"#F59E0B",vz,"#8B5CF6","#06B6D4"],bz=e=>{let{active:t,payload:n,label:r,formatter:a}=e;return t&&n&&n.length?(0,j.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,j.jsx)("p",{className:"font-medium text-gray-900",children:r}),n.map((e,t)=>(0,j.jsxs)("p",{style:{color:e.color},className:"text-sm",children:[e.name,": ",a?a(e.value):e.value]},t))]}):null},xz=e=>{let{data:t}=e;const n=e=>"$".concat(e.toFixed(2));return(0,j.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Storage Growth Over Time"}),(0,j.jsx)(ep,{width:"100%",height:300,children:(0,j.jsxs)(oO,{data:t,children:[(0,j.jsx)(RI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,j.jsx)(qI,{dataKey:"date",stroke:"#6B7280",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,j.jsx)(ZI,{yAxisId:"value",orientation:"left",stroke:"#6B7280",fontSize:12,tickFormatter:n}),(0,j.jsx)(ZI,{yAxisId:"count",orientation:"right",stroke:"#6B7280",fontSize:12}),(0,j.jsx)(TM,{content:(0,j.jsx)(bz,{formatter:n})}),(0,j.jsx)(wR,{}),(0,j.jsx)(ML,{yAxisId:"value",type:"monotone",dataKey:"totalValue",stroke:mz,strokeWidth:3,dot:{fill:mz,strokeWidth:2,r:4},name:"Total Value",activeDot:{r:6}}),(0,j.jsx)(ML,{yAxisId:"count",type:"monotone",dataKey:"totalItems",stroke:gz,strokeWidth:2,dot:{fill:gz,strokeWidth:2,r:3},name:"Total Items"})]})})]})},wz=e=>{let{data:t}=e;const n=t.slice(0,10);return(0,j.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Most Frequently Ordered Items"}),(0,j.jsx)(ep,{width:"100%",height:300,children:(0,j.jsxs)(LL,{data:n,layout:"horizontal",children:[(0,j.jsx)(RI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,j.jsx)(qI,{type:"number",stroke:"#6B7280",fontSize:12}),(0,j.jsx)(ZI,{type:"category",dataKey:"item",stroke:"#6B7280",fontSize:11,width:100,tickFormatter:e=>e.length>15?e.slice(0,15)+"...":e}),(0,j.jsx)(TM,{content:(0,j.jsx)(bz,{})}),(0,j.jsx)(HF,{dataKey:"frequency",fill:mz,radius:[0,4,4,0],name:"Order Frequency"})]})})]})},Sz=e=>{let{data:t}=e;return(0,j.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Waste by Category"}),(0,j.jsx)(ep,{width:"100%",height:300,children:(0,j.jsxs)(QF,{children:[(0,j.jsx)(LU,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percentage:n}=e;return"".concat(t,": ").concat(n.toFixed(1),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,t)=>(0,j.jsx)(FL,{fill:yz[t%yz.length]},"cell-".concat(t)))}),(0,j.jsx)(TM,{formatter:e=>["".concat(e," items"),"Waste Count"]})]})})]})},kz=e=>{let{data:t}=e;return(0,j.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Consumption Trends"}),(0,j.jsx)(ep,{width:"100%",height:300,children:(0,j.jsxs)(UU,{data:t,children:[(0,j.jsx)(RI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,j.jsx)(qI,{dataKey:"date",stroke:"#6B7280",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,j.jsx)(ZI,{stroke:"#6B7280",fontSize:12}),(0,j.jsx)(TM,{content:(0,j.jsx)(bz,{})}),(0,j.jsx)(wR,{}),(0,j.jsx)(pz,{type:"monotone",dataKey:"consumed",stackId:"1",stroke:vz,fill:vz,fillOpacity:.6,name:"Items Consumed"}),(0,j.jsx)(pz,{type:"monotone",dataKey:"remaining",stackId:"1",stroke:gz,fill:gz,fillOpacity:.6,name:"Items Remaining"})]})})]})},Nz=e=>{let{data:t}=e;const n=e=>"$".concat(e.toFixed(2));return(0,j.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inventory by Category"}),(0,j.jsx)(ep,{width:"100%",height:300,children:(0,j.jsxs)(LL,{data:t,children:[(0,j.jsx)(RI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,j.jsx)(qI,{dataKey:"category",stroke:"#6B7280",fontSize:11,tickFormatter:e=>e.length>10?e.slice(0,10)+"...":e}),(0,j.jsx)(ZI,{stroke:"#6B7280",fontSize:12,tickFormatter:n}),(0,j.jsx)(TM,{content:(0,j.jsx)(bz,{formatter:n})}),(0,j.jsx)(wR,{}),(0,j.jsx)(HF,{dataKey:"totalValue",fill:mz,name:"Total Value",radius:[4,4,0,0]})]})})]})},_z=e=>{let{data:t}=e;return(0,j.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stock Level Distribution"}),(0,j.jsx)(ep,{width:"100%",height:200,children:(0,j.jsxs)(LL,{data:t,children:[(0,j.jsx)(RI,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,j.jsx)(qI,{dataKey:"level",stroke:"#6B7280",fontSize:12}),(0,j.jsx)(ZI,{stroke:"#6B7280",fontSize:12}),(0,j.jsx)(TM,{content:(0,j.jsx)(bz,{})}),(0,j.jsx)(HF,{dataKey:"count",radius:[4,4,0,0],name:"Item Count",children:t.map((e,t)=>(0,j.jsx)(FL,{fill:e.color},"cell-".concat(t)))})]})})]})},jz=()=>{const{dailyItems:e,weeklyItems:n,monthlyItems:r,historicalSnapshots:a,getAnalyticsData:o,compareWithPreviousPeriod:s,createSnapshot:l,customCategories:c,stockCountSnapshots:u,dailyInventorySnapshots:d}=vt(),[h,f]=(0,t.useState)("30days"),[p,m]=(0,t.useState)(()=>(new Date).toISOString().split("T")[0]),[g,v]=(0,t.useState)("week"),[y,b]=(0,t.useState)(!0),[x,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(()=>(new Date).toISOString().split("T")[0]),[N,_]=(0,t.useState)(""),C=(0,t.useMemo)(()=>{if("custom"===h)return{startDate:p,endDate:p,period:"day"};const e=new Date,t=new Date;switch(h){case"7days":t.setDate(e.getDate()-7);break;case"30days":t.setDate(e.getDate()-30);break;case"90days":t.setDate(e.getDate()-90)}return{startDate:t.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0],period:"day"}},[h,p]),E=(0,t.useMemo)(()=>{const e=o(C);if(!e)return{storageGrowth:[],orderFrequency:[],wasteAnalysis:[],consumptionTrends:[],performanceMetrics:{stockTurnoverRate:0,wastePercentage:0,orderAccuracy:0,stockoutFrequency:0}};const t=e.consumptionTrends.reduce((e,t)=>{if(!t||"object"!==typeof t)return e;const n=t.date;return n?(e[n]||(e[n]={date:n,consumed:0,remaining:0}),e[n].consumed+=t.consumed||0,e[n].remaining+=t.remaining||0,e):e},{});return(0,i.A)((0,i.A)({},e),{},{consumptionTrends:Object.values(t).sort((e,t)=>e.date.localeCompare(t.date))})},[o,C]),T=(0,t.useMemo)(()=>{const e=(new Date).toISOString().split("T")[0];return s(e,g)},[s,g]),A=(0,t.useMemo)(()=>{const t=[...e,...n,...r];return{totalValue:t.reduce((e,t)=>e+t.currentStock*(t.cost||0),0),totalItems:t.length,stockLevels:{out:t.filter(e=>0===e.currentStock).length,critical:t.filter(e=>{const t=e.minLevel||0;return e.currentStock>0&&e.currentStock<=.5*t}).length,low:t.filter(e=>{const t=e.minLevel||0;return e.currentStock>.5*t&&e.currentStock<=t}).length,ok:t.filter(e=>{const t=e.minLevel||0;return e.currentStock>t}).length}}},[e,n,r]),O=(0,t.useMemo)(()=>{const e=new Set;d.forEach(t=>{e.add(t.date)}),u.forEach(t=>{e.add(t.date)});const t=(new Date).toISOString().split("T")[0];return e.add(t),Array.from(e).sort().reverse()},[u,d]),I=(0,t.useMemo)(()=>{const e=d.find(e=>e.date===S);if(e)return{type:"daily",data:e,items:Object.values(e.items)};const t=u.filter(e=>e.date===S);return 0===t.length?null:1===t.length?{type:"stock",data:t[0].snapshot,items:Object.values(t[0].snapshot.itemCounts).map(e=>({id:e.itemId||Math.random(),name:e.itemName,category:e.category,frequency:e.frequency,currentStock:e.currentStock,unit:e.unit,minimumLevel:e.minLevel,unitCost:e.unitCost,totalValue:e.totalValue,lastCountDate:e.lastCountDate,countedBy:e.countedBy,optimalLevel:e.optimalLevel}))}:null},[S,u,d]),P=(0,t.useMemo)(()=>{const t=(new Date).toISOString().split("T")[0];if(!I){if(S===t){return[...e,...n,...r].map(e=>({itemId:e.id,itemName:e.name,category:e.category,frequency:e.frequency,stockLevel:e.currentStock,unit:e.unit,unitCost:e.cost,totalValue:e.currentStock*e.cost,stockStatus:(0,bt.V0)(e.currentStock,e.minLevel),minLevel:e.minLevel,optimalLevel:2*e.minLevel,lastCountDate:(new Date).toISOString(),countedBy:"Live Data"}))}return[]}return"daily"===I.type?Object.entries(I.data.items).map(e=>{let[t,n]=e;return{itemId:t,itemName:n.name,category:n.category,frequency:n.frequency,stockLevel:n.currentStock,unit:n.unit,unitCost:n.unitCost,totalValue:n.totalValue,stockStatus:(0,bt.V0)(n.currentStock,n.minimumLevel),minLevel:n.minimumLevel,optimalLevel:n.optimalLevel||2*n.minimumLevel,lastCountDate:n.lastCountDate,countedBy:n.countedBy}}):Object.entries(I.data.itemCounts).map(e=>{let[t,n]=e;return{itemId:t,itemName:n.itemName,category:n.category,frequency:n.frequency,stockLevel:n.currentStock,unit:n.unit,unitCost:n.unitCost,totalValue:n.totalValue,stockStatus:(0,bt.V0)(n.currentStock,n.minLevel),minLevel:n.minLevel,optimalLevel:n.optimalLevel,lastCountDate:n.lastCountDate,countedBy:n.countedBy}})},[I,S,e,n,r]),D=(0,t.useMemo)(()=>{let e=P;if(N.trim()){const t=N.toLowerCase();e=e.filter(e=>e.itemName.toLowerCase().includes(t)||e.category.toLowerCase().includes(t))}return e},[P,N]),M=e=>e===(new Date).toISOString().split("T")[0]?"Today (".concat(new Date(e).toLocaleDateString(),")"):new Date(e).toLocaleDateString(),R=(0,t.useMemo)(()=>{if(!E||!E.wasteAnalysis)return{wasteData:{},totalWaste:0,storageGrowthData:[],categoryDistribution:[],stockLevels:{out:0,critical:0,low:0,ok:0},stockLevelData:[],categoryChartData:[],wasteChartData:[]};const t=[{level:"Out of Stock",count:A.stockLevels.out,color:"#EF4444"},{level:"Critical",count:A.stockLevels.critical,color:"#F59E0B"},{level:"Low Stock",count:A.stockLevels.low,color:"#10B981"},{level:"Well Stocked",count:A.stockLevels.ok,color:"#3B82F6"}],a={};[...e,...n,...r].forEach(e=>{const t=e.category||"uncategorized",n=Ye(t,c);a[n]||(a[n]={totalItems:0,totalValue:0}),a[n].totalItems+=1,a[n].totalValue+=e.currentStock*(e.cost||0)});const i=Object.entries(a).map(e=>{let[t,n]=e;return{category:t,totalItems:n.totalItems,totalValue:n.totalValue,avgItemValue:n.totalValue/n.totalItems}}),o=E.wasteAnalysis.reduce((e,t)=>(Object.entries(t.wasteByCategory).forEach(t=>{let[n,r]=t;const a=Ye(n,c);e[a]=(e[a]||0)+r}),e),{}),s=Object.values(o).reduce((e,t)=>e+t,0),l=Object.entries(o).map(e=>{let[t,n]=e;return{name:t,value:n,percentage:s>0?n/s*100:0}});return{stockLevelData:t,categoryChartData:i,wasteChartData:l}},[A,E,e,n,r,c]),L=e=>{let{title:t,value:n,change:r,changeLabel:a,icon:i,color:o}=e;const s=void 0===r||isNaN(r)?"No data":"".concat(r>=0?"+":"").concat(r.toFixed(1),"%");return(0,j.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,j.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n}),y&&void 0!==r&&(0,j.jsxs)("p",{className:"text-sm ".concat(r>=0?"text-green-600":"text-red-600"),children:[s," ",a]})]}),(0,j.jsx)("div",{className:"p-3 rounded-full ".concat(o),children:i})]})})},F=()=>{l(),alert("Snapshot created successfully!")},U=e=>{const t={date:(new Date).toISOString().split("T")[0],metrics:A,analytics:E,comparison:T};if("csv"===e){const e="Date,Total Value,Total Items,Out of Stock,Critical,Low Stock,Well Stocked\n"+"".concat(t.date,",").concat(A.totalValue.toFixed(2),",").concat(A.totalItems,",")+"".concat(A.stockLevels.out,",").concat(A.stockLevels.critical,",")+"".concat(A.stockLevels.low,",").concat(A.stockLevels.ok),n=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="inventory-analytics-".concat(t.date,".csv"),a.click(),window.URL.revokeObjectURL(r)}else{const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="inventory-analytics-".concat(t.date,".json"),r.click(),window.URL.revokeObjectURL(n)}};return(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,j.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,j.jsx)(Oe,{className:"w-6 h-6 mr-2 text-blue-600"}),"Advanced Analytics Dashboard"]}),(0,j.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive inventory analysis with real-time data and trend comparisons"})]}),(0,j.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,j.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"7days",children:"Last 7 Days"}),(0,j.jsx)("option",{value:"30days",children:"Last 30 Days"}),(0,j.jsx)("option",{value:"90days",children:"Last 90 Days"}),(0,j.jsx)("option",{value:"custom",children:"Specific Day"})]}),"custom"===h&&(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)(ue,{className:"w-4 h-4 text-gray-500"}),(0,j.jsx)("input",{type:"date",value:p,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",max:(new Date).toISOString().split("T")[0]})]}),(0,j.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"day",children:"vs Previous Day"}),(0,j.jsx)("option",{value:"week",children:"vs Previous Week"}),(0,j.jsx)("option",{value:"month",children:"vs Previous Month"})]}),(0,j.jsxs)("button",{onClick:()=>b(!y),className:"px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ".concat(y?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,j.jsx)(_f,{className:"w-4 h-4"}),y?"Hide":"Show"," Comparison"]}),(0,j.jsxs)("button",{onClick:()=>U("csv"),className:"px-3 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 flex items-center gap-1",children:[(0,j.jsx)(de,{className:"w-4 h-4"}),"CSV"]}),(0,j.jsxs)("button",{onClick:()=>U("json"),className:"px-3 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 flex items-center gap-1",children:[(0,j.jsx)(de,{className:"w-4 h-4"}),"JSON"]})]})]}),(0,j.jsx)("div",{className:"mb-4",children:(0,j.jsxs)("button",{onClick:()=>w(!x),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:[x?(0,j.jsx)(jf,{className:"w-4 h-4"}):(0,j.jsx)(Cf,{className:"w-4 h-4"}),x?"Hide":"Show"," Snapshot Module"]})}),x&&(0,j.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historical Snapshots"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,j.jsx)(ue,{className:"w-4 h-4 inline mr-1"}),"Select Date"]}),(0,j.jsx)("select",{value:S,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:O.map(e=>(0,j.jsx)("option",{value:e,children:M(e)},e))})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,j.jsx)(fe,{className:"w-4 h-4 inline mr-1"}),"Search Items"]}),(0,j.jsx)("input",{type:"text",placeholder:"Search by name or category...",value:N,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actions"}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)("button",{onClick:F,className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:"Create Snapshot"}),(0,j.jsxs)("span",{className:"text-sm text-gray-600 flex items-center px-2",children:[(0,j.jsx)(Q,{className:"w-4 h-4 mr-1"}),a.length," total"]})]})]})]}),I&&(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,j.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Total Items"}),(0,j.jsx)("p",{className:"text-lg font-semibold",children:D.length})]}),(0,j.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Total Value"}),(0,j.jsxs)("p",{className:"text-lg font-semibold",children:["$",D.reduce((e,t)=>e+t.totalValue,0).toFixed(2)]})]}),(0,j.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Out of Stock"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-red-600",children:D.filter(e=>"out"===e.stockStatus).length})]}),(0,j.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Critical Items"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-orange-600",children:D.filter(e=>"critical"===e.stockStatus).length})]})]}),(0,j.jsxs)("div",{className:"bg-white rounded-lg border overflow-hidden",children:[(0,j.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,j.jsxs)("h4",{className:"text-md font-semibold text-gray-900",children:["Items for ",M(S),I?(0,j.jsx)("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"daily"===I.type?"Snapshot Data":"Stock Count Data"}):(0,j.jsx)("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Live Data"})]})}),(0,j.jsx)("div",{className:"overflow-x-auto max-h-96",children:(0,j.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,j.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),(0,j.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,j.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),(0,j.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Level"}),(0,j.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,j.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"})]})}),(0,j.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(e=>(0,j.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,j.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.itemName}),(0,j.jsxs)("div",{className:"text-sm text-gray-500",children:["Min: ",e.minLevel," ",e.unit]})]})}),(0,j.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.category}),(0,j.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,j.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("daily"===e.frequency?"bg-blue-100 text-blue-800":"weekly"===e.frequency?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:e.frequency})}),(0,j.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:[e.stockLevel," ",e.unit]}),(0,j.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,j.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("out"===e.stockStatus?"bg-red-100 text-red-800":"critical"===e.stockStatus?"bg-orange-100 text-orange-800":"low"===e.stockStatus?"bg-yellow-100 text-yellow-800":"ok"===e.stockStatus?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"out"===e.stockStatus?"Out of Stock":"critical"===e.stockStatus?"Critical":"low"===e.stockStatus?"Low":"ok"===e.stockStatus?"Good":"Unknown"})}),(0,j.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:["$",e.totalValue.toFixed(2)]})]},e.itemId))})]})}),0===D.length&&(0,j.jsx)("div",{className:"px-4 py-8 text-center",children:I?(0,j.jsxs)("div",{children:[(0,j.jsx)(Q,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,j.jsx)("p",{className:"text-gray-500",children:"No items found matching your search criteria."})]}):(0,j.jsxs)("div",{children:[(0,j.jsx)(Le,{className:"w-12 h-12 text-orange-400 mx-auto mb-4"}),(0,j.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Snapshot Available"}),(0,j.jsxs)("p",{className:"text-gray-500 mb-4",children:["No inventory snapshot was created for ",M(S),"."]}),(0,j.jsx)("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Snapshot for This Date"})]})})]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,j.jsx)(L,{title:"Total Inventory Value",value:"$".concat(A.totalValue.toFixed(2)),change:null===T||void 0===T?void 0:T.percentageChanges.value,changeLabel:"from last period",icon:(0,j.jsx)(Ef,{className:"w-6 h-6 text-white"}),color:"bg-blue-500"}),(0,j.jsx)(L,{title:"Total Items",value:A.totalItems,change:null===T||void 0===T?void 0:T.percentageChanges.items,changeLabel:"from last period",icon:(0,j.jsx)(Q,{className:"w-6 h-6 text-white"}),color:"bg-green-500"}),(0,j.jsx)(L,{title:"Critical Items",value:A.stockLevels.critical,change:null===T||void 0===T?void 0:T.percentageChanges.critical,changeLabel:"from last period",icon:(0,j.jsx)(Le,{className:"w-6 h-6 text-white"}),color:"bg-red-500"}),(0,j.jsx)(L,{title:"Stock Turnover",value:"".concat(E.performanceMetrics.stockTurnoverRate.toFixed(2),"x"),change:void 0,changeLabel:"times per period",icon:(0,j.jsx)(Tf,{className:"w-6 h-6 text-white"}),color:"bg-purple-500"})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,j.jsx)(xz,{data:E.storageGrowth}),(0,j.jsx)(wz,{data:E.orderFrequency}),(0,j.jsx)(_z,{data:R.stockLevelData}),(0,j.jsx)(Nz,{data:R.categoryChartData})]}),(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsx)(kz,{data:E.consumptionTrends}),R.wasteChartData.length>0&&(0,j.jsx)(Sz,{data:R.wasteChartData})]}),(0,j.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,j.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[E.performanceMetrics.stockTurnoverRate.toFixed(2),"x"]}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Stock Turnover Rate"})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:[E.performanceMetrics.wastePercentage.toFixed(1),"%"]}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Waste Percentage"})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[E.performanceMetrics.orderAccuracy.toFixed(1),"%"]}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Order Accuracy"})]}),(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[E.performanceMetrics.stockoutFrequency.toFixed(1),"%"]}),(0,j.jsx)("p",{className:"text-sm text-gray-600",children:"Stockout Frequency"})]})]})]})]})},Cz=()=>{const{dailyItems:e,weeklyItems:t,monthlyItems:n,databaseItems:r}=vt(),a=[...e,...t,...n],i=a.filter(e=>"critical"===(0,bt.V0)(e.currentStock,e.minLevel)).length,o=a.filter(e=>"low"===(0,bt.V0)(e.currentStock,e.minLevel)).length,s=a.filter(e=>"ok"===(0,bt.V0)(e.currentStock,e.minLevel)).length,l=r.length;return(0,j.jsxs)("div",{className:"bg-white rounded-xl shadow-sm mb-6 p-4 md:p-6",children:[(0,j.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4",children:(0,j.jsxs)("div",{className:"flex items-center mb-4 sm:mb-0",children:[(0,j.jsx)("div",{className:"bg-orange-500 p-2 md:p-3 rounded-lg mr-3 md:mr-4",children:(0,j.jsx)(v,{className:"text-white w-6 h-6 md:w-8 md:h-8"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:"Restaurant Inventory"}),(0,j.jsx)("p",{className:"text-sm md:text-base text-gray-600",children:"Track usage, waste, and consumption patterns"})]})]})}),(0,j.jsxs)("div",{className:"space-y-3",children:[i>0&&(0,j.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(Le,{className:"w-5 h-5 text-red-600 mr-2"}),(0,j.jsxs)("div",{className:"flex-1",children:[(0,j.jsxs)("div",{className:"text-sm font-medium text-red-800",children:[i," Critical Item",i>1?"s":""," Need Attention"]}),(0,j.jsx)("div",{className:"text-xs text-red-600",children:"Immediate restocking required"})]}),(0,j.jsx)("div",{className:"text-2xl font-bold text-red-700",children:i})]})}),(0,j.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,j.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-xs font-medium text-yellow-600",children:"Low Stock"}),(0,j.jsx)("div",{className:"text-lg font-bold text-yellow-800",children:o})]}),(0,j.jsx)(Fe,{className:"w-4 h-4 text-yellow-600"})]})}),(0,j.jsx)("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-xs font-medium text-green-600",children:"Good Stock"}),(0,j.jsx)("div",{className:"text-lg font-bold text-green-800",children:s})]}),(0,j.jsx)(Ue,{className:"w-4 h-4 text-green-600"})]})}),(0,j.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-xs font-medium text-blue-600",children:"Database"}),(0,j.jsx)("div",{className:"text-lg font-bold text-blue-800",children:l})]}),(0,j.jsx)(x,{className:"w-4 h-4 text-blue-600"})]})}),(0,j.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"text-xs font-medium text-gray-600",children:"Total Items"}),(0,j.jsx)("div",{className:"text-lg font-bold text-gray-800",children:a.length})]}),(0,j.jsx)(Q,{className:"w-4 h-4 text-gray-600"})]})})]})]})]})},Ez=()=>{const{currentTab:e}=vt();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Nf,{}),(0,j.jsx)(Cz,{}),(0,j.jsx)(kf,{}),(()=>{switch(e){case"daily":default:return(0,j.jsx)(ba,{});case"weekly":return(0,j.jsx)(xa,{});case"monthly":return(0,j.jsx)(wa,{});case"outofstock":return(0,j.jsx)(wf,{});case"database":return(0,j.jsx)(Tt,{});case"analytics":return(0,j.jsx)(jz,{})}})()]})},Tz=e=>{let{currentUser:t,connectionStatus:n,employees:r,isAdmin:a,inventoryDailyItems:i,inventoryWeeklyItems:o,inventoryMonthlyItems:s,inventoryDatabaseItems:l,inventoryActivityLog:c,inventoryCustomCategories:u,stockCountSnapshots:d,dailyInventorySnapshots:h,inventoryHistoricalSnapshots:f,setInventoryDailyItems:p,setInventoryWeeklyItems:m,setInventoryMonthlyItems:g,setInventoryDatabaseItems:v,setInventoryActivityLog:y,setInventoryCustomCategories:b,setStockCountSnapshots:x,setDailyInventorySnapshots:w,setInventoryHistoricalSnapshots:S,quickSave:k}=e;return(0,j.jsx)(yt,{currentUser:t,employees:r,isAdmin:a,inventoryDailyItems:i,inventoryWeeklyItems:o,inventoryMonthlyItems:s,inventoryDatabaseItems:l,inventoryActivityLog:c,inventoryCustomCategories:u,stockCountSnapshots:d,dailyInventorySnapshots:h,inventoryHistoricalSnapshots:f,setInventoryDailyItems:p,setInventoryWeeklyItems:m,setInventoryMonthlyItems:g,setInventoryDatabaseItems:v,setInventoryActivityLog:y,setInventoryCustomCategories:b,setStockCountSnapshots:x,setDailyInventorySnapshots:w,setInventoryHistoricalSnapshots:S,quickSave:k,children:(0,j.jsx)(Ez,{})})},Az=u("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Oz=u("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),Iz=u("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Pz=u("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Dz=u("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Mz=u("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Rz=u("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Lz=e=>{let{isLoading:n,lastSync:r,connectionStatus:a,loadFromFirebase:o,activeDevices:s=[],syncEvents:l=[],deviceCount:c=1,isMultiDeviceEnabled:u=!0,toggleMultiDeviceSync:d=()=>{},refreshFromAllDevices:h=()=>{},conflictCount:f=0}=e;const[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(null),[x,w]=(0,t.useState)({x:"right",y:window.innerHeight-100}),[S,N]=(0,t.useState)(!1),[_,C]=(0,t.useState)({x:0,y:0}),[E,T]=(0,t.useState)({x:0,y:0,startY:0,startSide:"right"}),A=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=()=>{w(e=>(0,i.A)((0,i.A)({},e),{},{y:Math.min(e.y,window.innerHeight-100)}))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{if(l.length>0){const e=l.filter(e=>Date.now()-e.timestamp<3e3);if(e.length>0){const t=e[0];b(t),m(!0);const n=setTimeout(()=>{m(!1),b(null)},2e3);return()=>clearTimeout(n)}}},[l]);const O=e=>{const t=Date.now()-e;return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):"".concat(Math.floor(t/864e5),"d ago")};(0,t.useEffect)(()=>{const e=e=>{if(!S)return;const t=e.clientX-E.x,n=e.clientY-E.y,r=Math.max(16,Math.min(window.innerWidth-56,("left"===E.startSide?16:window.innerWidth-56)+t)),a=Math.max(24,Math.min(window.innerHeight-64,E.startY+n));C({x:r,y:a})},t=e=>{if(!S)return;e.preventDefault();const t=e.touches[0],n=t.clientX-E.x,r=t.clientY-E.y,a=Math.max(16,Math.min(window.innerWidth-56,("left"===E.startSide?16:window.innerWidth-56)+n)),i=Math.max(24,Math.min(window.innerHeight-64,E.startY+r));C({x:a,y:i})},n=e=>{if(!S)return;const t=e.clientX-E.x,n=e.clientY-E.y,r=("left"===E.startSide?16:window.innerWidth-56)+t>window.innerWidth/2?"right":"left",a=Math.max(24,Math.min(window.innerHeight-64,E.startY+n));w({x:r,y:a}),N(!1)},r=e=>{if(!S)return;const t=e.changedTouches[0],n=t.clientX-E.x,r=t.clientY-E.y,a=("left"===E.startSide?16:window.innerWidth-56)+n>window.innerWidth/2?"right":"left",i=Math.max(24,Math.min(window.innerHeight-64,E.startY+r));w({x:a,y:i}),N(!1)};return S&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",n),document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",r)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",r)}},[S,E]);const I=n?{icon:(0,j.jsx)(Pz,{className:"w-3 h-3 animate-spin"}),text:y?"Syncing ".concat(y.field||"data"):"Syncing",bgColor:"bg-blue-500/90",pulseColor:"bg-blue-400"}:"connected"===a&&r?{icon:p?(0,j.jsx)(Pz,{className:"w-3 h-3 animate-spin"}):c>1?(0,j.jsx)(k,{className:"w-3 h-3"}):(0,j.jsx)(Dz,{className:"w-3 h-3"}),text:p?y?"Syncing ".concat(y.field||"data"):"Syncing":c>1?"".concat(c," devices"):"Synced",bgColor:"bg-emerald-500/90",pulseColor:"bg-emerald-400"}:"error"===a?{icon:(0,j.jsx)(Mz,{className:"w-3 h-3"}),text:"Offline",bgColor:"bg-red-500/90",pulseColor:"bg-red-400"}:{icon:(0,j.jsx)(Rz,{className:"w-3 h-3"}),text:"Connecting",bgColor:"bg-amber-500/90",pulseColor:"bg-amber-400"},P=(()=>{const e=window.innerHeight,t=window.innerWidth,n=x.y+450+8>e-20;let r="0px";"left"===x.x?(r="".concat(48,"px"),384>t&&(r="-".concat(272,"px"))):(r="-".concat(328,"px"),328>t-64&&(r="".concat(48,"px")));let a="0px";return a=n?"-".concat(458,"px"):"".concat(48,"px"),{translateX:r,translateY:a,isAbove:n}})();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{ref:A,className:"\n          fixed z-50 transition-all duration-300 ease-out\n          ".concat(S?"transition-none":"","\n          ").concat(S?"scale-110 cursor-grabbing":"cursor-grab hover:scale-105","\n        "),style:{left:S?"".concat(_.x,"px"):"left"===x.x?"16px":void 0,right:S?void 0:"right"===x.x?"16px":void 0,top:"".concat(S?_.y:x.y,"px")},onMouseDown:e=>{var t;e.preventDefault(),N(!0);const n=null===(t=A.current)||void 0===t?void 0:t.getBoundingClientRect();n&&(C({x:n.left,y:n.top}),T({x:e.clientX,y:e.clientY,startY:x.y,startSide:x.x}))},onTouchStart:e=>{var t;e.preventDefault(),N(!0);const n=e.touches[0],r=null===(t=A.current)||void 0===t?void 0:t.getBoundingClientRect();r&&(C({x:r.left,y:r.top}),T({x:n.clientX,y:n.clientY,startY:x.y,startSide:x.x}))},children:[(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/10 blur-md scale-110"}),(0,j.jsxs)("div",{className:"\n              relative w-10 h-10 rounded-full transform transition-all duration-300\n              ".concat(p?"animate-pulse":"","\n            "),onClick:e=>{S||(e.stopPropagation(),"error"===a?o():v(!g))},title:"".concat(I.text).concat(r?" - Last sync: ".concat(r):""),children:[(0,j.jsx)("div",{className:"\n              absolute inset-0 rounded-full backdrop-blur-xl ".concat(I.bgColor,"\n              border border-white/40 shadow-lg\n            ")}),(0,j.jsx)("div",{className:"absolute inset-0.5 rounded-full bg-gradient-to-tr from-white/25 to-transparent"}),(0,j.jsx)("div",{className:"relative flex items-center justify-center w-full h-full text-white",children:I.icon}),"connected"===a&&c>1?(0,j.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full backdrop-blur-xl bg-blue-500/95  border border-white/60 shadow-md flex items-center justify-center text-xs font-bold text-white",children:c}):null,p&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"absolute inset-0 rounded-full animate-ping",children:(0,j.jsx)("div",{className:"w-full h-full rounded-full ".concat(I.pulseColor,"/50 border border-current")})}),(0,j.jsx)("div",{className:"absolute inset-0 rounded-full animate-ping",style:{animationDelay:"150ms"},children:(0,j.jsx)("div",{className:"w-full h-full rounded-full ".concat(I.pulseColor,"/30 border border-current scale-125")})})]}),f&&f>0?(0,j.jsxs)("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-2 py-0.5 rounded-full animate-pulse z-50",children:[f," conflict",f>1?"s":""]}):null]})]}),g&&!S&&(0,j.jsxs)("div",{className:"absolute z-40 w-80",style:{transform:"translate(".concat(P.translateX,", ").concat(P.translateY,")"),transformOrigin:P.isAbove?"bottom center":"top center"},children:[(0,j.jsx)("div",{className:"absolute w-0.5 bg-gradient-to-b from-blue-500/30 to-purple-500/30 ".concat(P.isAbove?"bottom-0 h-2 translate-y-full":"top-0 h-2 -translate-y-full"),style:{left:"left"===x.x?"-9px":"calc(100% + 8px)"}}),(0,j.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-xl shadow-xl border border-white/50 overflow-hidden",children:[(0,j.jsx)("div",{className:"bg-gradient-to-r from-emerald-500/15 to-blue-500/15 px-4 py-3 border-b border-white/30",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-emerald-500 to-blue-500 flex items-center justify-center",children:(0,j.jsx)(k,{className:"w-3 h-3 text-white"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Multi-Device Sync"}),(0,j.jsxs)("div",{className:"text-xs text-gray-600",children:[c," device",1!==c?"s":""," connected"]})]})]}),(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),v(!1)},className:"w-6 h-6 rounded-full bg-white/30 backdrop-blur-sm border border-white/40  text-gray-600 hover:text-gray-800 hover:bg-white/50 transition-all duration-200 flex items-center justify-center text-xs",children:"\u2715"})]})}),(0,j.jsxs)("div",{className:"p-4 space-y-4 max-h-80 overflow-y-auto",children:[(0,j.jsxs)("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-3 border border-white/30",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Real-time Sync"}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("connected"===a?"bg-green-500":"bg-red-500")}),(0,j.jsx)("span",{className:"text-xs font-medium ".concat("connected"===a?"text-green-600":"text-red-600"),children:"connected"===a?"Active":"Offline"})]})]}),(0,j.jsx)("div",{className:"text-xs text-gray-600",children:"connected"===a?"All changes sync automatically across devices":"connecting"===a?"Connecting to sync service...":"Connection failed - working offline"}),r&&(0,j.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Last sync: ",r]})]}),(0,j.jsxs)("div",{className:"bg-white/30 backdrop-blur-sm rounded-lg p-3 border border-white/30",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,j.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Connected Devices (",s.length,")"]}),(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),h()},className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full hover:bg-blue-200 transition-colors",children:"Refresh"})]}),s.length>0?(0,j.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:s.map((e,t)=>{return(0,j.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/40 rounded-lg",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.isActive?"bg-green-500":"bg-gray-400")}),(0,j.jsx)("div",{className:"text-blue-600",children:(n=e,"mobile"===n.platform?(0,j.jsx)(Az,{className:"w-3 h-3"}):"tablet"===n.platform?(0,j.jsx)(Oz,{className:"w-3 h-3"}):(0,j.jsx)(Iz,{className:"w-3 h-3"}))}),(0,j.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,j.jsx)("div",{className:"text-xs font-medium text-gray-700 truncate",children:e.name}),(0,j.jsxs)("div",{className:"text-xs text-gray-500 truncate",children:[e.user," \u2022 ",e.browserInfo]})]})]}),(0,j.jsx)("div",{className:"text-xs text-gray-500 whitespace-nowrap",children:O(e.lastSeen)})]},e.id);var n})}):(0,j.jsx)("div",{className:"text-center py-4 text-xs text-gray-500",children:"No other devices connected"})]}),l.length>0&&(0,j.jsxs)("div",{className:"bg-white/30 backdrop-blur-sm rounded-lg p-3 border border-white/30",children:[(0,j.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Activity"}),(0,j.jsx)("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:l.slice(0,5).map((e,t)=>(0,j.jsxs)("div",{className:"text-xs text-gray-600 flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[(0,j.jsx)("div",{className:"w-1.5 h-1.5 rounded-full flex-shrink-0 ".concat("data_update"===e.type?"bg-blue-500":"device_join"===e.type?"bg-green-500":"device_leave"===e.type?"bg-red-500":"bg-purple-500")}),(0,j.jsx)("span",{className:"truncate",children:e.description||"".concat(e.field||"Data"," ").concat("data_update"===e.type?"updated":e.type.replace("_"," "))})]}),(0,j.jsx)("span",{className:"text-gray-400 whitespace-nowrap ml-2",children:O(e.timestamp)})]},t))})]}),(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),"error"===a?o():h()},className:"flex-1 py-2 px-3 bg-gradient-to-r from-emerald-500 to-blue-500  text-white rounded-lg hover:from-emerald-600 hover:to-blue-600  transition-all duration-300 text-xs font-semibold shadow-md transform hover:scale-105",children:"error"===a?"Reconnect":"Refresh All"}),(0,j.jsx)("button",{onClick:e=>{e.stopPropagation(),d()},className:"py-2 px-3 bg-white/20 backdrop-blur-sm border border-white/30  text-gray-700 rounded-lg hover:bg-white/30  transition-all duration-300 text-xs font-semibold",title:u?"Disable sync":"Enable sync",children:u?(0,j.jsx)(Cf,{className:"w-3 h-3"}):(0,j.jsx)(jf,{className:"w-3 h-3"})})]})]})]})]})]}),g&&(0,j.jsx)("div",{className:"fixed inset-0 z-30",onClick:()=>v(!1)})]})};var Fz=n(7658),Uz=n(4291),zz=n(2578),Bz=n(815);const Wz=e=>e&&Array.isArray(e)?e.map(e=>({id:e.id||Date.now()+Math.random(),prepId:e.prepId||0,name:e.name||"Unknown Prep",category:e.category||"muut",estimatedTime:e.estimatedTime||"30 min",isCustom:e.isCustom||!1,hasRecipe:e.hasRecipe||!1,recipe:e.recipe||null,scheduledDate:e.scheduledDate||(0,_.po)(new Date),priority:e.priority||"medium",timeSlot:e.timeSlot||"",completed:"boolean"===typeof e.completed&&e.completed,assignedTo:e.assignedTo||null,notes:e.notes||""})):[],Hz=()=>{const[e,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)(null),[o,s]=(0,t.useState)("connecting"),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)({}),[p,m]=(0,t.useState)(new Set),[g,v]=(0,t.useState)({}),[y,b]=(0,t.useState)(["Cleaner","Manager","Supervisor"]),[x,w]=(0,t.useState)([]),[S,k]=(0,t.useState)([]),[j,C]=(0,t.useState)({}),[E,T]=(0,t.useState)([]),[A,O]=(0,t.useState)([]),[I,P]=(0,t.useState)([]),[D,M]=(0,t.useState)([]),[R,L]=(0,t.useState)([]),[F,U]=(0,t.useState)([]),[z,B]=(0,t.useState)([]),[W,H]=(0,t.useState)([]),[V,q]=(0,t.useState)([]),[K,Y]=(0,t.useState)([]),G=(0,t.useRef)([]),$=(0,t.useRef)([]),X=(0,t.useRef)([]),Q=(0,t.useMemo)(()=>new Fz.FirebaseService,[]),J=(0,t.useRef)(null),Z=(0,t.useRef)(""),ee=(0,t.useRef)(!1),te=(0,t.useRef)(!1),ne=(0,t.useCallback)(async(e,t)=>{console.log("\ud83d\udd25 QuickSave: ".concat(e));try{const n="https://hamptown-panel-default-rtdb.firebaseio.com";let r=t instanceof Set?Array.from(t):t;if("scheduledPreps"===e){const e=(0,_.po)(new Date),t=r.filter(t=>t.scheduledDate===e),n=t.filter(e=>!0===e.completed);console.log("\ud83d\udd0d Saving scheduledPreps to Firebase:",{totalCount:r.length,todayCount:t.length,todayCompletedCount:n.length,completionPercentage:t.length>0?Math.round(n.length/t.length*100):0,sampleTodayPreps:t.slice(0,3).map(e=>({id:e.id,name:e.name,completed:e.completed,scheduledDate:e.scheduledDate}))}),r=r.map(e=>(0,i.A)((0,i.A)({},e),{},{completed:Boolean(e.completed)}))}if(["scheduledPreps","completedTasks","taskAssignments","dailyData"].includes(e)){console.log("\ud83d\udd12 Critical save - waiting for confirmation:",e);const t=await fetch("".concat(n,"/").concat(e,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok)throw new Error("Critical save failed: ".concat(t.status));a((new Date).toLocaleTimeString()),s("connected"),console.log("\u2705 Critical QuickSave completed:",e),"scheduledPreps"===e&&setTimeout(async()=>{try{const t=await fetch("".concat(n,"/").concat(e,".json")),a=await t.json();if(a){const e=(0,_.po)(new Date),t=a.filter(t=>t.scheduledDate===e),n=t.filter(e=>!0===e.completed);console.log("\ud83d\udd0d Verified scheduledPreps in Firebase after save:",{totalCount:a.length,todayCount:t.length,todayCompletedCount:n.length,completionPercentage:t.length>0?Math.round(n.length/t.length*100):0});const i=r.filter(t=>t.scheduledDate===e&&!0===t.completed).length;n.length!==i?console.warn("\u26a0\ufe0f Completion count mismatch after save!",{sent:i,verified:n.length}):console.log("\u2705 Completion status successfully verified")}else console.warn("\u26a0\ufe0f No data returned from verification")}catch(t){console.warn("\u26a0\ufe0f Failed to verify save:",t)}},500)}else fetch("".concat(n,"/").concat(e,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(t=>{if(!t.ok)throw new Error("Save failed: ".concat(t.status));a((new Date).toLocaleTimeString()),s("connected"),console.log("\u2705 QuickSave completed:",e)}).catch(e=>{console.warn("\u26a0\ufe0f QuickSave failed (non-blocking):",e),s("error")});return!0}catch(n){return console.error("\u274c QuickSave error:",n),s("error"),!1}},[]),ae=(0,t.useCallback)(async()=>{if(te.current||"error"===o)return void console.log("\u23ed\ufe0f Skipping save (already saving or offline)");const e=JSON.stringify({employees:l.length,tasks:u.length,dailyDataKeys:Object.keys(h).length,completedTasksSize:p.size,taskAssignmentsKeys:Object.keys(g).length,customRolesLength:y.length,prepItemsLength:x.length,scheduledPrepsLength:S.length,prepSelectionsKeys:Object.keys(j).length,storeItemsLength:E.length,inventoryDailyItemsLength:A.length,inventoryWeeklyItemsLength:I.length,inventoryMonthlyItemsLength:D.length,inventoryDatabaseItemsLength:R.length,inventoryActivityLogLength:F.length,stockCountSnapshotsLength:W.length,dailyInventorySnapshotsLength:V.length});if(e!==Z.current){te.current=!0,console.log("\ud83d\udcbe Saving data (non-blocking)...");try{await Q.saveData({employees:l,tasks:u,dailyData:h,completedTasks:p,taskAssignments:g,customRoles:y,prepItems:x,scheduledPreps:S,prepSelections:j,storeItems:E,inventoryDailyItems:A,inventoryWeeklyItems:I,inventoryMonthlyItems:D,inventoryDatabaseItems:R,inventoryActivityLog:F,inventoryCustomCategories:z,stockCountSnapshots:W,dailyInventorySnapshots:V,inventoryHistoricalSnapshots:K}),a((new Date).toLocaleTimeString()),Z.current=e,s("connected")}catch(t){console.error("\u274c Save failed - detailed error info:",{error:t,errorMessage:t instanceof Error?t.message:String(t),errorStack:t instanceof Error?t.stack:void 0,errorName:t instanceof Error?t.name:typeof t,dataFields:Object.keys({employees:l,tasks:u,dailyData:h,completedTasks:p,taskAssignments:g,customRoles:y,prepItems:x,scheduledPreps:S,prepSelections:j,storeItems:E,inventoryDailyItems:A,inventoryWeeklyItems:I,inventoryMonthlyItems:D,inventoryDatabaseItems:R,inventoryActivityLog:F,stockCountSnapshots:W,dailyInventorySnapshots:V,inventoryHistoricalSnapshots:K}),timestamp:(new Date).toISOString()}),t instanceof Error&&t.message.includes("Firebase")&&console.error("\ud83d\udd0d Firebase-specific error detected:",{inventoryItemsCount:{daily:A.length,weekly:I.length,monthly:D.length,database:R.length,activityLog:F.length,snapshots:W.length,dailySnapshots:V.length},sampleInventoryData:{dailySample:A.slice(0,2),databaseSample:R.slice(0,2),snapshotSample:W.slice(0,1)}}),s("error")}finally{te.current=!1}}},[l,u,h,p,g,y,x,S,j,E,A,I,D,R,F,z,W,V,K,o,Q]),ie=(0,t.useCallback)(()=>{"connected"===o?(J.current&&clearTimeout(J.current),J.current=setTimeout(()=>{ae()},2e3)):console.warn("\u26d4 Not saving to Firebase: offline or error connection")},[ae,o]),oe=(0,t.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!e){n(!0),s("connecting");try{console.log("\ud83d\udce1 Loading data (fast mode)...");const e=Q.loadData(),t=new Promise((e,t)=>setTimeout(()=>t(new Error("Load timeout after 10 seconds")),1e4)),n=await Promise.race([e,t]),r=(e=>e&&Array.isArray(e)?e.map(e=>({id:e.id||0,name:e.name||"Unknown",mood:e.mood||3,lastUpdated:e.lastUpdated||"Not updated",role:e.role||"Cleaner",lastMoodDate:e.lastMoodDate||null,points:"number"===typeof e.points?e.points:0})):(0,Uz.PR)())(n.employees),i=(e=>e&&Array.isArray(e)?e.map(e=>({id:e.id||0,task:e.task||"Unknown Task",location:e.location||"Unknown Location",priority:e.priority||"medium",estimatedTime:e.estimatedTime||"30 min",points:"number"===typeof e.points?e.points:5})):(0,Uz.w4)())(n.tasks),o=Wz(n.scheduledPreps||[]);console.log("\ud83d\udd0d Loading scheduledPreps from Firebase:",{count:o.length,todayPreps:o.filter(e=>e.scheduledDate===(0,_.po)(new Date)).length,todayCompleted:o.filter(e=>e.scheduledDate===(0,_.po)(new Date)&&!0===e.completed).length,sampleData:o.slice(0,5).map(e=>({id:e.id,name:e.name,completed:e.completed,scheduledDate:e.scheduledDate})),rawDataSample:n.scheduledPreps?n.scheduledPreps.slice(0,3):"No raw data"}),c(r),d(i),f(n.dailyData),m(new Set(n.completedTasks)),v(n.taskAssignments),b(n.customRoles),w(n.prepItems||[]),k(o),C(n.prepSelections||{}),T(n.storeItems||(0,Uz.h3)());const l=n.inventoryDailyItems||[],u=n.inventoryWeeklyItems||[],h=n.inventoryMonthlyItems||[];O(l),P(u),M(h),L(n.inventoryDatabaseItems||[]),U(n.inventoryActivityLog||[]),B(n.inventoryCustomCategories||[]),H(n.stockCountSnapshots||[]),q(n.dailyInventorySnapshots||[]),Y(n.inventoryHistoricalSnapshots||[]),G.current=[...l],$.current=[...u],X.current=[...h];const p=(0,_.po)(new Date),g=o.filter(e=>e.scheduledDate===p),y=g.filter(e=>!0===e.completed);console.log("\u2705 Set scheduledPreps state:",{count:o.length,todayCount:g.length,todayCompletedCount:y.length,completionPercentage:g.length>0?Math.round(y.length/g.length*100):0}),s("connected"),a((new Date).toLocaleTimeString()),Z.current=JSON.stringify({loaded:!0}),ee.current=!0,console.log("\u2705 Data loaded successfully")}catch(r){console.error("\u274c Load failed:",{message:r instanceof Error?r.message:"Unknown error",name:r instanceof Error?r.name:"Error",stack:r instanceof Error?r.stack:void 0,error:r}),s("error"),ee.current||(console.log("\u26a0\ufe0f Setting defaults due to load failure - sync disabled until manual load succeeds"),c((0,Uz.PR)()),d((0,Uz.w4)()),f((0,Uz.tU)()),w([]),k([]),C({}),T((0,Uz.h3)()));const e=3,n=r instanceof Error&&(r.message.includes("timeout")||r.message.includes("fetch")||r.message.includes("network")||"TypeError"===r.name);if(t<e&&n){const n=Math.min(1e3*Math.pow(2,t),5e3);return console.log("\ud83d\udd04 Retrying load in ".concat(n,"ms (attempt ").concat(t+1,"/").concat(e,")")),void setTimeout(()=>{oe(t+1)},n)}t>=e&&console.error("\u274c Load failed after ".concat(e," retries, giving up"))}finally{n(!1)}}},[e,Q]);(0,t.useEffect)(()=>{if(ee.current&&!te.current){const e=setTimeout(()=>{ie()},1e3);return()=>clearTimeout(e)}},[l,u,h,p,g,y,S,ie]),(0,t.useEffect)(()=>{if(ee.current){const e=setTimeout(()=>{ie()},3e3);return()=>clearTimeout(e)}},[x,j,E,ie]);const se=(0,t.useRef)(null),le=(0,t.useRef)(null);se.current||(se.current=(0,Bz.Wp)(N.Nd),le.current=(0,zz.C3)(se.current)),(0,t.useEffect)(()=>{const e=le.current;if(!e)return;const t=(0,zz.KR)(e,"employees"),n=e=>{const t=e.val()||[];c(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(t,n);const r=(0,zz.KR)(e,"tasks"),a=e=>{const t=e.val()||[];d(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(r,a);const i=(0,zz.KR)(e,"dailyData"),o=e=>{f(e.val()||{})};(0,zz.Zy)(i,o);const s=(0,zz.KR)(e,"completedTasks"),l=e=>{m(new Set(e.val()||[]))};(0,zz.Zy)(s,l);const u=(0,zz.KR)(e,"taskAssignments"),h=e=>{v(e.val()||{})};(0,zz.Zy)(u,h);const p=(0,zz.KR)(e,"customRoles"),g=e=>{b(Array.isArray(e.val())?e.val():[])};(0,zz.Zy)(p,g);const y=(0,zz.KR)(e,"prepItems"),x=e=>{const t=e.val()||[];w(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(y,x);const S=(0,zz.KR)(e,"scheduledPreps"),N=e=>{const t=e.val()||[],n=Wz(Array.isArray(t)?t:Object.values(t));k(n)};(0,zz.Zy)(S,N);const _=(0,zz.KR)(e,"prepSelections"),j=e=>{C(e.val()||{})};(0,zz.Zy)(_,j);const E=(0,zz.KR)(e,"storeItems"),A=e=>{const t=e.val()||[];T(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(E,A);const I=(0,zz.KR)(e,"inventoryDailyItems"),D=e=>{const t=e.val()||[],n=Array.isArray(t)?t:Object.values(t);ee.current&&G.current.length>0&&at(n,G.current),G.current=[...n],O(n)};(0,zz.Zy)(I,D);const R=(0,zz.KR)(e,"inventoryWeeklyItems"),F=e=>{const t=e.val()||[],n=Array.isArray(t)?t:Object.values(t);ee.current&&$.current.length>0&&at(n,$.current),$.current=[...n],P(n)};(0,zz.Zy)(R,F);const z=(0,zz.KR)(e,"inventoryMonthlyItems"),W=e=>{const t=e.val()||[],n=Array.isArray(t)?t:Object.values(t);ee.current&&X.current.length>0&&at(n,X.current),X.current=[...n],M(n)};(0,zz.Zy)(z,W);const V=(0,zz.KR)(e,"inventoryDatabaseItems"),K=e=>{const t=e.val()||[];L(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(V,K);const Q=(0,zz.KR)(e,"inventoryActivityLog"),J=e=>{const t=e.val()||[];U(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(Q,J);const Z=(0,zz.KR)(e,"inventoryCustomCategories");(0,zz.Zy)(Z,e=>{const t=e.val()||[];B(Array.isArray(t)?t:Object.values(t))});const te=(0,zz.KR)(e,"stockCountSnapshots"),ne=e=>{const t=e.val()||[];H(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(te,ne);const re=(0,zz.KR)(e,"dailyInventorySnapshots"),ae=e=>{const t=e.val()||[];q(Array.isArray(t)?t:Object.values(t))};(0,zz.Zy)(re,ae);const ie=(0,zz.KR)(e,"inventoryHistoricalSnapshots"),oe=e=>{const t=e.val()||[];Y(Array.isArray(t)?t:Object.values(t))};return(0,zz.Zy)(ie,oe),()=>{(0,zz.AU)(t,"value",n),(0,zz.AU)(r,"value",a),(0,zz.AU)(i,"value",o),(0,zz.AU)(s,"value",l),(0,zz.AU)(u,"value",h),(0,zz.AU)(p,"value",g),(0,zz.AU)(y,"value",x),(0,zz.AU)(S,"value",N),(0,zz.AU)(_,"value",j),(0,zz.AU)(E,"value",A),(0,zz.AU)(I,"value",D),(0,zz.AU)(R,"value",F),(0,zz.AU)(z,"value",W),(0,zz.AU)(V,"value",K),(0,zz.AU)(Q,"value",J),(0,zz.AU)(te,"value",ne),(0,zz.AU)(re,"value",ae),(0,zz.AU)(ie,"value",oe)}},[]);return{isLoading:e,lastSync:r,connectionStatus:o,employees:l,tasks:u,dailyData:h,completedTasks:p,taskAssignments:g,customRoles:y,prepItems:x,scheduledPreps:S,prepSelections:j,storeItems:E,inventoryDailyItems:A,inventoryWeeklyItems:I,inventoryMonthlyItems:D,inventoryDatabaseItems:R,inventoryActivityLog:F,inventoryCustomCategories:z,stockCountSnapshots:W,dailyInventorySnapshots:V,inventoryHistoricalSnapshots:K,setEmployees:c,setTasks:d,setDailyData:f,setCompletedTasks:m,setTaskAssignments:v,setCustomRoles:b,setPrepItems:w,setScheduledPreps:k,setPrepSelections:C,setStoreItems:T,setInventoryDailyItems:O,setInventoryWeeklyItems:P,setInventoryMonthlyItems:M,setInventoryDatabaseItems:L,setInventoryActivityLog:U,setInventoryCustomCategories:B,setStockCountSnapshots:H,setDailyInventorySnapshots:q,setInventoryHistoricalSnapshots:Y,loadFromFirebase:oe,saveToFirebase:ie,quickSave:ne,applyTaskSyncOperation:e=>{d(t=>function(e,t){return re.applyOperation(t,{tasks:e}).tasks}(t,e))}}};class Vz{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown User";this.baseUrl=N.Nd.databaseURL,this.deviceId=void 0,this.deviceInfo=void 0,this.presenceRef=void 0,this.syncCallbacks=new Map,this.isConnected=!1,this.heartbeatInterval=null,this.onDeviceCountChange=void 0,this.onSyncEvent=void 0,this.lastDataTimestamp=new Map,this.eventSource=null,this.connectionRetryCount=0,this.maxRetries=3,this.retryTimeout=null,this.syncQueue=new Map,this.syncTimer=null,this.isSyncing=!1,this.ourOperations=new Set,this.operationTimeout=3e4,this.deviceCountTimeout=null,this.deviceCache=null,this.DEVICE_CACHE_TTL=3e4,this.lastKnownData=new Map,this.deviceId=this.generateDeviceId(),this.deviceInfo=this.createDeviceInfo(e),this.presenceRef="presence/".concat(this.deviceId),console.log("\ud83d\udd04 Sync service initialized:",{deviceId:this.deviceId.substring(0,8)+"...",user:e}),window.addEventListener("beforeunload",()=>{this.disconnect()}),document.addEventListener("visibilitychange",()=>{document.hidden?this.updatePresence(!1):this.updatePresence(!0)})}generateDeviceId(){let e=localStorage.getItem("workVibe_deviceId");if(!e){const t=Date.now().toString(36),n=Math.random().toString(36).substr(2,6);e="device_".concat(t,"_").concat(n),localStorage.setItem("workVibe_deviceId",e)}return e}createDeviceInfo(e){const t=navigator.userAgent;let n="Desktop",r="Browser";return/Mobile|Android|iPhone|iPod/.test(t)?n="Mobile":/iPad|Tablet/.test(t)&&(n="Tablet"),t.includes("Chrome")?r="Chrome":t.includes("Firefox")?r="Firefox":t.includes("Safari")&&(r="Safari"),{id:this.deviceId,name:"".concat(n," \u2022 ").concat(r),lastSeen:Date.now(),user:e,platform:n.toLowerCase(),isActive:!0,browserInfo:"".concat(r," on ").concat(navigator.platform||"Unknown")}}async connect(){if(this.isConnected)console.log("\u2705 Already connected");else try{console.log("\ud83d\udd17 Connecting sync service..."),this.updatePresence(!0).catch(console.warn),this.startListening(),this.startHeartbeat(),this.isConnected=!0,this.connectionRetryCount=0,this.emitSyncEvent({type:"device_join",timestamp:Date.now(),deviceId:this.deviceId,deviceName:this.deviceInfo.name,description:"".concat(this.deviceInfo.name," connected")}),console.log("\u2705 Sync service connected")}catch(e){console.error("\u274c Connection failed:",e),this.scheduleReconnect()}}async disconnect(){if(this.isConnected)try{console.log("\ud83d\udd0c Disconnecting..."),this.isConnected=!1,this.stopListening(),this.stopHeartbeat(),this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null),this.syncTimer&&(clearTimeout(this.syncTimer),this.syncTimer=null),this.removePresence().catch(console.warn),console.log("\u2705 Disconnected")}catch(e){console.error("\u274c Disconnect error:",e)}}async updatePresence(e){this.deviceInfo=(0,i.A)((0,i.A)({},this.deviceInfo),{},{lastSeen:Date.now(),isActive:e});try{fetch("".concat(this.baseUrl,"/").concat(this.presenceRef,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.deviceInfo)}).then(e=>{e.ok?(this.deviceCountTimeout&&clearTimeout(this.deviceCountTimeout),this.deviceCountTimeout=setTimeout(()=>{this.getActiveDevices().then(e=>{this.onDeviceCountChange&&(console.log("\ud83d\udcf1 Device count updated: ".concat(e.length," devices connected")),this.onDeviceCountChange(e.length,e))}).catch(console.warn)},1e3)):console.warn("\u26a0\ufe0f Presence update failed: HTTP ".concat(e.status," ").concat(e.statusText))}).catch(e=>{console.warn("\u26a0\ufe0f Presence update failed:",{message:e instanceof Error?e.message:"Unknown error",name:e instanceof Error?e.name:"Error",presenceRef:this.presenceRef,baseUrl:this.baseUrl,error:e})})}catch(t){console.warn("\u26a0\ufe0f Presence update failed:",{message:t instanceof Error?t.message:"Unknown error",name:t instanceof Error?t.name:"Error",presenceRef:this.presenceRef,baseUrl:this.baseUrl,error:t})}}async removePresence(){try{const e=await fetch("".concat(this.baseUrl,"/").concat(this.presenceRef,".json"),{method:"DELETE"});if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText))}catch(e){console.warn("\u26a0\ufe0f Failed to remove presence:",{message:e instanceof Error?e.message:"Unknown error",name:e instanceof Error?e.name:"Error",stack:e instanceof Error?e.stack:void 0,presenceRef:this.presenceRef,baseUrl:this.baseUrl,error:e})}}async getActiveDevices(){try{const e=Date.now();if(this.deviceCache&&e-this.deviceCache.timestamp<this.DEVICE_CACHE_TTL)return this.deviceCache.devices;const t=await fetch("".concat(this.baseUrl,"/presence.json")),n=await t.json();if(!n)return this.deviceCache={devices:[],timestamp:e},[];const r=Object.values(n).filter(t=>t.isActive&&e-t.lastSeen<3e5).slice(0,10);return this.deviceCache={devices:r,timestamp:e},r}catch(e){return console.warn("\u26a0\ufe0f Failed to get devices:",e),[]}}startListening(){if(this.eventSource)return void console.log("\ud83d\udc42 Already listening");console.log("\ud83d\udc42 Starting single EventSource listener...");const e="".concat(this.baseUrl,"/.json");this.eventSource=new EventSource(e),this.eventSource.onmessage=e=>{try{const t=JSON.parse(e.data);if(null===t)return;console.log("\ud83d\udce5 Received data update"),this.processDataUpdate(t)}catch(t){console.warn("\u26a0\ufe0f Error processing data update:",t)}},this.eventSource.onerror=e=>{console.warn("\u26a0\ufe0f EventSource error:",e),this.handleConnectionError()}}processDataUpdate(e){const t=["employees","tasks","dailyData","completedTasks","taskAssignments","customRoles","prepItems","scheduledPreps","prepSelections","storeItems","inventoryDailyItems","inventoryWeeklyItems","inventoryMonthlyItems","inventoryDatabaseItems","inventoryActivityLog"];for(const n of t)if(e[n]&&this.syncCallbacks.has(n)){const t=this.syncCallbacks.get(n),r=Date.now();if(r-(this.lastDataTimestamp.get(n)||0)>3e3){const a="".concat(n,"_").concat(JSON.stringify(e[n]).slice(0,100));if(this.ourOperations.has(a)){console.log("\ud83d\udd04 [SYNC] ".concat(n," update ignored - this was our own operation"));continue}this.lastDataTimestamp.set(n,r);let i=e[n];"completedTasks"===n&&Array.isArray(i)&&(i=new Set(i)),console.log("\ud83d\udd04 [SYNC] Received ".concat(n," update from Firebase:"),Array.isArray(e[n])?e[n]:Object.keys(e[n]||{}).length);const o=this.hasDataChanged(n,i);o?(console.log("\ud83d\udd04 [SYNC] ".concat(n.charAt(0).toUpperCase()+n.slice(1)," actually changed, updating state")),t(i)):console.log("\ud83d\udd04 [SYNC] ".concat(n.charAt(0).toUpperCase()+n.slice(1)," unchanged, keeping current state")),o&&this.emitSyncEvent({type:"data_update",timestamp:r,deviceId:"remote",deviceName:"Remote Device",field:n,description:"".concat(n," updated")})}}}hasDataChanged(e,t){const n=this.lastKnownData.get(e);return JSON.stringify(t)!==JSON.stringify(n)&&(this.lastKnownData.set(e,t),!0)}stopListening(){this.eventSource&&(console.log("\ud83d\udd07 Stopping listener"),this.eventSource.close(),this.eventSource=null)}handleConnectionError(){this.stopListening(),this.connectionRetryCount<this.maxRetries?this.scheduleReconnect():(console.warn("\u26a0\ufe0f Max reconnection attempts reached"),this.isConnected=!1)}scheduleReconnect(){if(this.retryTimeout)return;this.connectionRetryCount++;const e=Math.min(1e3*Math.pow(2,this.connectionRetryCount),3e4);console.log("\ud83d\udd04 Reconnecting in ".concat(e/1e3,"s (attempt ").concat(this.connectionRetryCount,")")),this.retryTimeout=setTimeout(()=>{this.retryTimeout=null,this.isConnected||this.startListening()},e)}async syncData(e,t){const n="".concat(e,"_").concat(JSON.stringify(t).slice(0,100));this.ourOperations.add(n),setTimeout(()=>{this.ourOperations.delete(n)},this.operationTimeout),this.syncQueue.set(e,t),this.syncTimer&&clearTimeout(this.syncTimer),this.syncTimer=setTimeout(()=>{this.processSyncQueue()},1500)}async processSyncQueue(){if(this.isSyncing||0===this.syncQueue.size)return;this.isSyncing=!0;const e=new Map(this.syncQueue);this.syncQueue.clear();try{console.log("\ud83d\udce4 Processing sync queue:",Array.from(e.keys()));const t=Array.from(e.entries()).map(async e=>{let[t,n]=e;try{let e=n instanceof Set?Array.from(n):n;const r=await fetch("".concat(this.baseUrl,"/").concat(t,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error("Sync failed for ".concat(t,": ").concat(r.status));console.log("\u2705 Synced ".concat(t)),this.emitSyncEvent({type:"data_update",timestamp:Date.now(),deviceId:this.deviceId,deviceName:this.deviceInfo.name,field:t,description:"".concat(t," synced")})}catch(r){console.warn("\u26a0\ufe0f Failed to sync ".concat(t,":"),r),this.syncQueue.set(t,n)}});await Promise.allSettled(t)}catch(t){console.error("\u274c Sync queue processing failed:",t)}finally{this.isSyncing=!1,this.syncQueue.size>0&&setTimeout(()=>this.processSyncQueue(),2e3)}}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.isConnected&&this.updatePresence(!0).catch(console.warn)},9e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}onFieldChange(e,t){this.syncCallbacks.set(e,t)}offFieldChange(e){this.syncCallbacks.delete(e)}onDeviceCountChanged(e){this.onDeviceCountChange=e}onSyncEventReceived(e){this.onSyncEvent=e}emitSyncEvent(e){this.onSyncEvent&&this.onSyncEvent(e)}async refreshDataFromAllDevices(){try{console.log("\ud83d\udd04 Fast refresh...");const e=new AbortController,t=setTimeout(()=>e.abort(),8e3),n=["employees","tasks","dailyData","completedTasks","taskAssignments","prepItems","scheduledPreps","prepSelections","storeItems","inventoryDailyItems","inventoryWeeklyItems","inventoryMonthlyItems","inventoryDatabaseItems","inventoryActivityLog"],r=n.map(t=>fetch("".concat(this.baseUrl,"/").concat(t,".json"),{signal:e.signal}).then(e=>e.json()).then(e=>({[t]:e}))),a=await Promise.allSettled(r);clearTimeout(t);const i={};return a.forEach((e,t)=>{"fulfilled"===e.status?Object.assign(i,e.value):console.warn("\u26a0\ufe0f Failed to fetch ".concat(n[t],":"),e.reason)}),console.log("\u2705 Fast refresh completed"),i}catch(e){throw console.error("\u274c Fast refresh failed:",e),e}}getDeviceInfo(){return(0,i.A)((0,i.A)({},this.deviceInfo),{},{lastSeen:Date.now()})}updateCurrentUser(e){this.deviceInfo.user=e,this.updatePresence(!0).catch(console.warn)}getSyncStats(){var e;return{isConnected:this.isConnected,deviceCount:(null===(e=this.deviceCache)||void 0===e?void 0:e.devices.length)||0,lastSync:Math.max(...Array.from(this.lastDataTimestamp.values()),0),isListening:null!==this.eventSource,queueSize:this.syncQueue.size}}}const qz=()=>{const e=t.useRef(null);e.current||(e.current=new(n(7658).FirebaseService));const r=t.useRef(!1),{isLoading:a,lastSync:o,connectionStatus:s,employees:l,tasks:c,dailyData:u,completedTasks:k,taskAssignments:E,customRoles:T,prepItems:A,scheduledPreps:O,prepSelections:I,storeItems:P,inventoryDailyItems:D,inventoryWeeklyItems:M,inventoryMonthlyItems:R,inventoryDatabaseItems:L,inventoryActivityLog:U,inventoryCustomCategories:z,stockCountSnapshots:B,dailyInventorySnapshots:W,inventoryHistoricalSnapshots:H,setEmployees:V,setTasks:q,setDailyData:Y,setCompletedTasks:G,setTaskAssignments:$,setCustomRoles:X,setPrepItems:Q,setScheduledPreps:J,setPrepSelections:Z,setStoreItems:ee,setInventoryDailyItems:te,setInventoryWeeklyItems:ne,setInventoryMonthlyItems:ie,setInventoryDatabaseItems:oe,setInventoryActivityLog:se,setInventoryCustomCategories:le,setStockCountSnapshots:ue,setDailyInventorySnapshots:de,setInventoryHistoricalSnapshots:fe,loadFromFirebase:pe,saveToFirebase:me,quickSave:ge,applyTaskSyncOperation:ve}=Hz();(0,t.useEffect)(()=>{if(!e.current)return;let t,n;const r=e.current.onCompletedTasksChange(e=>{clearTimeout(t),t=setTimeout(()=>{console.log("\ud83d\udd04 [SYNC] Received completedTasks update from Firebase:",e);const t=new Set(Array.isArray(e)?e:Array.from(e));G(e=>{const n=Array.from(e),r=Array.from(t);return n.length===r.length&&n.every(e=>t.has(e))?(console.log("\ud83d\udd04 [SYNC] CompletedTasks unchanged, keeping current state"),e):(console.log("\ud83d\udd04 [SYNC] CompletedTasks actually changed, updating state"),t)})},150)}),a=e.current.onTaskAssignmentsChange(e=>{clearTimeout(n),n=setTimeout(()=>{console.log("\ud83d\udd04 [SYNC] Received taskAssignments update from Firebase:",e),$(t=>JSON.stringify(t)!==JSON.stringify(e||{})?(console.log("\ud83d\udd04 [SYNC] TaskAssignments actually changed, updating state"),e||{}):(console.log("\ud83d\udd04 [SYNC] TaskAssignments unchanged, keeping current state"),t))},150)});return()=>{clearTimeout(t),clearTimeout(n),r&&r(),a&&a()}},[G,$]);const{currentUser:ye,isAdmin:be,setIsAdmin:xe,switchUser:we,logoutAdmin:Se}=(()=>{const[e,r]=(0,t.useState)({id:1,name:"Luka"}),[a,o]=(0,t.useState)(()=>{try{return"true"===localStorage.getItem("adminSession")}catch(e){return!1}});(0,t.useEffect)(()=>{const t=localStorage.getItem("currentUserName");t&&t!==e.name&&r(e=>(0,i.A)((0,i.A)({},e),{},{name:t}))},[e.name]);const s=(0,t.useCallback)(e=>{r({id:e.id,name:e.name}),localStorage.setItem("currentUserName",e.name);try{const{saveSelectedEmployee:t}=n(5067);t(e.id,e.name)}catch(t){const n={id:e.id,name:e.name};localStorage.setItem("inventory_selected_employee",JSON.stringify(n))}},[]),l=(0,t.useCallback)(e=>{o(e);try{e?localStorage.setItem("adminSession","true"):localStorage.removeItem("adminSession")}catch(t){console.error("Failed to save admin session:",t)}},[]),c=(0,t.useCallback)(()=>{l(!1)},[l]);return{currentUser:e,isAdmin:a,setCurrentUser:r,setIsAdmin:l,switchUser:s,logoutAdmin:c}})(),[ke,Ne]=(0,t.useState)(3),[_e,je]=(0,t.useState)("mood"),[Ce,Ee]=(0,t.useState)(!1),[Te,Ae]=(0,t.useState)(!1),[Oe,Ie]=(0,t.useState)(""),[Pe,De]=(0,t.useState)((0,_.po)(new Date)),[Me,Le]=(0,t.useState)((0,Uz.h3)()),[Fe,Ue]=(0,t.useState)(!1),[ze,Be]=(0,t.useState)(0),[We,He]=(0,t.useState)([]),[Ve,qe]=(0,t.useState)([]),[Ke,Ye]=(0,t.useState)(1),[Ge,$e]=(0,t.useState)(!0),Xe=(0,t.useRef)(null),[Qe,Je]=(0,t.useState)([]);(0,t.useEffect)(()=>{let e=!0;return(async()=>{if(e&&!r.current&&(console.log("\ud83d\ude80 Initializing app..."),r.current=!0,await pe(),e))try{const{initializeDailySnapshotAutomation:e}=await Promise.resolve().then(n.bind(n,3963)),{FirebaseService:t}=await Promise.resolve().then(n.bind(n,7658)),r=e(new t);console.log("\ud83d\udcf8 Daily snapshot automation initialized successfully"),console.log("\ud83d\udee1\ufe0f Historical data corruption prevention active"),window.__snapshotAutomation=r}catch(t){console.error("\u274c Failed to initialize daily snapshot automation:",t),console.warn("\u26a0\ufe0f Historical data may not be automatically preserved")}})(),()=>{e=!1,window.__snapshotAutomation&&(window.__snapshotAutomation.stop(),delete window.__snapshotAutomation)}},[pe]),(0,t.useEffect)(()=>(!Xe.current&&ye&&(console.log("\ud83d\udd04 Initializing Multi-Device Sync Service..."),Xe.current=new Vz(ye.name),Xe.current.onDeviceCountChanged((e,t)=>{Ye(e),He(t)}),Xe.current.onSyncEventReceived(e=>{qe(t=>[e,...t.slice(0,9)])}),Xe.current.onFieldChange("completedTasks",e=>{e instanceof Set?G(e):Array.isArray(e)&&G(new Set(e))}),Xe.current.onFieldChange("taskAssignments",$),Xe.current.onFieldChange("employees",V),Xe.current.onFieldChange("tasks",q),Xe.current.onFieldChange("dailyData",Y),Xe.current.connect().catch(console.error)),()=>{Xe.current&&(Xe.current.disconnect(),Xe.current=null)}),[ye,G,Y,V,$,q]),(0,t.useEffect)(()=>{const t=setInterval(async()=>{if("connected"===s&&!a){console.log("\ud83e\uddf9 [AUTO-SAVE] Cleaning tasks: Initiating periodic auto-save...");try{await me();(async()=>{var t,n;const r=await(null===(t=(n=e.current).getCleaningTasksData)||void 0===t?void 0:t.call(n));if(r){const e=Array.from(k).every(e=>{var t,n;return null===(t=r.completedTasks)||void 0===t||null===(n=t.includes)||void 0===n?void 0:n.call(t,e)}),t=JSON.stringify(E)===JSON.stringify(r.taskAssignments);e&&t?console.log("\u2705 [AUTO-SAVE] Cleaning tasks verified after save."):console.warn("\u26a0\ufe0f [AUTO-SAVE] Cleaning tasks verification failed.",{completedMatch:e,assignmentsMatch:t,data:r})}else console.warn("\u26a0\ufe0f [AUTO-SAVE] Cleaning tasks verification: No data returned.")})()}catch(t){console.error("\u274c [AUTO-SAVE] Cleaning tasks save failed:",t)}}},3e5);return()=>clearInterval(t)},[s,a,me,k,E]),(0,t.useEffect)(()=>{if(!a&&"connected"===s){const t=async()=>{const t=(0,_.po)(new Date);let n=null;try{var r,a;n=await(null===(r=e.current)||void 0===r||null===(a=r.getLastTaskResetDate)||void 0===a?void 0:a.call(r))}catch(s){console.warn("\u26a0\ufe0f Failed to check Firebase reset date, falling back to localStorage:",s)}var i,o;(n||(n=localStorage.getItem("lastTaskResetDate")),n!==t)?(console.log("\ud83c\udf05 NEW DAY DETECTED: Performing simple daily reset"),G(new Set),$({}),localStorage.setItem("lastTaskResetDate",t),Promise.all([ge("completedTasks",[]),ge("taskAssignments",{}),null===(i=e.current)||void 0===i||null===(o=i.setLastTaskResetDate)||void 0===o?void 0:o.call(i,t)]).then(()=>{console.log("\u2705 SIMPLE RESET: Daily reset completed and saved")}).catch(e=>{console.error("\u274c SIMPLE RESET: Failed to save:",e)}),Ue(!0),setTimeout(()=>{Ue(!1)},8e3)):n===t&&(localStorage.setItem("lastTaskResetDate",t),console.log("\ud83d\udcc5 Daily reset already completed today, device now synchronized"))},n=setTimeout(t,1e3);return()=>clearTimeout(n)}},[a,s,G,$,ge]),(0,t.useEffect)(()=>{const e=l.find(e=>e.id===ye.id);e&&Ne(e.mood)},[ye.id,l]),(0,t.useEffect)(()=>{if(l.length>0){const e=localStorage.getItem("currentUserName");if(e){const t=l.find(t=>t.name===e);t&&t.id!==ye.id&&we(t)}}},[l,ye.id,we]),(0,t.useEffect)(()=>{P&&P.length>0&&Le(P)},[P]),(0,t.useEffect)(()=>{const e=Qe.length-(t=Qe,re.resolveConflicts(t)).length;var t;Be(e)},[Qe]);(0,t.useCallback)(e=>{Je(t=>[...t,e]),ve(e)},[ve]);(0,t.useEffect)(()=>{const e=()=>{ae.processQueue(async e=>{})};return window.addEventListener("online",e),()=>{window.removeEventListener("online",e)}},[]);const Ze=(0,t.useCallback)(()=>{"connected"===s&&me()},[s,me]),et=(0,t.useCallback)(e=>{V(e),Ze()},[V,Ze]),tt=(0,t.useCallback)(e=>{q(e),Ze()},[q,Ze]),nt=(0,t.useCallback)(e=>{Y(e),Ze()},[Y,Ze]),rt=(0,t.useCallback)(async t=>{console.log("\ud83d\udd25 [CRITICAL-SAVE] Cleaning tasks: About to save completedTasks:",Array.from(t));try{const a=await ge("completedTasks",Array.from(t));if(!0===a){var n,r;console.log("\ud83d\udd12 [CRITICAL-SAVE] CompletedTasks QuickSave confirmed by Firebase."),G(t);const a=await(null===(n=(r=e.current).getCleaningTasksData)||void 0===n?void 0:n.call(r));if(a){Array.from(t).every(e=>{var t,n;return null===(t=a.completedTasks)||void 0===t||null===(n=t.includes)||void 0===n?void 0:n.call(t,e)})?console.log("\u2705 [CRITICAL-SAVE] Completed tasks successfully verified in Firebase."):console.warn("\u26a0\ufe0f [CRITICAL-SAVE] Completed tasks verification failed.",{tasks:t,data:a})}}else console.error("\u274c [CRITICAL-SAVE] CompletedTasks QuickSave failed:",a)}catch(a){console.error("\u274c [CRITICAL-SAVE] CompletedTasks QuickSave error:",a)}},[ge,G]),at=(0,t.useCallback)(async t=>{const n="function"===typeof t?t((0,i.A)({},E)):t;console.log("\ud83d\udd25 [CRITICAL-SAVE] Cleaning tasks: About to save taskAssignments:",n);try{const t=await ge("taskAssignments",n);if(!0===t){var r,a;console.log("\ud83d\udd12 [CRITICAL-SAVE] TaskAssignments QuickSave confirmed by Firebase."),$(()=>n);const t=await(null===(r=(a=e.current).getCleaningTasksData)||void 0===r?void 0:r.call(a));if(t){JSON.stringify(n)===JSON.stringify(t.taskAssignments)?console.log("\u2705 [CRITICAL-SAVE] Task assignments successfully verified in Firebase."):console.warn("\u26a0\ufe0f [CRITICAL-SAVE] Task assignments verification failed.",{newAssignments:n,data:t})}}else console.error("\u274c [CRITICAL-SAVE] TaskAssignments QuickSave failed:",t)}catch(o){console.error("\u274c [CRITICAL-SAVE] TaskAssignments QuickSave error:",o)}},[ge,$,E]),it=(0,t.useCallback)(e=>{X(e),Ze()},[X,Ze]),ot=(0,t.useCallback)(e=>{const t="function"===typeof e?e(Me):e;Le(t),ee(()=>t),Ze()},[Me,ee,Ze]),st=(0,t.useCallback)(()=>{((e,t,n,r)=>{e===N.qw?(t(!0),n("admin"),r("")):alert("Invalid password!")})(Oe,xe,je,Ie),Ae(!1)},[Oe,xe,je,Ie]),lt=l.find(e=>e.id===ye.id),ct=(0,t.useCallback)(()=>{$e(e=>!e),Xe.current&&(Ge?Xe.current.disconnect():Xe.current.connect())},[Ge]),ut=(0,t.useCallback)(async()=>{if(Xe.current)try{console.log("\ud83d\udd04 Refreshing data from all devices...");const e=await Xe.current.refreshDataFromAllDevices();e.employees&&V(e.employees),e.tasks&&q(e.tasks),e.dailyData&&Y(e.dailyData),e.completedTasks&&Array.isArray(e.completedTasks)&&G(new Set(e.completedTasks)),e.taskAssignments&&$(e.taskAssignments),console.log("\u2705 Data refreshed from all devices")}catch(e){console.error("\u274c Failed to refresh from all devices:",e)}else await pe()},[pe,V,q,Y,G,$]);return(0,t.useEffect)(()=>{console.log("\ud83d\udcca SIMPLE RESET DEBUG:",{currentDate:(0,_.po)(new Date),lastResetDate:localStorage.getItem("lastTaskResetDate"),completedTasksCount:k.size,taskAssignmentsCount:Object.keys(E).length,isLoading:a,connectionStatus:s,employeeCount:l.length})},[a,s,l.length,k.size,E]),(0,j.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,j.jsxs)("div",{className:"bg-white shadow-sm border-b",children:[(0,j.jsxs)("div",{className:"px-4 py-3 flex justify-between items-center",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"WorkVibe"}),(0,j.jsxs)("button",{onClick:()=>Ee(!Ce),className:"flex items-center text-sm text-gray-600 hover:text-gray-800 mt-1",children:["Hello, ",ye.name,"!",(0,j.jsxs)("span",{className:"ml-2 bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs font-medium",children:[(null===lt||void 0===lt?void 0:lt.points)||0," pts"]}),(0,j.jsx)(d,{className:"w-4 h-4 ml-1"})]})]}),be&&(0,j.jsx)("div",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:"Admin Mode"})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[be&&(0,j.jsx)("button",{onClick:()=>{Se(),je("mood")},className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg",title:"Logout Admin",children:(0,j.jsx)(h,{className:"w-5 h-5"})}),(0,j.jsx)("button",{onClick:()=>Ae(!0),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg",title:"Admin Login",children:(0,j.jsx)(f,{className:"w-5 h-5"})})]})]}),Ce&&(0,j.jsxs)("div",{className:"absolute top-16 left-4 bg-white border rounded-lg shadow-lg z-40 w-64",children:[(0,j.jsx)("div",{className:"p-3 border-b bg-gray-50",children:(0,j.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Switch Employee"})}),(0,j.jsx)("div",{className:"max-h-64 overflow-y-auto",children:l.map(e=>(0,j.jsxs)("button",{onClick:()=>(we(e),Ee(!1),void je("mood")),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center justify-between ".concat(ye.id===e.id?"bg-blue-50 border-r-2 border-blue-500":""),children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat(1===e.mood?"bg-red-500":2===e.mood?"bg-orange-500":3===e.mood?"bg-yellow-500":4===e.mood?"bg-green-500":"bg-blue-500")}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,j.jsxs)("div",{className:"text-xs text-gray-500",children:[e.role," \u2022 ",e.points," pts"]})]})]}),ye.id===e.id&&(0,j.jsx)(p,{className:"w-4 h-4 text-blue-500"})]},e.id))})]})]}),(0,j.jsx)("div",{className:"bg-white border-b",children:(0,j.jsxs)("div",{className:"flex overflow-x-auto",children:[(0,j.jsxs)("button",{onClick:()=>je("mood"),className:"flex-shrink-0 py-3 px-4 text-center ".concat("mood"===_e?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800"),children:[(0,j.jsx)(m,{className:"w-5 h-5 mx-auto mb-1"}),(0,j.jsx)("span",{className:"text-sm",children:"Mood Tracker"})]}),(0,j.jsxs)("button",{onClick:()=>je("tasks"),className:"flex-shrink-0 py-3 px-4 text-center ".concat("tasks"===_e?"border-b-2 border-blue-500 text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800"),children:[(0,j.jsx)(g,{className:"w-5 h-5 mx-auto mb-1"}),(0,j.jsx)("span",{className:"text-sm",children:"Cleaning Tasks"})]}),(0,j.jsxs)("button",{onClick:()=>je("prep"),className:"flex-shrink-0 py-3 px-4 text-center ".concat("prep"===_e?"border-b-2 border-green-500 text-green-600 bg-green-50":"text-gray-600 hover:text-gray-800"),children:[(0,j.jsx)(v,{className:"w-5 h-5 mx-auto mb-1"}),(0,j.jsx)("span",{className:"text-sm",children:"Prep List"})]}),(0,j.jsxs)("button",{onClick:()=>je("inventory"),className:"flex-shrink-0 py-3 px-4 text-center ".concat("inventory"===_e?"border-b-2 border-orange-500 text-orange-600 bg-orange-50":"text-gray-600 hover:text-gray-800"),children:[(0,j.jsx)(y,{className:"w-5 h-5 mx-auto mb-1"}),(0,j.jsx)("span",{className:"text-sm",children:"Restaurant Inventory"})]}),(0,j.jsxs)("button",{onClick:()=>je("store"),className:"flex-shrink-0 py-3 px-4 text-center ".concat("store"===_e?"border-b-2 border-purple-500 text-purple-600 bg-purple-50":"text-gray-600 hover:text-gray-800"),children:[(0,j.jsx)(b,{className:"w-5 h-5 mx-auto mb-1"}),(0,j.jsx)("span",{className:"text-sm",children:"Store"})]}),be&&(0,j.jsxs)("button",{onClick:()=>je("admin"),className:"flex-shrink-0 py-3 px-4 text-center ".concat("admin"===_e?"border-b-2 border-red-500 text-red-600 bg-red-50":"text-gray-600 hover:text-gray-800"),children:[(0,j.jsx)(f,{className:"w-5 h-5 mx-auto mb-1"}),(0,j.jsx)("span",{className:"text-sm",children:"Admin Panel"})]}),be&&(0,j.jsxs)("button",{onClick:()=>je("reports"),className:"flex-shrink-0 py-3 px-4 text-center ".concat("reports"===_e?"border-b-2 border-orange-500 text-orange-600 bg-orange-50":"text-gray-600 hover:text-gray-800"),children:[(0,j.jsx)(x,{className:"w-5 h-5 mx-auto mb-1"}),(0,j.jsx)("span",{className:"text-sm",children:"Daily Reports"})]})]})}),(0,j.jsxs)("div",{className:"p-4 space-y-6",children:[Fe&&(0,j.jsx)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full mx-4",children:(0,j.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 shadow-lg backdrop-blur-sm",children:(0,j.jsxs)("div",{className:"flex items-start",children:[(0,j.jsx)("div",{className:"flex-shrink-0",children:(0,j.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,j.jsxs)("div",{className:"ml-3 flex-1",children:[(0,j.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"\ud83c\udf05 New Day, Fresh Start!"}),(0,j.jsx)("p",{className:"mt-1 text-sm text-blue-600",children:"All cleaning tasks and assignments have been reset for today. Time to start fresh and earn those points!"})]})]})})}),(0,j.jsx)(Lz,{isLoading:a,lastSync:o,connectionStatus:s,loadFromFirebase:pe,conflictCount:ze,activeDevices:We,syncEvents:Ve,deviceCount:Ke,isMultiDeviceEnabled:Ge,toggleMultiDeviceSync:ct,refreshFromAllDevices:ut}),"mood"===_e&&(0,j.jsx)(C,{currentUser:ye,employees:l,userMood:ke,setUserMood:Ne,setEmployees:et,setDailyData:nt}),"tasks"===_e&&(0,j.jsx)(F,{currentUser:ye,tasks:c,employees:l,completedTasks:k,taskAssignments:E,dailyData:u,setCompletedTasks:rt,setTaskAssignments:at,setDailyData:nt,setEmployees:et,saveToFirebase:me}),"prep"===_e&&(0,j.jsx)(Re,{currentUser:ye,connectionStatus:s,prepItems:A,scheduledPreps:O,prepSelections:I,setPrepItems:Q,setScheduledPreps:J,setPrepSelections:Z,quickSave:ge}),"inventory"===_e&&(0,j.jsx)(Tz,{currentUser:ye,connectionStatus:s,employees:l,isAdmin:be,inventoryDailyItems:D,inventoryWeeklyItems:M,inventoryMonthlyItems:R,inventoryDatabaseItems:L,inventoryActivityLog:U,inventoryCustomCategories:z,stockCountSnapshots:B,dailyInventorySnapshots:W,inventoryHistoricalSnapshots:H,setInventoryDailyItems:te,setInventoryWeeklyItems:ne,setInventoryMonthlyItems:ie,setInventoryDatabaseItems:oe,setInventoryActivityLog:se,setInventoryCustomCategories:le,setStockCountSnapshots:ue,setDailyInventorySnapshots:de,setInventoryHistoricalSnapshots:fe,quickSave:ge}),"store"===_e&&(0,j.jsx)(K,{currentUser:ye,employees:l,storeItems:Me,dailyData:u,setEmployees:et,setDailyData:nt,saveToFirebase:me,quickSave:ge}),"admin"===_e&&be&&(0,j.jsx)(ce,{employees:l,tasks:c,customRoles:T,storeItems:Me,prepItems:A,setEmployees:et,setTasks:tt,setCustomRoles:it,setStoreItems:ot,setPrepItems:Q,quickSave:ge}),"reports"===_e&&be&&(0,j.jsx)(he,{selectedDate:Pe,setSelectedDate:De,dailyData:u,employees:l,connectionStatus:s})]}),Te&&(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,j.jsxs)("div",{className:"bg-white rounded-xl p-6 w-80 mx-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,j.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[(0,j.jsx)(w,{className:"w-5 h-5 mr-2"}),"Admin Access"]}),(0,j.jsx)("button",{onClick:()=>{Ae(!1),Ie("")},className:"text-gray-500 hover:text-gray-700",children:(0,j.jsx)(S,{className:"w-5 h-5"})})]}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsx)("input",{type:"password",placeholder:"Enter admin password",value:Oe,onChange:e=>Ie(e.target.value),onKeyPress:e=>"Enter"===e.key&&st(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),(0,j.jsx)("button",{onClick:st,className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Login"})]})]})}),(Ce||Te)&&(0,j.jsx)("div",{className:"fixed inset-0 z-30",onClick:()=>{Ee(!1),Te||Ae(!1)}})]})},Kz=e=>{let{children:t}=e;return console.log("\ud83e\uddea OfflineDetector bypassed for testing environment"),(0,j.jsx)(j.Fragment,{children:t})};const Yz=function(){return(0,j.jsx)("div",{className:"App",children:(0,j.jsx)(Kz,{children:(0,j.jsx)(qz,{})})})};let Gz;function $z(){const e=document.getElementById("pwa-install-btn");e&&(e.style.display="none")}a.createRoot(document.getElementById("root")).render((0,j.jsx)(t.StrictMode,{children:(0,j.jsx)(Yz,{})})),"serviceWorker"in navigator&&(window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("\u2705 PWA Service Worker registered successfully:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("\ud83d\udd04 New version of WorkVibe available!"),window.confirm("New version of WorkVibe is available! Would you like to update?")&&(t.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(e=>{console.warn("\u26a0\ufe0f PWA Service Worker not available (development mode or missing sw.js):",e.message)}),navigator.serviceWorker.addEventListener("message",e=>{e.data&&"BACKGROUND_SYNC"===e.data.type&&console.log("\ud83d\udd04 Background sync completed")})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("\ud83d\udd04 Service Worker controller changed"),window.location.reload()})),window.addEventListener("beforeinstallprompt",e=>{console.log("\ud83d\udcf1 PWA install prompt triggered"),e.preventDefault(),Gz=e,function(){const e=document.getElementById("pwa-install-btn");e&&(e.style.display="block",e.onclick=async()=>{if(Gz){Gz.prompt();const{outcome:e}=await Gz.userChoice;console.log("PWA install prompt: ".concat(e)),Gz=null,$z()}})}()}),window.addEventListener("appinstalled",()=>{console.log("\ud83c\udf89 WorkVibe PWA was installed successfully!"),Gz=null,$z(),window.gtag&&window.gtag("event","pwa_install",{event_category:"engagement",event_label:"WorkVibe PWA Install"})}),window.addEventListener("online",()=>{console.log("\ud83c\udf10 Back online!")}),window.addEventListener("offline",()=>{console.log("\ud83d\udcf5 Gone offline")}),document.addEventListener("touchstart",e=>{e.touches.length>1&&e.preventDefault()});let Xz=0;function Qz(){const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}document.addEventListener("touchend",e=>{const t=(new Date).getTime();t-Xz<=300&&e.preventDefault(),Xz=t},!1),Qz(),window.addEventListener("resize",Qz),window.addEventListener("orientationchange",()=>{setTimeout(Qz,100)})})()})();